(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";let config,rootDocument;function finder(e,t){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if("html"===e.tagName.toLowerCase())return"html";const n={root:document.body,idName:e=>!0,className:e=>!0,tagName:e=>!0,attr:(e,t)=>!1,seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4};config={...n,...t},rootDocument=findRootDocument(config.root,n);let o=bottomUpSearch(e,"all",()=>bottomUpSearch(e,"two",()=>bottomUpSearch(e,"one",()=>bottomUpSearch(e,"none"))));if(o){const t=sort(optimize(o,e));return t.length>0&&(o=t[0]),selector(o)}throw new Error("Selector was not found.")}function findRootDocument(e,t){return e.nodeType===Node.DOCUMENT_NODE?e:e===t.root?e.ownerDocument:e}function bottomUpSearch(e,t,n){let o=null,r=[],i=e,l=0;for(;i;){let e=maybe(id(i))||maybe(...attr(i))||maybe(...classNames(i))||maybe(tagName(i))||[any()];const a=index(i);if("all"==t)a&&(e=e.concat(e.filter(dispensableNth).map(e=>nthChild(e,a))));else if("two"==t)e=e.slice(0,1),a&&(e=e.concat(e.filter(dispensableNth).map(e=>nthChild(e,a))));else if("one"==t){const[t]=e=e.slice(0,1);a&&dispensableNth(t)&&(e=[nthChild(t,a)])}else"none"==t&&(e=[any()],a&&(e=[nthChild(e[0],a)]));for(let t of e)t.level=l;if(r.push(e),r.length>=config.seedMinLength&&(o=findUniquePath(r,n)))break;i=i.parentElement,l++}return o||(o=findUniquePath(r,n)),!o&&n?n():o}function findUniquePath(e,t){const n=sort(combinations(e));if(n.length>config.threshold)return t?t():null;for(let e of n)if(unique(e))return e;return null}function selector(e){let t=e[0],n=t.name;for(let o=1;o<e.length;o++){const r=e[o].level||0;n=t.level===r-1?`${e[o].name} > ${n}`:`${e[o].name} ${n}`,t=e[o]}return n}function penalty(e){return e.map(e=>e.penalty).reduce((e,t)=>e+t,0)}function unique(e){const t=selector(e);switch(rootDocument.querySelectorAll(t).length){case 0:throw new Error(`Can't select any node with this selector: ${t}`);case 1:return!0;default:return!1}}function id(e){const t=e.getAttribute("id");return t&&config.idName(t)?{name:"#"+CSS.escape(t),penalty:0}:null}function attr(e){return Array.from(e.attributes).filter(e=>config.attr(e.name,e.value)).map(e=>({name:`[${CSS.escape(e.name)}="${CSS.escape(e.value)}"]`,penalty:.5}))}function classNames(e){return Array.from(e.classList).filter(config.className).map(e=>({name:"."+CSS.escape(e),penalty:1}))}function tagName(e){const t=e.tagName.toLowerCase();return config.tagName(t)?{name:t,penalty:2}:null}function any(){return{name:"*",penalty:3}}function index(e){const t=e.parentNode;if(!t)return null;let n=t.firstChild;if(!n)return null;let o=0;for(;n&&(n.nodeType===Node.ELEMENT_NODE&&o++,n!==e);)n=n.nextSibling;return o}function nthChild(e,t){return{name:e.name+`:nth-child(${t})`,penalty:e.penalty+1}}function dispensableNth(e){return"html"!==e.name&&!e.name.startsWith("#")}function maybe(...e){const t=e.filter(notEmpty);return t.length>0?t:null}function notEmpty(e){return null!=e}function*combinations(e,t=[]){if(e.length>0)for(let n of e[0])yield*combinations(e.slice(1,e.length),t.concat(n));else yield t}function sort(e){return[...e].sort((e,t)=>penalty(e)-penalty(t))}function*optimize(e,t,n={counter:0,visited:new Map}){if(e.length>2&&e.length>config.optimizedMinLength)for(let o=1;o<e.length-1;o++){if(n.counter>config.maxNumberOfTries)return;n.counter+=1;const r=[...e];r.splice(o,1);const i=selector(r);if(n.visited.has(i))return;unique(r)&&same(r,t)&&(yield r,n.visited.set(i,!0),yield*optimize(r,t,n))}}function same(e,t){return rootDocument.querySelector(selector(e))===t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.finder=finder;

},{}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.all=exports.VERSION=exports.HttpStatusCode=exports.CanceledError=exports.CancelToken=exports.Cancel=exports.AxiosHeaders=exports.AxiosError=exports.Axios=void 0,Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return _axios.default}}),exports.toFormData=exports.spread=exports.mergeConfig=exports.isCancel=exports.isAxiosError=exports.getAdapter=exports.formToJSON=void 0;var _axios=_interopRequireDefault(require("./lib/axios.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const{Axios:Axios,AxiosError:AxiosError,CanceledError:CanceledError,isCancel:isCancel,CancelToken:CancelToken,VERSION:VERSION,all:all,Cancel:Cancel,isAxiosError:isAxiosError,spread:spread,toFormData:toFormData,AxiosHeaders:AxiosHeaders,HttpStatusCode:HttpStatusCode,formToJSON:formToJSON,getAdapter:getAdapter,mergeConfig:mergeConfig}=_axios.default;exports.mergeConfig=mergeConfig,exports.getAdapter=getAdapter,exports.formToJSON=formToJSON,exports.HttpStatusCode=HttpStatusCode,exports.AxiosHeaders=AxiosHeaders,exports.toFormData=toFormData,exports.spread=spread,exports.isAxiosError=isAxiosError,exports.Cancel=Cancel,exports.all=all,exports.VERSION=VERSION,exports.CancelToken=CancelToken,exports.isCancel=isCancel,exports.CanceledError=CanceledError,exports.AxiosError=AxiosError,exports.Axios=Axios;

},{"./lib/axios.js":6}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=_interopRequireDefault(require("../utils.js")),_http=_interopRequireDefault(require("./http.js")),_xhr=_interopRequireDefault(require("./xhr.js")),_fetch=_interopRequireDefault(require("./fetch.js")),_AxiosError=_interopRequireDefault(require("../core/AxiosError.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const knownAdapters={http:_http.default,xhr:_xhr.default,fetch:_fetch.default};_utils.default.forEach(knownAdapters,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});const renderReason=e=>`- ${e}`,isResolvedHandle=e=>_utils.default.isFunction(e)||null===e||!1===e;var _default={getAdapter:e=>{e=_utils.default.isArray(e)?e:[e];const{length:t}=e;let r,a;const n={};for(let i=0;i<t;i++){let t;if(a=r=e[i],!isResolvedHandle(r)&&void 0===(a=knownAdapters[(t=String(r)).toLowerCase()]))throw new _AxiosError.default(`Unknown adapter '${t}'`);if(a)break;n[t||"#"+i]=a}if(!a){const e=Object.entries(n).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));let r=t?e.length>1?"since :\n"+e.map(renderReason).join("\n"):" "+renderReason(e[0]):"as no adapter specified";throw new _AxiosError.default("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return a},adapters:knownAdapters};exports.default=_default;

},{"../core/AxiosError.js":11,"../utils.js":51,"./fetch.js":4,"./http.js":33,"./xhr.js":5}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _index=_interopRequireDefault(require("../platform/index.js")),_utils=_interopRequireDefault(require("../utils.js")),_AxiosError=_interopRequireDefault(require("../core/AxiosError.js")),_composeSignals=_interopRequireDefault(require("../helpers/composeSignals.js")),_trackStream=require("../helpers/trackStream.js"),_AxiosHeaders=_interopRequireDefault(require("../core/AxiosHeaders.js")),_progressEventReducer=require("../helpers/progressEventReducer.js"),_resolveConfig=_interopRequireDefault(require("../helpers/resolveConfig.js")),_settle=_interopRequireDefault(require("../core/settle.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const isFetchSupported="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,isReadableStreamSupported=isFetchSupported&&"function"==typeof ReadableStream,encodeText=isFetchSupported&&("function"==typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),test=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let e=!1;const t=new Request(_index.default.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),DEFAULT_CHUNK_SIZE=65536,supportsResponseStream=isReadableStreamSupported&&test(()=>_utils.default.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(e=>e.body)};isFetchSupported&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!resolvers[t]&&(resolvers[t]=_utils.default.isFunction(e[t])?e=>e[t]():(e,r)=>{throw new _AxiosError.default(`Response type '${t}' is not supported`,_AxiosError.default.ERR_NOT_SUPPORT,r)})})})(new Response);const getBodyLength=async e=>null==e?0:_utils.default.isBlob(e)?e.size:_utils.default.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:_utils.default.isArrayBufferView(e)||_utils.default.isArrayBuffer(e)?e.byteLength:(_utils.default.isURLSearchParams(e)&&(e+=""),_utils.default.isString(e)?(await encodeText(e)).byteLength:void 0),resolveBodyLength=async(e,t)=>{const r=_utils.default.toFiniteNumber(e.getContentLength());return null==r?getBodyLength(t):r};var _default=isFetchSupported&&(async e=>{let{url:t,method:r,data:s,signal:o,cancelToken:a,timeout:n,onDownloadProgress:u,onUploadProgress:i,responseType:l,headers:d,withCredentials:p="same-origin",fetchOptions:c}=(0,_resolveConfig.default)(e);l=l?(l+"").toLowerCase():"text";let f,_,[h,R]=o||a||n?(0,_composeSignals.default)([o,a],n):[];const m=()=>{!f&&setTimeout(()=>{h&&h.unsubscribe()}),f=!0};let g;try{if(i&&supportsRequestStream&&"get"!==r&&"head"!==r&&0!==(g=await resolveBodyLength(d,s))){let e,r=new Request(t,{method:"POST",body:s,duplex:"half"});if(_utils.default.isFormData(s)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=(0,_progressEventReducer.progressEventDecorator)(g,(0,_progressEventReducer.progressEventReducer)((0,_progressEventReducer.asyncDecorator)(i)));s=(0,_trackStream.trackStream)(r.body,65536,e,t,encodeText)}}_utils.default.isString(p)||(p=p?"include":"omit"),_=new Request(t,{...c,signal:h,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:p});let o=await fetch(_);const a=supportsResponseStream&&("stream"===l||"response"===l);if(supportsResponseStream&&(u||a)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=o[t]});const t=_utils.default.toFiniteNumber(o.headers.get("content-length")),[r,s]=u&&(0,_progressEventReducer.progressEventDecorator)(t,(0,_progressEventReducer.progressEventReducer)((0,_progressEventReducer.asyncDecorator)(u),!0))||[];o=new Response((0,_trackStream.trackStream)(o.body,65536,r,()=>{s&&s(),a&&m()},encodeText),e)}l=l||"text";let n=await resolvers[_utils.default.findKey(resolvers,l)||"text"](o,e);return!a&&m(),R&&R(),await new Promise((t,r)=>{(0,_settle.default)(t,r,{data:n,headers:_AxiosHeaders.default.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:_})})}catch(t){if(m(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new _AxiosError.default("Network Error",_AxiosError.default.ERR_NETWORK,e,_),{cause:t.cause||t});throw _AxiosError.default.from(t,t&&t.code,e,_)}});exports.default=_default;

},{"../core/AxiosError.js":11,"../core/AxiosHeaders.js":12,"../core/settle.js":17,"../helpers/composeSignals.js":27,"../helpers/progressEventReducer.js":36,"../helpers/resolveConfig.js":37,"../helpers/trackStream.js":43,"../platform/index.js":50,"../utils.js":51}],5:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=_interopRequireDefault(require("./../utils.js")),_settle=_interopRequireDefault(require("./../core/settle.js")),_transitional=_interopRequireDefault(require("../defaults/transitional.js")),_AxiosError=_interopRequireDefault(require("../core/AxiosError.js")),_CanceledError=_interopRequireDefault(require("../cancel/CanceledError.js")),_parseProtocol=_interopRequireDefault(require("../helpers/parseProtocol.js")),_index=_interopRequireDefault(require("../platform/index.js")),_AxiosHeaders=_interopRequireDefault(require("../core/AxiosHeaders.js")),_progressEventReducer=require("../helpers/progressEventReducer.js"),_resolveConfig=_interopRequireDefault(require("../helpers/resolveConfig.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const isXHRAdapterSupported="undefined"!=typeof XMLHttpRequest;var _default=isXHRAdapterSupported&&function(e){return new Promise(function(r,t){const o=(0,_resolveConfig.default)(e);let s=o.data;const n=_AxiosHeaders.default.from(o.headers).normalize();let u,i,a,l,d,{responseType:f,onUploadProgress:p,onDownloadProgress:c}=o;function _(){l&&l(),d&&d(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let E=new XMLHttpRequest;function R(){if(!E)return;const o=_AxiosHeaders.default.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),s={data:f&&"text"!==f&&"json"!==f?E.response:E.responseText,status:E.status,statusText:E.statusText,headers:o,config:e,request:E};(0,_settle.default)(function(e){r(e),_()},function(e){t(e),_()},s),E=null}E.open(o.method.toUpperCase(),o.url,!0),E.timeout=o.timeout,"onloadend"in E?E.onloadend=R:E.onreadystatechange=function(){E&&4===E.readyState&&(0!==E.status||E.responseURL&&0===E.responseURL.indexOf("file:"))&&setTimeout(R)},E.onabort=function(){E&&(t(new _AxiosError.default("Request aborted",_AxiosError.default.ECONNABORTED,e,E)),E=null)},E.onerror=function(){t(new _AxiosError.default("Network Error",_AxiosError.default.ERR_NETWORK,e,E)),E=null},E.ontimeout=function(){let r=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const s=o.transitional||_transitional.default;o.timeoutErrorMessage&&(r=o.timeoutErrorMessage),t(new _AxiosError.default(r,s.clarifyTimeoutError?_AxiosError.default.ETIMEDOUT:_AxiosError.default.ECONNABORTED,e,E)),E=null},void 0===s&&n.setContentType(null),"setRequestHeader"in E&&_utils.default.forEach(n.toJSON(),function(e,r){E.setRequestHeader(r,e)}),_utils.default.isUndefined(o.withCredentials)||(E.withCredentials=!!o.withCredentials),f&&"json"!==f&&(E.responseType=o.responseType),c&&([a,d]=(0,_progressEventReducer.progressEventReducer)(c,!0),E.addEventListener("progress",a)),p&&E.upload&&([i,l]=(0,_progressEventReducer.progressEventReducer)(p),E.upload.addEventListener("progress",i),E.upload.addEventListener("loadend",l)),(o.cancelToken||o.signal)&&(u=(r=>{E&&(t(!r||r.type?new _CanceledError.default(null,e,E):r),E.abort(),E=null)}),o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const x=(0,_parseProtocol.default)(o.url);x&&-1===_index.default.protocols.indexOf(x)?t(new _AxiosError.default("Unsupported protocol "+x+":",_AxiosError.default.ERR_BAD_REQUEST,e)):E.send(s||null)})};exports.default=_default;

},{"../cancel/CanceledError.js":8,"../core/AxiosError.js":11,"../core/AxiosHeaders.js":12,"../defaults/transitional.js":20,"../helpers/parseProtocol.js":35,"../helpers/progressEventReducer.js":36,"../helpers/resolveConfig.js":37,"../platform/index.js":50,"./../core/settle.js":17,"./../utils.js":51}],6:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=_interopRequireDefault(require("./utils.js")),_bind=_interopRequireDefault(require("./helpers/bind.js")),_Axios=_interopRequireDefault(require("./core/Axios.js")),_mergeConfig=_interopRequireDefault(require("./core/mergeConfig.js")),_index=_interopRequireDefault(require("./defaults/index.js")),_formDataToJSON=_interopRequireDefault(require("./helpers/formDataToJSON.js")),_CanceledError=_interopRequireDefault(require("./cancel/CanceledError.js")),_CancelToken=_interopRequireDefault(require("./cancel/CancelToken.js")),_isCancel=_interopRequireDefault(require("./cancel/isCancel.js")),_data=require("./env/data.js"),_toFormData=_interopRequireDefault(require("./helpers/toFormData.js")),_AxiosError=_interopRequireDefault(require("./core/AxiosError.js")),_spread=_interopRequireDefault(require("./helpers/spread.js")),_isAxiosError=_interopRequireDefault(require("./helpers/isAxiosError.js")),_AxiosHeaders=_interopRequireDefault(require("./core/AxiosHeaders.js")),_adapters=_interopRequireDefault(require("./adapters/adapters.js")),_HttpStatusCode=_interopRequireDefault(require("./helpers/HttpStatusCode.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function createInstance(e){const r=new _Axios.default(e),a=(0,_bind.default)(_Axios.default.prototype.request,r);return _utils.default.extend(a,_Axios.default.prototype,r,{allOwnKeys:!0}),_utils.default.extend(a,r,null,{allOwnKeys:!0}),a.create=function(r){return createInstance((0,_mergeConfig.default)(e,r))},a}const axios=createInstance(_index.default);axios.Axios=_Axios.default,axios.CanceledError=_CanceledError.default,axios.CancelToken=_CancelToken.default,axios.isCancel=_isCancel.default,axios.VERSION=_data.VERSION,axios.toFormData=_toFormData.default,axios.AxiosError=_AxiosError.default,axios.Cancel=axios.CanceledError,axios.all=function(e){return Promise.all(e)},axios.spread=_spread.default,axios.isAxiosError=_isAxiosError.default,axios.mergeConfig=_mergeConfig.default,axios.AxiosHeaders=_AxiosHeaders.default,axios.formToJSON=(e=>(0,_formDataToJSON.default)(_utils.default.isHTMLForm(e)?new FormData(e):e)),axios.getAdapter=_adapters.default.getAdapter,axios.HttpStatusCode=_HttpStatusCode.default,axios.default=axios;var _default=axios;exports.default=_default;

},{"./adapters/adapters.js":3,"./cancel/CancelToken.js":7,"./cancel/CanceledError.js":8,"./cancel/isCancel.js":9,"./core/Axios.js":10,"./core/AxiosError.js":11,"./core/AxiosHeaders.js":12,"./core/mergeConfig.js":16,"./defaults/index.js":19,"./env/data.js":21,"./helpers/HttpStatusCode.js":23,"./helpers/bind.js":24,"./helpers/formDataToJSON.js":29,"./helpers/isAxiosError.js":31,"./helpers/spread.js":39,"./helpers/toFormData.js":41,"./utils.js":51}],7:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _CanceledError=_interopRequireDefault(require("./CanceledError.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class CancelToken{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const s=this;this.promise.then(e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null}),this.promise.then=(e=>{let t;const r=new Promise(e=>{s.subscribe(e),t=e}).then(e);return r.cancel=function(){s.unsubscribe(t)},r}),e(function(e,r,n){s.reason||(s.reason=new _CanceledError.default(e,r,n),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new CancelToken(function(t){e=t}),cancel:e}}}var _default=CancelToken;exports.default=_default;

},{"./CanceledError.js":8}],8:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _AxiosError=_interopRequireDefault(require("../core/AxiosError.js")),_utils=_interopRequireDefault(require("../utils.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function CanceledError(e,r,t){_AxiosError.default.call(this,null==e?"canceled":e,_AxiosError.default.ERR_CANCELED,r,t),this.name="CanceledError"}_utils.default.inherits(CanceledError,_AxiosError.default,{__CANCEL__:!0});var _default=CanceledError;exports.default=_default;

},{"../core/AxiosError.js":11,"../utils.js":51}],9:[function(require,module,exports){
"use strict";function isCancel(e){return!(!e||!e.__CANCEL__)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isCancel;

},{}],10:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=_interopRequireDefault(require("./../utils.js")),_buildURL=_interopRequireDefault(require("../helpers/buildURL.js")),_InterceptorManager=_interopRequireDefault(require("./InterceptorManager.js")),_dispatchRequest=_interopRequireDefault(require("./dispatchRequest.js")),_mergeConfig=_interopRequireDefault(require("./mergeConfig.js")),_buildFullPath=_interopRequireDefault(require("./buildFullPath.js")),_validator=_interopRequireDefault(require("../helpers/validator.js")),_AxiosHeaders=_interopRequireDefault(require("./AxiosHeaders.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const validators=_validator.default.validators;class Axios{constructor(e){this.defaults=e,this.interceptors={request:new _InterceptorManager.default,response:new _InterceptorManager.default}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=(0,_mergeConfig.default)(this.defaults,t);const{transitional:r,paramsSerializer:a,headers:i}=t;void 0!==r&&_validator.default.assertOptions(r,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),null!=a&&(_utils.default.isFunction(a)?t.paramsSerializer={serialize:a}:_validator.default.assertOptions(a,{encode:validators.function,serialize:validators.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&_utils.default.merge(i.common,i[t.method]);i&&_utils.default.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=_AxiosHeaders.default.concat(s,i);const o=[];let u=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(u=u&&e.synchronous,o.unshift(e.fulfilled,e.rejected))});const l=[];let n;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,c=0;if(!u){const e=[_dispatchRequest.default.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),d=e.length,n=Promise.resolve(t);c<d;)n=n.then(e[c++],e[c++]);return n}d=o.length;let f=t;for(c=0;c<d;){const e=o[c++],t=o[c++];try{f=e(f)}catch(e){t.call(this,e);break}}try{n=_dispatchRequest.default.call(this,f)}catch(e){return Promise.reject(e)}for(c=0,d=l.length;c<d;)n=n.then(l[c++],l[c++]);return n}getUri(e){e=(0,_mergeConfig.default)(this.defaults,e);const t=(0,_buildFullPath.default)(e.baseURL,e.url);return(0,_buildURL.default)(t,e.params,e.paramsSerializer)}}_utils.default.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(t,r){return this.request((0,_mergeConfig.default)(r||{},{method:e,url:t,data:(r||{}).data}))}}),_utils.default.forEach(["post","put","patch"],function(e){function t(t){return function(r,a,i){return this.request((0,_mergeConfig.default)(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:a}))}}Axios.prototype[e]=t(),Axios.prototype[e+"Form"]=t(!0)});var _default=Axios;exports.default=_default;

},{"../helpers/buildURL.js":25,"../helpers/validator.js":44,"./../utils.js":51,"./AxiosHeaders.js":12,"./InterceptorManager.js":13,"./buildFullPath.js":14,"./dispatchRequest.js":15,"./mergeConfig.js":16}],11:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=_interopRequireDefault(require("../utils.js"));function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}function AxiosError(r,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o)}_utils.default.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_utils.default.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{descriptors[r]={value:r}}),Object.defineProperties(AxiosError,descriptors),Object.defineProperty(prototype,"isAxiosError",{value:!0}),AxiosError.from=((r,e,t,s,o,i)=>{const u=Object.create(prototype);return _utils.default.toFlatObject(r,u,function(r){return r!==Error.prototype},r=>"isAxiosError"!==r),AxiosError.call(u,r.message,e,t,s,o),u.cause=r,u.name=r.name,i&&Object.assign(u,i),u});var _default=AxiosError;exports.default=_default;

},{"../utils.js":51}],12:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=_interopRequireDefault(require("../utils.js")),_parseHeaders=_interopRequireDefault(require("../helpers/parseHeaders.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const $internals=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return!1===e||null==e?e:_utils.default.isArray(e)?e.map(normalizeValue):String(e)}function parseTokens(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,t,r,s,i){return _utils.default.isFunction(s)?s.call(this,t,r):(i&&(t=r),_utils.default.isString(t)?_utils.default.isString(s)?-1!==t.indexOf(s):_utils.default.isRegExp(s)?s.test(t):void 0:void 0)}function formatHeader(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function buildAccessors(e,t){const r=_utils.default.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(e,r,i){return this[s].call(this,t,e,r,i)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function i(e,t,r){const i=normalizeHeader(t);if(!i)throw new Error("header name must be a non-empty string");const n=_utils.default.findKey(s,i);(!n||void 0===s[n]||!0===r||void 0===r&&!1!==s[n])&&(s[n||t]=normalizeValue(e))}const n=(e,t)=>_utils.default.forEach(e,(e,r)=>i(e,r,t));if(_utils.default.isPlainObject(e)||e instanceof this.constructor)n(e,t);else if(_utils.default.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))n((0,_parseHeaders.default)(e),t);else if(_utils.default.isHeaders(e))for(const[t,s]of e.entries())i(s,t,r);else null!=e&&i(t,e,r);return this}get(e,t){if(e=normalizeHeader(e)){const r=_utils.default.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return parseTokens(e);if(_utils.default.isFunction(t))return t.call(this,e,r);if(_utils.default.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=normalizeHeader(e)){const r=_utils.default.findKey(this,e);return!(!r||void 0===this[r]||t&&!matchHeaderValue(this,this[r],r,t))}return!1}delete(e,t){const r=this;let s=!1;function i(e){if(e=normalizeHeader(e)){const i=_utils.default.findKey(r,e);!i||t&&!matchHeaderValue(r,r[i],i,t)||(delete r[i],s=!0)}}return _utils.default.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const i=t[r];e&&!matchHeaderValue(this,this[i],i,e,!0)||(delete this[i],s=!0)}return s}normalize(e){const t=this,r={};return _utils.default.forEach(this,(s,i)=>{const n=_utils.default.findKey(r,i);if(n)return t[n]=normalizeValue(s),void delete t[i];const a=e?formatHeader(i):String(i).trim();a!==i&&delete t[i],t[a]=normalizeValue(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return _utils.default.forEach(this,(r,s)=>{null!=r&&!1!==r&&(t[s]=e&&_utils.default.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(e=>r.set(e)),r}static accessor(e){const t=(this[$internals]=this[$internals]={accessors:{}}).accessors,r=this.prototype;function s(e){const s=normalizeHeader(e);t[s]||(buildAccessors(r,e),t[s]=!0)}return _utils.default.isArray(e)?e.forEach(s):s(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),_utils.default.reduceDescriptors(AxiosHeaders.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}),_utils.default.freezeMethods(AxiosHeaders);var _default=AxiosHeaders;exports.default=_default;

},{"../helpers/parseHeaders.js":34,"../utils.js":51}],13:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=_interopRequireDefault(require("./../utils.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class InterceptorManager{constructor(){this.handlers=[]}use(e,r,t){return this.handlers.push({fulfilled:e,rejected:r,synchronous:!!t&&t.synchronous,runWhen:t?t.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_utils.default.forEach(this.handlers,function(r){null!==r&&e(r)})}}var _default=InterceptorManager;exports.default=_default;

},{"./../utils.js":51}],14:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=buildFullPath;var _isAbsoluteURL=_interopRequireDefault(require("../helpers/isAbsoluteURL.js")),_combineURLs=_interopRequireDefault(require("../helpers/combineURLs.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function buildFullPath(e,u){return e&&!(0,_isAbsoluteURL.default)(u)?(0,_combineURLs.default)(e,u):u}

},{"../helpers/combineURLs.js":26,"../helpers/isAbsoluteURL.js":30}],15:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=dispatchRequest;var _transformData=_interopRequireDefault(require("./transformData.js")),_isCancel=_interopRequireDefault(require("../cancel/isCancel.js")),_index=_interopRequireDefault(require("../defaults/index.js")),_CanceledError=_interopRequireDefault(require("../cancel/CanceledError.js")),_AxiosHeaders=_interopRequireDefault(require("../core/AxiosHeaders.js")),_adapters=_interopRequireDefault(require("../adapters/adapters.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _CanceledError.default(null,e)}function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=_AxiosHeaders.default.from(e.headers),e.data=_transformData.default.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),_adapters.default.getAdapter(e.adapter||_index.default.adapter)(e).then(function(r){return throwIfCancellationRequested(e),r.data=_transformData.default.call(e,e.transformResponse,r),r.headers=_AxiosHeaders.default.from(r.headers),r},function(r){return(0,_isCancel.default)(r)||(throwIfCancellationRequested(e),r&&r.response&&(r.response.data=_transformData.default.call(e,e.transformResponse,r.response),r.response.headers=_AxiosHeaders.default.from(r.response.headers))),Promise.reject(r)})}

},{"../adapters/adapters.js":3,"../cancel/CanceledError.js":8,"../cancel/isCancel.js":9,"../core/AxiosHeaders.js":12,"../defaults/index.js":19,"./transformData.js":18}],16:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=mergeConfig;var _utils=_interopRequireDefault(require("../utils.js")),_AxiosHeaders=_interopRequireDefault(require("./AxiosHeaders.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const headersToObject=e=>e instanceof _AxiosHeaders.default?{...e}:e;function mergeConfig(e,t){t=t||{};const i={};function s(e,t,i){return _utils.default.isPlainObject(e)&&_utils.default.isPlainObject(t)?_utils.default.merge.call({caseless:i},e,t):_utils.default.isPlainObject(t)?_utils.default.merge({},t):_utils.default.isArray(t)?t.slice():t}function n(e,t,i){return _utils.default.isUndefined(t)?_utils.default.isUndefined(e)?void 0:s(void 0,e,i):s(e,t,i)}function r(e,t){if(!_utils.default.isUndefined(t))return s(void 0,t)}function o(e,t){return _utils.default.isUndefined(t)?_utils.default.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function u(i,n,r){return r in t?s(i,n):r in e?s(void 0,i):void 0}const a={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:(e,t)=>n(headersToObject(e),headersToObject(t),!0)};return _utils.default.forEach(Object.keys(Object.assign({},e,t)),function(s){const r=a[s]||n,o=r(e[s],t[s],s);_utils.default.isUndefined(o)&&r!==u||(i[s]=o)}),i}

},{"../utils.js":51,"./AxiosHeaders.js":12}],17:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=settle;var _AxiosError=_interopRequireDefault(require("./AxiosError.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function settle(e,t,r){const s=r.config.validateStatus;r.status&&s&&!s(r.status)?t(new _AxiosError.default("Request failed with status code "+r.status,[_AxiosError.default.ERR_BAD_REQUEST,_AxiosError.default.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}

},{"./AxiosError.js":11}],18:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=transformData;var _utils=_interopRequireDefault(require("./../utils.js")),_index=_interopRequireDefault(require("../defaults/index.js")),_AxiosHeaders=_interopRequireDefault(require("../core/AxiosHeaders.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function transformData(e,t){const r=this||_index.default,u=t||r,a=_AxiosHeaders.default.from(u.headers);let i=u.data;return _utils.default.forEach(e,function(e){i=e.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}

},{"../core/AxiosHeaders.js":12,"../defaults/index.js":19,"./../utils.js":51}],19:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=_interopRequireDefault(require("../utils.js")),_AxiosError=_interopRequireDefault(require("../core/AxiosError.js")),_transitional=_interopRequireDefault(require("./transitional.js")),_toFormData=_interopRequireDefault(require("../helpers/toFormData.js")),_toURLEncodedForm=_interopRequireDefault(require("../helpers/toURLEncodedForm.js")),_index=_interopRequireDefault(require("../platform/index.js")),_formDataToJSON=_interopRequireDefault(require("../helpers/formDataToJSON.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function stringifySafely(e,t,r){if(_utils.default.isString(e))try{return(t||JSON.parse)(e),_utils.default.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}const defaults={transitional:_transitional.default,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=_utils.default.isObject(e);if(a&&_utils.default.isHTMLForm(e)&&(e=new FormData(e)),_utils.default.isFormData(e))return i?JSON.stringify((0,_formDataToJSON.default)(e)):e;if(_utils.default.isArrayBuffer(e)||_utils.default.isBuffer(e)||_utils.default.isStream(e)||_utils.default.isFile(e)||_utils.default.isBlob(e)||_utils.default.isReadableStream(e))return e;if(_utils.default.isArrayBufferView(e))return e.buffer;if(_utils.default.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return(0,_toURLEncodedForm.default)(e,this.formSerializer).toString();if((s=_utils.default.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return(0,_toFormData.default)(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const t=this.transitional||defaults.transitional,r=t&&t.forcedJSONParsing,i="json"===this.responseType;if(_utils.default.isResponse(e)||_utils.default.isReadableStream(e))return e;if(e&&_utils.default.isString(e)&&(r&&!this.responseType||i)){const r=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw _AxiosError.default.from(e,_AxiosError.default.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_index.default.classes.FormData,Blob:_index.default.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_utils.default.forEach(["delete","get","head","post","put","patch"],e=>{defaults.headers[e]={}});var _default=defaults;exports.default=_default;

},{"../core/AxiosError.js":11,"../helpers/formDataToJSON.js":29,"../helpers/toFormData.js":41,"../helpers/toURLEncodedForm.js":42,"../platform/index.js":50,"../utils.js":51,"./transitional.js":20}],20:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};exports.default=_default;

},{}],21:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VERSION=void 0;const VERSION="1.7.4";exports.VERSION="1.7.4";

},{}],22:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _toFormData=_interopRequireDefault(require("./toFormData.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function encode(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(t){return e[t]})}function AxiosURLSearchParams(t,e){this._pairs=[],t&&(0,_toFormData.default)(t,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(t,e){this._pairs.push([t,e])},prototype.toString=function(t){const e=t?function(e){return t.call(this,e,encode)}:encode;return this._pairs.map(function(t){return e(t[0])+"="+e(t[1])},"").join("&")};var _default=AxiosURLSearchParams;exports.default=_default;

},{"./toFormData.js":41}],23:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([e,t])=>{HttpStatusCode[t]=e});var _default=HttpStatusCode;exports.default=_default;

},{}],24:[function(require,module,exports){
"use strict";function bind(e,t){return function(){return e.apply(t,arguments)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=bind;

},{}],25:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=buildURL;var _utils=_interopRequireDefault(require("../utils.js")),_AxiosURLSearchParams=_interopRequireDefault(require("../helpers/AxiosURLSearchParams.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,r,i){if(!r)return e;const t=i&&i.encode||encode,a=i&&i.serialize;let u;if(u=a?a(r,i):_utils.default.isURLSearchParams(r)?r.toString():new _AxiosURLSearchParams.default(r,i).toString(t)){const r=e.indexOf("#");-1!==r&&(e=e.slice(0,r)),e+=(-1===e.indexOf("?")?"?":"&")+u}return e}

},{"../helpers/AxiosURLSearchParams.js":22,"../utils.js":51}],26:[function(require,module,exports){
"use strict";function combineURLs(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=combineURLs;

},{}],27:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _CanceledError=_interopRequireDefault(require("../cancel/CanceledError.js")),_AxiosError=_interopRequireDefault(require("../core/AxiosError.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const composeSignals=(e,r)=>{let o,t=new AbortController;const n=function(e){if(!o){o=!0,a();const r=e instanceof Error?e:this.reason;t.abort(r instanceof _AxiosError.default?r:new _CanceledError.default(r instanceof Error?r.message:r))}};let s=r&&setTimeout(()=>{n(new _AxiosError.default(`timeout ${r} of ms exceeded`,_AxiosError.default.ETIMEDOUT))},r);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e&&(e.removeEventListener?e.removeEventListener("abort",n):e.unsubscribe(n))}),e=null)};e.forEach(e=>e&&e.addEventListener&&e.addEventListener("abort",n));const{signal:i}=t;return i.unsubscribe=a,[i,()=>{s&&clearTimeout(s),s=null}]};var _default=composeSignals;exports.default=_default;

},{"../cancel/CanceledError.js":8,"../core/AxiosError.js":11}],28:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=_interopRequireDefault(require("./../utils.js")),_index=_interopRequireDefault(require("../platform/index.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default=_index.default.hasStandardBrowserEnv?{write(e,t,r,u,i,o){const n=[e+"="+encodeURIComponent(t)];_utils.default.isNumber(r)&&n.push("expires="+new Date(r).toGMTString()),_utils.default.isString(u)&&n.push("path="+u),_utils.default.isString(i)&&n.push("domain="+i),!0===o&&n.push("secure"),document.cookie=n.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};exports.default=_default;

},{"../platform/index.js":50,"./../utils.js":51}],29:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=_interopRequireDefault(require("../utils.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function parsePropPath(t){return _utils.default.matchAll(/\w+|\[(\w*)]/g,t).map(t=>"[]"===t[0]?"":t[1]||t[0])}function arrayToObject(t){const e={},r=Object.keys(t);let u;const a=r.length;let l;for(u=0;u<a;u++)e[l=r[u]]=t[l];return e}function formDataToJSON(t){if(_utils.default.isFormData(t)&&_utils.default.isFunction(t.entries)){const e={};return _utils.default.forEachEntry(t,(t,r)=>{!function t(e,r,u,a){let l=e[a++];if("__proto__"===l)return!0;const i=Number.isFinite(+l),n=a>=e.length;return l=!l&&_utils.default.isArray(u)?u.length:l,n?(_utils.default.hasOwnProp(u,l)?u[l]=[u[l],r]:u[l]=r,!i):(u[l]&&_utils.default.isObject(u[l])||(u[l]=[]),t(e,r,u[l],a)&&_utils.default.isArray(u[l])&&(u[l]=arrayToObject(u[l])),!i)}(parsePropPath(t),r,e,0)}),e}return null}var _default=formDataToJSON;exports.default=_default;

},{"../utils.js":51}],30:[function(require,module,exports){
"use strict";function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isAbsoluteURL;

},{}],31:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isAxiosError;var _utils=_interopRequireDefault(require("./../utils.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function isAxiosError(e){return _utils.default.isObject(e)&&!0===e.isAxiosError}

},{"./../utils.js":51}],32:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=_interopRequireDefault(require("./../utils.js")),_index=_interopRequireDefault(require("../platform/index.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default=_index.default.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function o(r){let o=r;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return r=o(window.location.href),function(e){const t=_utils.default.isString(e)?o(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0};exports.default=_default;

},{"../platform/index.js":50,"./../utils.js":51}],33:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=null;exports.default=_default;

},{}],34:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=_interopRequireDefault(require("./../utils.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const ignoreDuplicateOf=_utils.default.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var _default=e=>{const t={};let i,r,o;return e&&e.split("\n").forEach(function(e){o=e.indexOf(":"),i=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!i||t[i]&&ignoreDuplicateOf[i]||("set-cookie"===i?t[i]?t[i].push(r):t[i]=[r]:t[i]=t[i]?t[i]+", "+r:r)}),t};exports.default=_default;

},{"./../utils.js":51}],35:[function(require,module,exports){
"use strict";function parseProtocol(e){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return o&&o[1]||""}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=parseProtocol;

},{}],36:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.progressEventReducer=exports.progressEventDecorator=exports.asyncDecorator=void 0;var _speedometer2=_interopRequireDefault(require("./speedometer.js")),_throttle=_interopRequireDefault(require("./throttle.js")),_utils=_interopRequireDefault(require("../utils.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const progressEventReducer=(e,t,r=3)=>{let o=0;const s=(0,_speedometer2.default)(50,250);return(0,_throttle.default)(r=>{const a=r.loaded,l=r.lengthComputable?r.total:void 0,u=a-o,n=s(u);o=a,e({loaded:a,total:l,progress:l?a/l:void 0,bytes:u,rate:n||void 0,estimated:n&&l&&a<=l?(l-a)/n:void 0,event:r,lengthComputable:null!=l,[t?"download":"upload"]:!0})},r)};exports.progressEventReducer=progressEventReducer;const progressEventDecorator=(e,t)=>{const r=null!=e;return[o=>t[0]({lengthComputable:r,total:e,loaded:o}),t[1]]};exports.progressEventDecorator=progressEventDecorator;const asyncDecorator=e=>(...t)=>_utils.default.asap(()=>e(...t));exports.asyncDecorator=asyncDecorator;

},{"../utils.js":51,"./speedometer.js":38,"./throttle.js":40}],37:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _index=_interopRequireDefault(require("../platform/index.js")),_utils=_interopRequireDefault(require("../utils.js")),_isURLSameOrigin=_interopRequireDefault(require("./isURLSameOrigin.js")),_cookies=_interopRequireDefault(require("./cookies.js")),_buildFullPath=_interopRequireDefault(require("../core/buildFullPath.js")),_mergeConfig=_interopRequireDefault(require("../core/mergeConfig.js")),_AxiosHeaders=_interopRequireDefault(require("../core/AxiosHeaders.js")),_buildURL=_interopRequireDefault(require("./buildURL.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default=e=>{const r=(0,_mergeConfig.default)({},e);let t,{data:i,withXSRFToken:a,xsrfHeaderName:u,xsrfCookieName:o,headers:s,auth:l}=r;if(r.headers=s=_AxiosHeaders.default.from(s),r.url=(0,_buildURL.default)((0,_buildFullPath.default)(r.baseURL,r.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),_utils.default.isFormData(i))if(_index.default.hasStandardBrowserEnv||_index.default.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(t=s.getContentType())){const[e,...r]=t?t.split(";").map(e=>e.trim()).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...r].join("; "))}if(_index.default.hasStandardBrowserEnv&&(a&&_utils.default.isFunction(a)&&(a=a(r)),a||!1!==a&&(0,_isURLSameOrigin.default)(r.url))){const e=u&&o&&_cookies.default.read(o);e&&s.set(u,e)}return r};exports.default=_default;

},{"../core/AxiosHeaders.js":12,"../core/buildFullPath.js":14,"../core/mergeConfig.js":16,"../platform/index.js":50,"../utils.js":51,"./buildURL.js":25,"./cookies.js":28,"./isURLSameOrigin.js":32}],38:[function(require,module,exports){
"use strict";function speedometer(e,t){e=e||10;const r=new Array(e),o=new Array(e);let n,u=0,d=0;return t=void 0!==t?t:1e3,function(s){const a=Date.now(),f=o[d];n||(n=a),r[u]=s,o[u]=a;let i=d,l=0;for(;i!==u;)l+=r[i++],i%=e;if((u=(u+1)%e)===d&&(d=(d+1)%e),a-n<t)return;const c=f&&a-f;return c?Math.round(1e3*l/c):void 0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=speedometer;exports.default=_default;

},{}],39:[function(require,module,exports){
"use strict";function spread(e){return function(r){return e.apply(null,r)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=spread;

},{}],40:[function(require,module,exports){
"use strict";function throttle(t,e){let l,o,u=0,n=1e3/e;const r=(e,n=Date.now())=>{u=n,l=null,o&&(clearTimeout(o),o=null),t.apply(null,e)};return[(...t)=>{const e=Date.now(),a=e-u;a>=n?r(t,e):(l=t,o||(o=setTimeout(()=>{o=null,r(l)},n-a)))},()=>l&&r(l)]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=throttle;exports.default=_default;

},{}],41:[function(require,module,exports){
(function (Buffer){(function (){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _utils=_interopRequireDefault(require("../utils.js")),_AxiosError=_interopRequireDefault(require("../core/AxiosError.js")),_FormData=_interopRequireDefault(require("../platform/node/classes/FormData.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function isVisitable(t){return _utils.default.isPlainObject(t)||_utils.default.isArray(t)}function removeBrackets(t){return _utils.default.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,e,i){return t?t.concat(e).map(function(t,e){return t=removeBrackets(t),!i&&e?"["+t+"]":t}).join(i?".":""):e}function isFlatArray(t){return _utils.default.isArray(t)&&!t.some(isVisitable)}const predicates=_utils.default.toFlatObject(_utils.default,{},null,function(t){return/^is[A-Z]/.test(t)});function toFormData(t,e,i){if(!_utils.default.isObject(t))throw new TypeError("target must be an object");e=e||new(_FormData.default||FormData);const r=(i=_utils.default.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(t,e){return!_utils.default.isUndefined(e[t])})).metaTokens,u=i.visitor||o,s=i.dots,l=i.indexes,n=(i.Blob||"undefined"!=typeof Blob&&Blob)&&_utils.default.isSpecCompliantForm(e);if(!_utils.default.isFunction(u))throw new TypeError("visitor must be a function");function a(t){if(null===t)return"";if(_utils.default.isDate(t))return t.toISOString();if(!n&&_utils.default.isBlob(t))throw new _AxiosError.default("Blob is not supported. Use a Buffer instead.");return _utils.default.isArrayBuffer(t)||_utils.default.isTypedArray(t)?n&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function o(t,i,u){let n=t;if(t&&!u&&"object"==typeof t)if(_utils.default.endsWith(i,"{}"))i=r?i:i.slice(0,-2),t=JSON.stringify(t);else if(_utils.default.isArray(t)&&isFlatArray(t)||(_utils.default.isFileList(t)||_utils.default.endsWith(i,"[]"))&&(n=_utils.default.toArray(t)))return i=removeBrackets(i),n.forEach(function(t,r){!_utils.default.isUndefined(t)&&null!==t&&e.append(!0===l?renderKey([i],r,s):null===l?i:i+"[]",a(t))}),!1;return!!isVisitable(t)||(e.append(renderKey(u,i,s),a(t)),!1)}const f=[],d=Object.assign(predicates,{defaultVisitor:o,convertValue:a,isVisitable:isVisitable});if(!_utils.default.isObject(t))throw new TypeError("data must be an object");return function t(i,r){if(!_utils.default.isUndefined(i)){if(-1!==f.indexOf(i))throw Error("Circular reference detected in "+r.join("."));f.push(i),_utils.default.forEach(i,function(i,s){!0===(!(_utils.default.isUndefined(i)||null===i)&&u.call(e,i,_utils.default.isString(s)?s.trim():s,r,d))&&t(i,r?r.concat(s):[s])}),f.pop()}}(t),e}var _default=toFormData;exports.default=_default;

}).call(this)}).call(this,require("buffer").Buffer)
},{"../core/AxiosError.js":11,"../platform/node/classes/FormData.js":33,"../utils.js":51,"buffer":53}],42:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=toURLEncodedForm;var _utils=_interopRequireDefault(require("../utils.js")),_toFormData=_interopRequireDefault(require("./toFormData.js")),_index=_interopRequireDefault(require("../platform/index.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function toURLEncodedForm(e,t){return(0,_toFormData.default)(e,new _index.default.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,i){return _index.default.isNode&&_utils.default.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}

},{"../platform/index.js":50,"../utils.js":51,"./toFormData.js":41}],43:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trackStream=exports.streamChunk=exports.readBytes=void 0;const streamChunk=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let a,n=0;for(;n<r;)a=n+t,yield e.slice(n,a),n=a};exports.streamChunk=streamChunk;const readBytes=async function*(e,t,r){for await(const a of e)yield*streamChunk(ArrayBuffer.isView(a)?a:await r(String(a)),t)};exports.readBytes=readBytes;const trackStream=(e,t,r,a,n)=>{const s=readBytes(e,t,n);let o,c=0,i=e=>{o||(o=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await s.next();if(t)return i(),void e.close();let n=a.byteLength;if(r){let e=c+=n;r(e)}e.enqueue(new Uint8Array(a))}catch(e){throw i(e),e}},cancel:e=>(i(e),s.return())},{highWaterMark:2})};exports.trackStream=trackStream;

},{}],44:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _data=require("../env/data.js"),_AxiosError=_interopRequireDefault(require("../core/AxiosError.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const validators={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{validators[e]=function(t){return typeof t===e||"a"+(r<1?"n ":" ")+e}});const deprecatedWarnings={};function assertOptions(e,r,t){if("object"!=typeof e)throw new _AxiosError.default("options must be an object",_AxiosError.default.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let n=o.length;for(;n-- >0;){const a=o[n],i=r[a];if(i){const r=e[a],t=void 0===r||i(r,a,e);if(!0!==t)throw new _AxiosError.default("option "+a+" must be "+t,_AxiosError.default.ERR_BAD_OPTION_VALUE)}else if(!0!==t)throw new _AxiosError.default("Unknown option "+a,_AxiosError.default.ERR_BAD_OPTION)}}validators.transitional=function(e,r,t){function o(e,r){return"[Axios v"+_data.VERSION+"] Transitional option '"+e+"'"+r+(t?". "+t:"")}return(t,n,a)=>{if(!1===e)throw new _AxiosError.default(o(n," has been removed"+(r?" in "+r:"")),_AxiosError.default.ERR_DEPRECATED);return r&&!deprecatedWarnings[n]&&(deprecatedWarnings[n]=!0,console.warn(o(n," has been deprecated since v"+r+" and will be removed in the near future"))),!e||e(t,n,a)}};var _default={assertOptions:assertOptions,validators:validators};exports.default=_default;

},{"../core/AxiosError.js":11,"../env/data.js":21}],45:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default="undefined"!=typeof Blob?Blob:null;exports.default=_default;

},{}],46:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default="undefined"!=typeof FormData?FormData:null;exports.default=_default;

},{}],47:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _AxiosURLSearchParams=_interopRequireDefault(require("../../../helpers/AxiosURLSearchParams.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default="undefined"!=typeof URLSearchParams?URLSearchParams:_AxiosURLSearchParams.default;exports.default=_default;

},{"../../../helpers/AxiosURLSearchParams.js":22}],48:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _URLSearchParams=_interopRequireDefault(require("./classes/URLSearchParams.js")),_FormData=_interopRequireDefault(require("./classes/FormData.js")),_Blob=_interopRequireDefault(require("./classes/Blob.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default={isBrowser:!0,classes:{URLSearchParams:_URLSearchParams.default,FormData:_FormData.default,Blob:_Blob.default},protocols:["http","https","file","blob","url","data"]};exports.default=_default;

},{"./classes/Blob.js":45,"./classes/FormData.js":46,"./classes/URLSearchParams.js":47}],49:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.origin=exports.hasStandardBrowserWebWorkerEnv=exports.hasStandardBrowserEnv=exports.hasBrowserEnv=void 0;const hasBrowserEnv="undefined"!=typeof window&&"undefined"!=typeof document;exports.hasBrowserEnv=hasBrowserEnv;const hasStandardBrowserEnv=(r=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(r)<0)("undefined"!=typeof navigator&&navigator.product);exports.hasStandardBrowserEnv=hasStandardBrowserEnv;const hasStandardBrowserWebWorkerEnv=(()=>"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts)();exports.hasStandardBrowserWebWorkerEnv=hasStandardBrowserWebWorkerEnv;const origin=hasBrowserEnv&&window.location.href||"http://localhost";exports.origin=origin;

},{}],50:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _index=_interopRequireDefault(require("./node/index.js")),utils=_interopRequireWildcard(require("./common/utils.js"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}function _interopRequireWildcard(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var u={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var a=i?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(u,n,a):u[n]=e[n]}return u.default=e,r&&r.set(e,u),u}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default={...utils,..._index.default};exports.default=_default;

},{"./common/utils.js":49,"./node/index.js":48}],51:[function(require,module,exports){
(function (process,global,setImmediate){(function (){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _bind=_interopRequireDefault(require("./helpers/bind.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const{toString:toString}=Object.prototype,{getPrototypeOf:getPrototypeOf}=Object,kindOf=(e=>t=>{const r=toString.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=e=>(e=e.toLowerCase(),t=>kindOf(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray:isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(e){return null!==e&&!isUndefined(e)&&null!==e.constructor&&!isUndefined(e.constructor)&&isFunction(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&isArrayBuffer(e.buffer)}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=e=>null!==e&&"object"==typeof e,isBoolean=e=>!0===e||!1===e,isPlainObject=e=>{if("object"!==kindOf(e))return!1;const t=getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=e=>isObject(e)&&isFunction(e.pipe),isFormData=e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||isFunction(e.append)&&("formdata"===(t=kindOf(e))||"object"===t&&isFunction(e.toString)&&"[object FormData]"===e.toString()))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let i,n;if("object"!=typeof e&&(e=[e]),isArray(e))for(i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else{const n=r?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let o;for(i=0;i<s;i++)o=n[i],t.call(null,e[o],o,e)}}function findKey(e,t){t=t.toLowerCase();const r=Object.keys(e);let i,n=r.length;for(;n-- >0;)if(t===(i=r[n]).toLowerCase())return i;return null}const _global=(()=>"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global)(),isContextDefined=e=>!isUndefined(e)&&e!==_global;function merge(){const{caseless:e}=isContextDefined(this)&&this||{},t={},r=(r,i)=>{const n=e&&findKey(t,i)||i;isPlainObject(t[n])&&isPlainObject(r)?t[n]=merge(t[n],r):isPlainObject(r)?t[n]=merge({},r):isArray(r)?t[n]=r.slice():t[n]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&forEach(arguments[e],r);return t}const extend=(e,t,r,{allOwnKeys:i}={})=>(forEach(t,(t,i)=>{r&&isFunction(t)?e[i]=(0,_bind.default)(t,r):e[i]=t},{allOwnKeys:i}),e),stripBOM=e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits=(e,t,r,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject=(e,t,r,i)=>{let n,s,o;const a={};if(t=t||{},null==e)return t;do{for(s=(n=Object.getOwnPropertyNames(e)).length;s-- >0;)o=n[s],i&&!i(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==r&&getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},endsWith=(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const i=e.indexOf(t,r);return-1!==i&&i===r},toArray=e=>{if(!e)return null;if(isArray(e))return e;let t=e.length;if(!isNumber(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},isTypedArray=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&getPrototypeOf(Uint8Array)),forEachEntry=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const r=i.value;t.call(e,r[0],r[1])}},matchAll=(e,t)=>{let r;const i=[];for(;null!==(r=e.exec(t));)i.push(r);return i},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),hasOwnProperty=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),i={};forEach(r,(r,n)=>{let s;!1!==(s=t(r,n,e))&&(i[n]=s||r)}),Object.defineProperties(e,i)},freezeMethods=e=>{reduceDescriptors(e,(t,r)=>{if(isFunction(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const i=e[r];isFunction(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=(()=>{throw Error("Can not rewrite read-only method '"+r+"'")})))})},toObjectSet=(e,t)=>{const r={},i=e=>{e.forEach(e=>{r[e]=!0})};return isArray(e)?i(e):i(String(e).split(t)),r},noop=()=>{},toFiniteNumber=(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT:DIGIT,ALPHA:ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(e=16,t=ALPHABET.ALPHA_DIGIT)=>{let r="";const{length:i}=t;for(;e--;)r+=t[Math.random()*i|0];return r};function isSpecCompliantForm(e){return!!(e&&isFunction(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])}const toJSONObject=e=>{const t=new Array(10),r=(e,i)=>{if(isObject(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const n=isArray(e)?[]:{};return forEach(e,(e,t)=>{const s=r(e,i+1);!isUndefined(s)&&(n[t]=s)}),t[i]=void 0,n}}return e};return r(e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=e=>e&&(isObject(e)||isFunction(e))&&isFunction(e.then)&&isFunction(e.catch),_setImmediate=((e,t)=>e?setImmediate:t?((e,t)=>(_global.addEventListener("message",({source:r,data:i})=>{r===_global&&i===e&&t.length&&t.shift()()},!1),r=>{t.push(r),_global.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))("function"==typeof setImmediate,isFunction(_global.postMessage)),asap="undefined"!=typeof queueMicrotask?queueMicrotask.bind(_global):"undefined"!=typeof process&&process.nextTick||_setImmediate;var _default={isArray:isArray,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isBoolean:isBoolean,isObject:isObject,isPlainObject:isPlainObject,isReadableStream:isReadableStream,isRequest:isRequest,isResponse:isResponse,isHeaders:isHeaders,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isRegExp:isRegExp,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isTypedArray:isTypedArray,isFileList:isFileList,forEach:forEach,merge:merge,extend:extend,trim:trim,stripBOM:stripBOM,inherits:inherits,toFlatObject:toFlatObject,kindOf:kindOf,kindOfTest:kindOfTest,endsWith:endsWith,toArray:toArray,forEachEntry:forEachEntry,matchAll:matchAll,isHTMLForm:isHTMLForm,hasOwnProperty:hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors:reduceDescriptors,freezeMethods:freezeMethods,toObjectSet:toObjectSet,toCamelCase:toCamelCase,noop:noop,toFiniteNumber:toFiniteNumber,findKey:findKey,global:_global,isContextDefined:isContextDefined,ALPHABET:ALPHABET,generateString:generateString,isSpecCompliantForm:isSpecCompliantForm,toJSONObject:toJSONObject,isAsyncFn:isAsyncFn,isThenable:isThenable,setImmediate:_setImmediate,asap:asap};exports.default=_default;

}).call(this)}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("timers").setImmediate)
},{"./helpers/bind.js":24,"_process":57,"timers":58}],52:[function(require,module,exports){
"use strict";exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(o){var r=o.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=o.indexOf("=");return-1===e&&(e=r),[e,e===r?0:4-e%4]}function byteLength(o){var r=getLens(o),e=r[0],t=r[1];return 3*(e+t)/4-t}function _byteLength(o,r,e){return 3*(r+e)/4-e}function toByteArray(o){var r,e,t=getLens(o),n=t[0],u=t[1],p=new Arr(_byteLength(o,n,u)),a=0,h=u>0?n-4:n;for(e=0;e<h;e+=4)r=revLookup[o.charCodeAt(e)]<<18|revLookup[o.charCodeAt(e+1)]<<12|revLookup[o.charCodeAt(e+2)]<<6|revLookup[o.charCodeAt(e+3)],p[a++]=r>>16&255,p[a++]=r>>8&255,p[a++]=255&r;return 2===u&&(r=revLookup[o.charCodeAt(e)]<<2|revLookup[o.charCodeAt(e+1)]>>4,p[a++]=255&r),1===u&&(r=revLookup[o.charCodeAt(e)]<<10|revLookup[o.charCodeAt(e+1)]<<4|revLookup[o.charCodeAt(e+2)]>>2,p[a++]=r>>8&255,p[a++]=255&r),p}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[63&o]}function encodeChunk(o,r,e){for(var t,n=[],u=r;u<e;u+=3)t=(o[u]<<16&16711680)+(o[u+1]<<8&65280)+(255&o[u+2]),n.push(tripletToBase64(t));return n.join("")}function fromByteArray(o){for(var r,e=o.length,t=e%3,n=[],u=0,p=e-t;u<p;u+=16383)n.push(encodeChunk(o,u,u+16383>p?p:u+16383));return 1===t?(r=o[e-1],n.push(lookup[r>>2]+lookup[r<<4&63]+"==")):2===t&&(r=(o[e-2]<<8)+o[e-1],n.push(lookup[r>>10]+lookup[r>>4&63]+lookup[r<<2&63]+"=")),n.join("")}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;

},{}],53:[function(require,module,exports){
(function (Buffer){(function (){
"use strict";var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function createBuffer(e){if(e>K_MAX_LENGTH)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=Buffer.prototype,t}function Buffer(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(e)}return from(e,t,r)}function from(e,t,r){if("string"==typeof e)return fromString(e,t);if(ArrayBuffer.isView(e))return fromArrayLike(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer))return fromArrayBuffer(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return Buffer.from(n,t,r);var f=fromObject(e);if(f)return f;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Buffer.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function alloc(e,t,r){return assertSize(e),e<=0?createBuffer(e):void 0!==t?"string"==typeof r?createBuffer(e).fill(t,r):createBuffer(e).fill(t):createBuffer(e)}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromString(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|byteLength(e,t),n=createBuffer(r),f=n.write(e,t);return f!==r&&(n=n.slice(0,f)),n}function fromArrayLike(e){for(var t=e.length<0?0:0|checked(e.length),r=createBuffer(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function fromArrayBuffer(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r)).__proto__=Buffer.prototype,n}function fromObject(e){if(Buffer.isBuffer(e)){var t=0|checked(e.length),r=createBuffer(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}return void 0!==e.length?"number"!=typeof e.length||numberIsNaN(e.length)?createBuffer(0):fromArrayLike(e):"Buffer"===e.type&&Array.isArray(e.data)?fromArrayLike(e.data):void 0}function checked(e){if(e>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var f=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(f)return n?-1:utf8ToBytes(e).length;t=(""+t).toLowerCase(),f=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,f){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),numberIsNaN(r=+r)&&(r=f?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(f)return-1;r=e.length-1}else if(r<0){if(!f)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,f);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,f);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,f){var i,o=1,u=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,u/=2,s/=2,r/=2}function a(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(f){var h=-1;for(i=r;i<u;i++)if(a(e,i)===a(t,-1===h?0:i-h)){if(-1===h&&(h=i),i-h+1===s)return h*o}else-1!==h&&(i-=i-h),h=-1}else for(r+s>u&&(r=u-s),i=r;i>=0;i--){for(var c=!0,l=0;l<s;l++)if(a(e,i+l)!==a(t,l)){c=!1;break}if(c)return i}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var f=e.length-r;n?(n=Number(n))>f&&(n=f):n=f;var i=t.length;n>i/2&&(n=i/2);for(var o=0;o<n;++o){var u=parseInt(t.substr(2*o,2),16);if(numberIsNaN(u))return o;e[r+o]=u}return o}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?base64.fromByteArray(e):base64.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],f=t;f<r;){var i,o,u,s,a=e[f],h=null,c=a>239?4:a>223?3:a>191?2:1;if(f+c<=r)switch(c){case 1:a<128&&(h=a);break;case 2:128==(192&(i=e[f+1]))&&(s=(31&a)<<6|63&i)>127&&(h=s);break;case 3:i=e[f+1],o=e[f+2],128==(192&i)&&128==(192&o)&&(s=(15&a)<<12|(63&i)<<6|63&o)>2047&&(s<55296||s>57343)&&(h=s);break;case 4:i=e[f+1],o=e[f+2],u=e[f+3],128==(192&i)&&128==(192&o)&&128==(192&u)&&(s=(15&a)<<18|(63&i)<<12|(63&o)<<6|63&u)>65535&&s<1114112&&(h=s)}null===h?(h=65533,c=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),f+=c}return decodeCodePointsArray(n)}exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(e,t,r){return from(e,t,r)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(e,t,r){return alloc(e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Buffer.prototype},Buffer.compare=function(e,t){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),isInstance(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,f=0,i=Math.min(r,n);f<i;++f)if(e[f]!==t[f]){r=e[f],n=t[f];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),f=0;for(r=0;r<e.length;++r){var i=e[r];if(isInstance(i,Uint8Array)&&(i=Buffer.from(i)),!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",t=exports.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,f){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),!Buffer.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===f&&(f=this.length),t<0||r>e.length||n<0||f>this.length)throw new RangeError("out of range index");if(n>=f&&t>=r)return 0;if(n>=f)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(f>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),u=Math.min(i,o),s=this.slice(n,f),a=e.slice(t,r),h=0;h<u;++h)if(s[h]!==a[h]){i=s[h],o=a[h];break}return i<o?-1:o<i?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(127&e[f]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(e[f]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=t;i<r;++i)f+=toHex(e[i]);return f}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,f,i){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>f||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function checkIEEE754(e,t,r,n,f,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(e,t,r,n,52,8),r+8}Buffer.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=Buffer.prototype,n},Buffer.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return n},Buffer.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],f=1;t>0&&(f*=256);)n+=this[e+--t]*f;return n},Buffer.prototype.readUInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return n>=(f*=128)&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=t,f=1,i=this[e+--n];n>0&&(f*=256);)i+=this[e+--n]*f;return i>=(f*=128)&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var f=1,i=0;for(this[t]=255&e;++i<r&&(f*=256);)this[t+i]=e/f&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var f=r-1,i=1;for(this[t+f]=255&e;--f>=0&&(i*=256);)this[t+f]=e/i&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=0,o=1,u=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=r-1,o=1,u=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(!Buffer.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var f=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=f-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return f},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var f=e.charCodeAt(0);("utf8"===n&&f<128||"latin1"===n)&&(e=f)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=Buffer.isBuffer(e)?e:Buffer.from(e,n),u=o.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%u]}return this};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;function base64clean(e){if((e=(e=e.split("=")[0]).trim().replace(INVALID_BASE64_RE,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){var r;t=t||1/0;for(var n=e.length,f=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!f){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),f=r;continue}r=65536+(f-55296<<10|r-56320)}else f&&(t-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,f,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(e){return base64.toByteArray(base64clean(e))}function blitBuffer(e,t,r,n){for(var f=0;f<n&&!(f+r>=t.length||f>=e.length);++f)t[f+r]=e[f];return f}function isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function numberIsNaN(e){return e!=e}

}).call(this)}).call(this,require("buffer").Buffer)
},{"base64-js":52,"buffer":53,"ieee754":55}],54:[function(require,module,exports){
(function (global,setImmediate){(function (){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Dexie=t()}(this,function(){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)},t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function n(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,i=Object.keys,o=Array.isArray;function a(e,t){return"object"!=typeof t||i(t).forEach(function(n){e[n]=t[n]}),e}"undefined"==typeof Promise||r.Promise||(r.Promise=Promise);var u=Object.getPrototypeOf,s={}.hasOwnProperty;function c(e,t){return s.call(e,t)}function l(e,t){"function"==typeof t&&(t=t(u(e))),("undefined"==typeof Reflect?i:Reflect.ownKeys)(t).forEach(function(n){h(e,n,t[n])})}var f=Object.defineProperty;function h(e,t,n,r){f(e,t,a(n&&c(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function d(e){return{from:function(t){return e.prototype=Object.create(t.prototype),h(e.prototype,"constructor",e),{extend:l.bind(null,e.prototype)}}}}var p=Object.getOwnPropertyDescriptor,y=[].slice;function v(e,t,n){return y.call(e,t,n)}function m(e,t){return t(e)}function b(e){if(!e)throw new Error("Assertion Failed")}function g(e){r.setImmediate?setImmediate(e):setTimeout(e,0)}function w(e,t){if("string"==typeof t&&c(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=w(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(-1!==a){var u=e[t.substr(0,a)];return null==u?void 0:w(u,t.substr(a+1))}}function _(e,t,n){if(e&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){b("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)_(e,t[r],n[r])}else{var a,u,s=t.indexOf(".");-1!==s?(a=t.substr(0,s),""===(u=t.substr(s+1))?void 0===n?o(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n:_(s=(s=e[a])&&c(e,a)?s:e[a]={},u,n)):void 0===n?o(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function x(e){var t,n={};for(t in e)c(e,t)&&(n[t]=e[t]);return n}var k=[].concat;function O(e){return k.apply([],e)}var P="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(O([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return r[e]}),E=new Set(P.map(function(e){return r[e]})),K=null;function S(e){return K=new WeakMap,e=function e(t){if(!t||"object"!=typeof t)return t;var n=K.get(t);if(n)return n;if(o(t)){n=[],K.set(t,n);for(var r=0,i=t.length;r<i;++r)n.push(e(t[r]))}else if(E.has(t.constructor))n=t;else{var a,s=u(t);for(a in n=s===Object.prototype?{}:Object.create(s),K.set(t,n),t)c(t,a)&&(n[a]=e(t[a]))}return n}(e),K=null,e}var j={}.toString;function A(e){return j.call(e).slice(8,-1)}var C="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",D="symbol"==typeof C?function(e){var t;return null!=e&&(t=e[C])&&t.apply(e)}:function(){return null};function T(e,t){return 0<=(t=e.indexOf(t))&&e.splice(t,1),0<=t}var q={};function B(e){var t,n,r,i;if(1===arguments.length){if(o(e))return e.slice();if(this===q&&"string"==typeof e)return[e];if(i=D(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"!=typeof(t=e.length))return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var I="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},R=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ue=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),F={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function M(e,t){this.name=e,this.message=t}function N(e,t){return e+". Errors: "+Object.keys(t).map(function(e){return t[e].toString()}).filter(function(e,t,n){return n.indexOf(e)===t}).join("\n")}function L(e,t,n,r){this.failures=t,this.failedKeys=r,this.successCount=n,this.message=N(e,t)}function U(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(e){return t[e]}),this.failuresByPos=t,this.message=N(e,this.failures)}d(M).from(Error).extend({toString:function(){return this.name+": "+this.message}}),d(L).from(M),d(U).from(M);var z=R.reduce(function(e,t){return e[t]=t+"Error",e},{}),V=M,W=R.reduce(function(e,t){var n=t+"Error";function r(e,r){this.name=n,e?"string"==typeof e?(this.message="".concat(e).concat(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=F[t]||n,this.inner=null)}return d(r).from(V),e[t]=r,e},{});W.Syntax=SyntaxError,W.Type=TypeError,W.Range=RangeError;var Y=ue.reduce(function(e,t){return e[t+"Error"]=W[t],e},{}),$=R.reduce(function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=W[t]),e},{});function Q(){}function G(e){return e}function X(e,t){return null==e||e===G?t:function(n){return t(e(n))}}function H(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function J(e,t){return e===Q?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?H(r,this.onsuccess):r),i&&(this.onerror=this.onerror?H(i,this.onerror):i),void 0!==o?o:n}}function Z(e,t){return e===Q?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?H(n,this.onsuccess):n),r&&(this.onerror=this.onerror?H(r,this.onerror):r)}}function ee(e,t){return e===Q?t:function(n){var r=e.apply(this,arguments);a(n,r);var i=this.onsuccess,o=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?H(i,this.onsuccess):i),o&&(this.onerror=this.onerror?H(o,this.onerror):o),void 0===r?void 0===n?void 0:n:a(r,n)}}function te(e,t){return e===Q?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ne(e,t){return e===Q?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}$.ModifyError=L,$.DexieError=M,$.BulkError=U;var re="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ie(e){re=e}var oe={},ae=100,ue=(P="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,u(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,u(t),e]}())[0],se=(R=P[1],P=P[2],R=R&&R.then,ue&&ue.constructor),ce=!!P,le=function(e,t){be.push([e,t]),he&&(queueMicrotask(Se),he=!1)},fe=!0,he=!0,de=[],pe=[],ye=G,ve={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Q,pgp:!1,env:{},finalize:Q},me=ve,be=[],ge=0,we=[];function _e(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=me;if("function"!=typeof e){if(e!==oe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Oe(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,n){try{n(function(n){if(null===t._state){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&je();n&&"function"==typeof n.then?e(t,function(e,t){n instanceof _e?n._then(e,t):n.then(e,t)}):(t._state=!0,t._value=n,Pe(t)),r&&Ae()}},Oe.bind(null,t))}catch(n){Oe(t,n)}}(this,e)}var xe={get:function(){var e=me,t=Fe;function n(n,r){var i=this,o=!e.global&&(e!==me||t!==Fe),a=o&&!Ue(),u=new _e(function(t,u){Ee(i,new ke(Qe(n,e,o,a),Qe(r,e,o,a),t,u,e))});return this._consoleTask&&(u._consoleTask=this._consoleTask),u}return n.prototype=oe,n},set:function(e){h(this,"then",e&&e.prototype===oe?xe:{get:function(){return e},set:xe.set})}};function ke(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Oe(e,t){var n,r;pe.push(t),null===e._state&&(n=e._lib&&je(),t=ye(t),e._state=!1,e._value=t,r=e,de.some(function(e){return e._value===r._value})||de.push(r),Pe(e),n&&Ae())}function Pe(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ee(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===ge&&(++ge,le(function(){0==--ge&&Ce()},[]))}function Ee(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++ge,le(Ke,[n,e,t])}else e._listeners.push(t)}function Ke(e,t,n){try{var r,i=t._value;!t._state&&pe.length&&(pe=[]),r=re&&t._consoleTask?t._consoleTask.run(function(){return e(i)}):e(i),t._state||-1!==pe.indexOf(i)||function(e){for(var t=de.length;t;)if(de[--t]._value===e._value)return de.splice(t,1)}(t),n.resolve(r)}catch(e){n.reject(e)}finally{0==--ge&&Ce(),--n.psd.ref||n.psd.finalize()}}function Se(){$e(ve,function(){je()&&Ae()})}function je(){var e=fe;return he=fe=!1,e}function Ae(){var e,t,n;do{for(;0<be.length;)for(e=be,be=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(0<be.length);he=fe=!0}function Ce(){var e=de;de=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});for(var t=we.slice(0),n=t.length;n;)t[--n]()}function De(e){return new _e(oe,!1,e)}function Te(e,t){var n=me;return function(){var r=je(),i=me;try{return We(n,!0),e.apply(this,arguments)}catch(r){t&&t(r)}finally{We(i,!1),r&&Ae()}}}l(_e.prototype,{then:xe,_then:function(e,t){Ee(this,new ke(null,null,e,t,me))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=e,n=arguments[1];return"function"==typeof t?this.then(null,function(e){return(e instanceof t?n:De)(e)}):this.then(null,function(e){return(e&&e.name===t?n:De)(e)})},finally:function(e){return this.then(function(t){return _e.resolve(e()).then(function(){return t})},function(t){return _e.resolve(e()).then(function(){return De(t)})})},timeout:function(e,t){var n=this;return e<1/0?new _e(function(r,i){var o=setTimeout(function(){return i(new W.Timeout(t))},e);n.then(r,i).finally(clearTimeout.bind(null,o))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&h(_e.prototype,Symbol.toStringTag,"Dexie.Promise"),ve.env=Ye(),l(_e,{all:function(){var e=B.apply(null,arguments).map(ze);return new _e(function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(function(i,o){return _e.resolve(i).then(function(n){e[o]=n,--r||t(e)},n)})})},resolve:function(e){return e instanceof _e?e:e&&"function"==typeof e.then?new _e(function(t,n){e.then(t,n)}):new _e(oe,!0,e)},reject:De,race:function(){var e=B.apply(null,arguments).map(ze);return new _e(function(t,n){e.map(function(e){return _e.resolve(e).then(t,n)})})},PSD:{get:function(){return me},set:function(e){return me=e}},totalEchoes:{get:function(){return Fe}},newPSD:Ne,usePSD:$e,scheduler:{get:function(){return le},set:function(e){le=e}},rejectionMapper:{get:function(){return ye},set:function(e){ye=e}},follow:function(e,t){return new _e(function(n,r){return Ne(function(t,n){var r=me;r.unhandleds=[],r.onunhandled=n,r.finalize=H(function(){var e,r=this;e=function(){0===r.unhandleds.length?t():n(r.unhandleds[0])},we.push(function t(){e(),we.splice(we.indexOf(t),1)}),++ge,le(function(){0==--ge&&Ce()},[])},r.finalize),e()},t,n,r)})}}),se&&(se.allSettled&&h(_e,"allSettled",function(){var e=B.apply(null,arguments).map(ze);return new _e(function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach(function(e,i){return _e.resolve(e).then(function(e){return r[i]={status:"fulfilled",value:e}},function(e){return r[i]={status:"rejected",reason:e}}).then(function(){return--n||t(r)})})})}),se.any&&"undefined"!=typeof AggregateError&&h(_e,"any",function(){var e=B.apply(null,arguments).map(ze);return new _e(function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach(function(e,o){return _e.resolve(e).then(function(e){return t(e)},function(e){i[o]=e,--r||n(new AggregateError(i))})})})}));var qe={awaits:0,echoes:0,id:0},Be=0,Ie=[],Re=0,Fe=0,Me=0;function Ne(e,t,n,r){var i=me,o=Object.create(i);return o.parent=i,o.ref=0,o.global=!1,o.id=++Me,ve.env,o.env=ce?{Promise:_e,PromiseProp:{value:_e,configurable:!0,writable:!0},all:_e.all,race:_e.race,allSettled:_e.allSettled,any:_e.any,resolve:_e.resolve,reject:_e.reject}:{},t&&a(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()},r=$e(o,e,n,r),0===o.ref&&o.finalize(),r}function Le(){return qe.id||(qe.id=++Be),++qe.awaits,qe.echoes+=ae,qe.id}function Ue(){return!!qe.awaits&&(0==--qe.awaits&&(qe.id=0),qe.echoes=qe.awaits*ae,!0)}function ze(e){return qe.echoes&&e&&e.constructor===se?(Le(),e.then(function(e){return Ue(),e},function(e){return Ue(),Xe(e)})):e}function Ve(){var e=Ie[Ie.length-1];Ie.pop(),We(e,!1)}function We(e,t){var n,i=me;(t?!qe.echoes||Re++&&e===me:!Re||--Re&&e===me)||queueMicrotask(t?function(e){++Fe,qe.echoes&&0!=--qe.echoes||(qe.echoes=qe.awaits=qe.id=0),Ie.push(me),We(e,!0)}.bind(null,e):Ve),e!==me&&(me=e,i===ve&&(ve.env=Ye()),ce&&(n=ve.env.Promise,t=e.env,(i.global||e.global)&&(Object.defineProperty(r,"Promise",t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function Ye(){var e=r.Promise;return ce?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function $e(e,t,n,r,i){var o=me;try{return We(e,!0),t(n,r,i)}finally{We(o,!1)}}function Qe(e,t,n,r){return"function"!=typeof e?e:function(){var i=me;n&&Le(),We(t,!0);try{return e.apply(this,arguments)}finally{We(i,!1),r&&queueMicrotask(Ue)}}}function Ge(e){Promise===se&&0===qe.echoes?0===Re?e():enqueueNativeMicroTask(e):setTimeout(e,0)}-1===(""+R).indexOf("[native code]")&&(Le=Ue=Q);var Xe=_e.reject,He=String.fromCharCode(65535),Je="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Ze="String expected.",et=[],tt="__dbnames",nt="readonly",rt="readwrite";function it(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var ot={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function at(e){return"string"!=typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=S(t))[e],t}}function ut(){throw W.Type()}function st(e,t){try{var n=ct(e),r=ct(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return n===r?0:n<r?-1:1}(lt(e),lt(t));case"Array":return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o){var a=st(e[o],t[o]);if(0!==a)return a}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function ct(e){var t=typeof e;return"object"!=t?t:ArrayBuffer.isView(e)?"binary":"ArrayBuffer"===(e=A(e))?"binary":e}function lt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var ft=(ht.prototype._trans=function(e,t,n){var r=this._tx||me.trans,i=this.name,o=re&&"undefined"!=typeof console&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===e?"read":"write"," ").concat(this.name));function a(e,n,r){if(!r.schema[i])throw new W.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}var u=je();try{var s=r&&r.db._novip===this.db._novip?r===me.trans?r._promise(e,a,n):Ne(function(){return r._promise(e,a,n)},{trans:r,transless:me.transless||me}):function e(t,n,r,i){if(t.idbdb&&(t._state.openComplete||me.letThrough||t._vip)){var o=t._createTransaction(n,r,t._dbSchema);try{o.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===z.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return e(t,n,r,i)})):Xe(o)}return o._promise(n,function(e,t){return Ne(function(){return me.trans=o,i(e,t,o)})}).then(function(e){if("readwrite"===n)try{o.idbtrans.commit()}catch(e){}return"readonly"===n?e:o._completion.then(function(){return e})})}if(t._state.openComplete)return Xe(new W.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return Xe(new W.DatabaseClosed);t.open().catch(Q)}return t._state.dbReadyPromise.then(function(){return e(t,n,r,i)})}(this.db,e,[this.name],a);return o&&(s._consoleTask=o,s=s.catch(function(e){return console.trace(e),Xe(e)})),s}finally{u&&Ae()}},ht.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):null==e?Xe(new W.Type("Invalid argument to Table.get()")):this._trans("readonly",function(t){return n.core.get({trans:t,key:e}).then(function(e){return n.hook.reading.fire(e)})}).then(t)},ht.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(o(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=i(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(e){if(e.compound&&t.every(function(t){return 0<=e.keyPath.indexOf(t)})){for(var n=0;n<t.length;++n)if(-1===t.indexOf(e.keyPath[n]))return!1;return!0}return!1}).sort(function(e,t){return e.keyPath.length-t.keyPath.length})[0];if(n&&this.db._maxKey!==He){var r=n.keyPath.slice(0,t.length);return this.where(r).equals(r.map(function(t){return e[t]}))}!n&&re&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(t.join("+"),"]"));var a=this.schema.idxByName,u=this.db._deps.indexedDB;function s(e,t){return 0===u.cmp(e,t)}r=(c=t.reduce(function(t,n){var r=t[0],i=t[1],u=(t=a[n],e[n]);return[r||t,r||!t?it(i,t&&t.multi?function(e){return e=w(e,n),o(e)&&e.some(function(e){return s(u,e)})}:function(e){return s(u,w(e,n))}):i]},[null,null]))[0];var c=c[1];return r?this.where(r.name).equals(e[r.keyPath]).filter(c):n?this.filter(c):this.where(t).equals("")},ht.prototype.filter=function(e){return this.toCollection().and(e)},ht.prototype.count=function(e){return this.toCollection().count(e)},ht.prototype.offset=function(e){return this.toCollection().offset(e)},ht.prototype.limit=function(e){return this.toCollection().limit(e)},ht.prototype.each=function(e){return this.toCollection().each(e)},ht.prototype.toArray=function(e){return this.toCollection().toArray(e)},ht.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},ht.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,o(e)?"[".concat(e.join("+"),"]"):e))},ht.prototype.reverse=function(){return this.toCollection().reverse()},ht.prototype.mapToClass=function(t){var n,r=this.db,i=this.name;function o(){return null!==n&&n.apply(this,arguments)||this}(this.schema.mappedClass=t).prototype instanceof ut&&(function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(o,n=t),Object.defineProperty(o.prototype,"db",{get:function(){return r},enumerable:!1,configurable:!0}),o.prototype.table=function(){return i},t=o);for(var a=new Set,s=t.prototype;s;s=u(s))Object.getOwnPropertyNames(s).forEach(function(e){return a.add(e)});function c(e){if(!e)return e;var n,r=Object.create(t.prototype);for(n in e)if(!a.has(n))try{r[n]=e[n]}catch(e){}return r}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=c,this.hook("reading",c),t},ht.prototype.defineClass=function(){return this.mapToClass(function(e){a(this,e)})},ht.prototype.add=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,o=r.keyPath,a=e;return o&&i&&(a=at(o)(e)),this._trans("readwrite",function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]})}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):e.lastResult}).then(function(t){if(o)try{_(e,o,t)}catch(t){}return t})},ht.prototype.update=function(e,t){return"object"!=typeof e||o(e)?this.where(":id").equals(e).modify(t):void 0===(e=w(e,this.schema.primKey.keyPath))?Xe(new W.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t)},ht.prototype.put=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,o=r.keyPath,a=e;return o&&i&&(a=at(o)(e)),this._trans("readwrite",function(e){return n.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null})}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):e.lastResult}).then(function(t){if(o)try{_(e,o,t)}catch(t){}return t})},ht.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]})}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):void 0})},ht.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:ot})}).then(function(e){return e.numFailures?_e.reject(e.failures[0]):void 0})},ht.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(n){return t.core.getMany({keys:e,trans:n}).then(function(e){return e.map(function(e){return t.hook.reading.fire(e)})})})},ht.prototype.bulkAdd=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,o=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(t){var n=(u=r.schema.primKey).auto;if((u=u.keyPath)&&i)throw new W.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new W.InvalidArgument("Arguments objects and keys must have the same length");var a=e.length,u=u&&n?e.map(at(u)):e;return r.core.mutate({trans:t,type:"add",keys:i,values:u,wantResults:o}).then(function(e){var t=e.numFailures,n=e.results,i=e.lastResult;e=e.failures;if(0===t)return o?n:i;throw new U("".concat(r.name,".bulkAdd(): ").concat(t," of ").concat(a," operations failed"),e)})})},ht.prototype.bulkPut=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,o=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(t){var n=(u=r.schema.primKey).auto;if((u=u.keyPath)&&i)throw new W.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new W.InvalidArgument("Arguments objects and keys must have the same length");var a=e.length,u=u&&n?e.map(at(u)):e;return r.core.mutate({trans:t,type:"put",keys:i,values:u,wantResults:o}).then(function(e){var t=e.numFailures,n=e.results,i=e.lastResult;e=e.failures;if(0===t)return o?n:i;throw new U("".concat(r.name,".bulkPut(): ").concat(t," of ").concat(a," operations failed"),e)})})},ht.prototype.bulkUpdate=function(e){var t=this,n=this.core,r=e.map(function(e){return e.key}),i=e.map(function(e){return e.changes}),o=[];return this._trans("readwrite",function(a){return n.getMany({trans:a,keys:r,cache:"clone"}).then(function(u){var s=[],c=[];e.forEach(function(e,n){var r=e.key,i=e.changes,a=u[n];if(a){for(var l=0,f=Object.keys(i);l<f.length;l++){var h=f[l],d=i[h];if(h===t.schema.primKey.keyPath){if(0!==st(d,r))throw new W.Constraint("Cannot update primary key in bulkUpdate()")}else _(a,h,d)}o.push(n),s.push(r),c.push(a)}});var l=s.length;return n.mutate({trans:a,type:"put",keys:s,values:c,updates:{keys:r,changeSpecs:i}}).then(function(e){var n=e.numFailures,r=e.failures;if(0===n)return l;for(var i=0,a=Object.keys(r);i<a.length;i++){var u,s=a[i],c=o[Number(s)];null!=c&&(u=r[s],delete r[s],r[c]=u)}throw new U("".concat(t.name,".bulkUpdate(): ").concat(n," of ").concat(l," operations failed"),r)})})})},ht.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:e})}).then(function(e){var r=e.numFailures,i=e.lastResult;e=e.failures;if(0===r)return i;throw new U("".concat(t.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),e)})},ht);function ht(){}function dt(e){function t(t,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return n[t].subscribe.apply(null,o),e}if("string"==typeof t)return n[t]}var n={};t.addEventType=u;for(var r=1,a=arguments.length;r<a;++r)u(arguments[r]);return t;function u(e,r,a){if("object"!=typeof e){var s;r=r||te;var c={subscribers:[],fire:a=a||Q,subscribe:function(e){-1===c.subscribers.indexOf(e)&&(c.subscribers.push(e),c.fire=r(c.fire,e))},unsubscribe:function(e){c.subscribers=c.subscribers.filter(function(t){return t!==e}),c.fire=c.subscribers.reduce(r,a)}};return n[e]=t[e]=c}i(s=e).forEach(function(e){var t=s[e];if(o(t))u(e,s[e][0],s[e][1]);else{if("asap"!==t)throw new W.InvalidArgument("Invalid event config");var n=u(e,G,function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach(function(e){g(function(){e.apply(null,t)})})})}})}}function pt(e,t){return d(t).from({prototype:e}),t}function yt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function vt(e,t){e.filter=it(e.filter,t)}function mt(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return it(r(),t())}:t,e.justLimit=n&&!r}function bt(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new W.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function gt(e,t,n){var r=bt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function wt(e,t,n,r){var i=e.replayFilter?it(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},a=function(e,n,r){var a,u;i&&!i(n,r,function(e){return n.stop(e)},function(e){return n.fail(e)})||("[object ArrayBuffer]"==(u=""+(a=n.primaryKey))&&(u=""+new Uint8Array(a)),c(o,u)||(o[u]=!0,t(e,n,r)))};return Promise.all([e.or._iterate(a,n),_t(gt(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return _t(gt(e,r,n),it(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function _t(e,t,n,r){var i=Te(r?function(e,t,i){return n(r(e),t,i)}:n);return e.then(function(e){if(e)return e.start(function(){var n=function(){return e.continue()};t&&!t(e,function(e){return n=e},function(t){e.stop(t),n=Q},function(t){e.fail(t),n=Q})||i(e.value,e,function(e){return n=e}),n()})})}P=Symbol();var xt=(kt.prototype.execute=function(e){var t=null===(t=this.replacePrefix)||void 0===t?void 0:t[0];return t&&"string"==typeof e&&e.startsWith(t)?this.replacePrefix[1]+e.substring(t.length):e},kt);function kt(e){Object.assign(this,e)}var Ot=(Pt.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Xe.bind(null,n.error)):n.table._trans("readonly",e).then(t)},Pt.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Xe.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},Pt.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=it(t.algorithm,e)},Pt.prototype._iterate=function(e,t){return wt(this._ctx,e,t,this._ctx.table.core)},Pt.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&a(n,e),t._ctx=n,t},Pt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Pt.prototype.each=function(e){var t=this._ctx;return this._read(function(n){return wt(t,e,n,t.table.core)})},Pt.prototype.count=function(e){var t=this;return this._read(function(e){var n=t._ctx,r=n.table.core;if(yt(n,!0))return r.count({trans:e,query:{index:bt(n,r.schema),range:n.range}}).then(function(e){return Math.min(e,n.limit)});var i=0;return wt(n,function(){return++i,!1},e,r).then(function(){return i})}).then(e)},Pt.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function u(e,t){return(e=o(e,i))<(t=o(t,i))?-a:t<e?a:0}return this.toArray(function(e){return e.sort(u)}).then(t)},Pt.prototype.toArray=function(e){var t=this;return this._read(function(e){var n=t._ctx;if("next"===n.dir&&yt(n,!0)&&0<n.limit){var r=n.valueMapper,i=bt(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then(function(e){return e=e.result,r?e.map(r):e})}var o=[];return wt(n,function(e){return o.push(e)},e,n.table.core).then(function(){return o})},e)},Pt.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,yt(t)?mt(t,function(){var t=e;return function(e,n){return 0===t||(1===t?--t:n(function(){e.advance(t),t=0}),!1)}}):mt(t,function(){var t=e;return function(){return--t<0}})),this},Pt.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),mt(this._ctx,function(){var t=e;return function(e,n,r){return--t<=0&&n(r),0<=t}},!0),this},Pt.prototype.until=function(e,t){return vt(this._ctx,function(n,r,i){return!e(n.value)||(r(i),t)}),this},Pt.prototype.first=function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},Pt.prototype.last=function(e){return this.reverse().first(e)},Pt.prototype.filter=function(e){var t;return vt(this._ctx,function(t){return e(t.value)}),(t=this._ctx).isMatch=it(t.isMatch,e),this},Pt.prototype.and=function(e){return this.filter(e)},Pt.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},Pt.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Pt.prototype.desc=function(){return this.reverse()},Pt.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.key,n)})},Pt.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},Pt.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.primaryKey,n)})},Pt.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)},Pt.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&yt(t,!0)&&0<t.limit)return this._read(function(e){var n=bt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})}).then(function(e){return e.result}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.primaryKey)}).then(function(){return n}).then(e)},Pt.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},Pt.prototype.firstKey=function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},Pt.prototype.lastKey=function(e){return this.reverse().firstKey(e)},Pt.prototype.distinct=function(){var e;if(!(e=(e=this._ctx).index&&e.table.schema.idxByName[e.index])||!e.multi)return this;var t={};return vt(this._ctx,function(e){var n=e.primaryKey.toString();e=c(t,n);return t[n]=!0,!e}),this},Pt.prototype.modify=function(e){var t=this,n=this._ctx;return this._write(function(r){var o,a,u;function s(e,t){var n=t.failures;t=t.numFailures;y+=e-t;for(var r=0,o=i(n);r<o.length;r++){var a=o[r];p.push(n[a])}}u="function"==typeof e?e:(o=i(e),a=o.length,function(t){for(var n=!1,r=0;r<a;++r){var i=o[r],u=e[i],s=w(t,i);u instanceof xt?(_(t,i,u.execute(s)),n=!0):s!==u&&(_(t,i,u),n=!0)}return n});var c=n.table.core,l=c.schema.primaryKey,f=l.outbound,h=l.extractKey,d=t.db._options.modifyChunkSize||200,p=[],y=0,v=[];return t.clone().primaryKeys().then(function(t){return function i(o){var a=Math.min(d,t.length-o);return c.getMany({trans:r,keys:t.slice(o,o+a),cache:"immutable"}).then(function(l){for(var p=[],y=[],v=f?[]:null,m=[],b=0;b<a;++b){var g=l[b],w={value:S(g),primKey:t[o+b]};!1!==u.call(w,w.value,w)&&(null==w.value?m.push(t[o+b]):f||0===st(h(g),h(w.value))?(y.push(w.value),f&&v.push(t[o+b])):(m.push(t[o+b]),p.push(w.value)))}var _=yt(n)&&n.limit===1/0&&("function"!=typeof e||e===Et)&&{index:n.index,range:n.range};return Promise.resolve(0<p.length&&c.mutate({trans:r,type:"add",values:p}).then(function(e){for(var t in e.failures)m.splice(parseInt(t),1);s(p.length,e)})).then(function(){return(0<y.length||_&&"object"==typeof e)&&c.mutate({trans:r,type:"put",keys:v,values:y,criteria:_,changeSpec:"function"!=typeof e&&e}).then(function(e){return s(y.length,e)})}).then(function(){return(0<m.length||_&&e===Et)&&c.mutate({trans:r,type:"delete",keys:m,criteria:_}).then(function(e){return s(m.length,e)})}).then(function(){return t.length>o+a&&i(o+d)})})}(0).then(function(){if(0<p.length)throw new L("Error modifying one or more objects",p,y,v);return t.length})})})},Pt.prototype.delete=function(){var e=this._ctx,t=e.range;return yt(e)&&(e.isPrimKey||3===t.type)?this._write(function(n){var r=e.table.core.schema.primaryKey,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then(function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then(function(e){var n=e.failures;if(e.lastResult,e.results,e=e.numFailures)throw new L("Could not delete some values",Object.keys(n).map(function(e){return n[e]}),t-e);return t-e})})}):this.modify(Et)},Pt);function Pt(){}var Et=function(e,t){return t.value=null};function Kt(e,t){return e<t?-1:e===t?0:1}function St(e,t){return t<e?-1:e===t?0:1}function jt(e,t,n){return(e=e instanceof qt?new e.Collection(e):e)._ctx.error=new(n||TypeError)(t),e}function At(e){return new e.Collection(e,function(){return Tt("")}).limit(0)}function Ct(e,t,n,r){var i,o,a,u,s,c,l,f=n.length;if(!n.every(function(e){return"string"==typeof e}))return jt(e,Ze);function h(e){i="next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()},o="next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()},a="next"===e?Kt:St;var t=n.map(function(e){return{lower:o(e),upper:i(e)}}).sort(function(e,t){return a(e.lower,t.lower)});u=t.map(function(e){return e.upper}),s=t.map(function(e){return e.lower}),l="next"===(c=e)?"":r}h("next"),(e=new e.Collection(e,function(){return Dt(u[0],s[f-1]+r)}))._ondirectionchange=function(e){h(e)};var d=0;return e._addAlgorithm(function(e,n,r){var i=e.key;if("string"!=typeof i)return!1;var h=o(i);if(t(h,s,d))return!0;for(var p=null,y=d;y<f;++y){var v=function(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),u=-1,s=0;s<a;++s){var c=t[s];if(c!==r[s])return i(e[s],n[s])<0?e.substr(0,s)+n[s]+n.substr(s+1):i(e[s],r[s])<0?e.substr(0,s)+r[s]+n.substr(s+1):0<=u?e.substr(0,u)+t[u]+n.substr(u+1):null;i(e[s],c)<0&&(u=s)}return a<r.length&&"next"===o?e+n.substr(e.length):a<e.length&&"prev"===o?e.substr(0,n.length):u<0?null:e.substr(0,u)+r[u]+n.substr(u+1)}(i,h,u[y],s[y],a,c);null===v&&null===p?d=y+1:(null===p||0<a(p,v))&&(p=v)}return n(null!==p?function(){e.continue(p+l)}:r),!1}),e}function Dt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Tt(e){return{type:1,lower:e,upper:e}}var qt=(Object.defineProperty(Bt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Bt.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return 0<this._cmp(e,t)||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?At(this):new this.Collection(this,function(){return Dt(e,t,!n,!r)})}catch(e){return jt(this,Je)}},Bt.prototype.equals=function(e){return null==e?jt(this,Je):new this.Collection(this,function(){return Tt(e)})},Bt.prototype.above=function(e){return null==e?jt(this,Je):new this.Collection(this,function(){return Dt(e,void 0,!0)})},Bt.prototype.aboveOrEqual=function(e){return null==e?jt(this,Je):new this.Collection(this,function(){return Dt(e,void 0,!1)})},Bt.prototype.below=function(e){return null==e?jt(this,Je):new this.Collection(this,function(){return Dt(void 0,e,!1,!0)})},Bt.prototype.belowOrEqual=function(e){return null==e?jt(this,Je):new this.Collection(this,function(){return Dt(void 0,e)})},Bt.prototype.startsWith=function(e){return"string"!=typeof e?jt(this,Ze):this.between(e,e+He,!0,!0)},Bt.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):Ct(this,function(e,t){return 0===e.indexOf(t[0])},[e],He)},Bt.prototype.equalsIgnoreCase=function(e){return Ct(this,function(e,t){return e===t[0]},[e],"")},Bt.prototype.anyOfIgnoreCase=function(){var e=B.apply(q,arguments);return 0===e.length?At(this):Ct(this,function(e,t){return-1!==t.indexOf(e)},e,"")},Bt.prototype.startsWithAnyOfIgnoreCase=function(){var e=B.apply(q,arguments);return 0===e.length?At(this):Ct(this,function(e,t){return t.some(function(t){return 0===e.indexOf(t)})},e,He)},Bt.prototype.anyOf=function(){var e=this,t=B.apply(q,arguments),n=this._cmp;try{t.sort(n)}catch(r){return jt(this,Je)}if(0===t.length)return At(this);var r=new this.Collection(this,function(){return Dt(t[0],t[t.length-1])});r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var i=0;return r._addAlgorithm(function(e,r,o){for(var a=e.key;0<n(a,t[i]);)if(++i===t.length)return r(o),!1;return 0===n(a,t[i])||(r(function(){e.continue(t[i])}),!1)}),r},Bt.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Bt.prototype.noneOf=function(){var e=B.apply(q,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return jt(this,Je)}var t=e.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Bt.prototype.inAnyRange=function(e,t){var n=this,r=this._cmp,i=this._ascending,o=this._descending,a=this._min,u=this._max;if(0===e.length)return At(this);if(!e.every(function(e){return void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0}))return jt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",W.InvalidArgument);var s,c=!t||!1!==t.includeLowers,l=t&&!0===t.includeUppers,f=i;function h(e,t){return f(e[0],t[0])}try{(s=e.reduce(function(e,t){for(var n=0,i=e.length;n<i;++n){var o=e[n];if(r(t[0],o[1])<0&&0<r(t[1],o[0])){o[0]=a(o[0],t[0]),o[1]=u(o[1],t[1]);break}}return n===i&&e.push(t),e},[])).sort(h)}catch(e){return jt(this,Je)}var d=0,p=l?function(e){return 0<i(e,s[d][1])}:function(e){return 0<=i(e,s[d][1])},y=c?function(e){return 0<o(e,s[d][0])}:function(e){return 0<=o(e,s[d][0])},v=p;return(e=new this.Collection(this,function(){return Dt(s[0][0],s[s.length-1][1],!c,!l)}))._ondirectionchange=function(e){f="next"===e?(v=p,i):(v=y,o),s.sort(h)},e._addAlgorithm(function(e,t,r){for(var o,a=e.key;v(a);)if(++d===s.length)return t(r),!1;return!p(o=a)&&!y(o)||(0===n._cmp(a,s[d][1])||0===n._cmp(a,s[d][0])||t(function(){f===i?e.continue(s[d][0]):e.continue(s[d][1])}),!1)}),e},Bt.prototype.startsWithAnyOf=function(){var e=B.apply(q,arguments);return e.every(function(e){return"string"==typeof e})?0===e.length?At(this):this.inAnyRange(e.map(function(e){return[e,e+He]})):jt(this,"startsWithAnyOf() only works with strings")},Bt);function Bt(){}function It(e){return Te(function(t){return Rt(t),e(t.target.error),!1})}function Rt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var Ft="storagemutated",Mt="x-storagemutated-1",Nt=dt(null,Ft),Lt=(Ut.prototype._lock=function(){return b(!me.global),++this._reculock,1!==this._reculock||me.global||(me.lockOwnerFor=this),this},Ut.prototype._unlock=function(){if(b(!me.global),0==--this._reculock)for(me.global||(me.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{$e(e[1],e[0])}catch(e){}}return this},Ut.prototype._locked=function(){return this._reculock&&me.lockOwnerFor!==this},Ut.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(b(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new W.DatabaseClosed(r);case"MissingAPIError":throw new W.MissingAPI(r.message,r);default:throw new W.OpenFailed(r)}if(!this.active)throw new W.TransactionInactive;return b(null===this._completion._state),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Te(function(n){Rt(n),t._reject(e.error)}),e.onabort=Te(function(n){Rt(n),t.active&&t._reject(new W.Abort(e.error)),t.active=!1,t.on("abort").fire(n)}),e.oncomplete=Te(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&Nt.storagemutated.fire(e.mutatedParts)}),this},Ut.prototype._promise=function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return Xe(new W.ReadOnly("Transaction is readonly"));if(!this.active)return Xe(new W.TransactionInactive);if(this._locked())return new _e(function(i,o){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,o)},me])});if(n)return Ne(function(){var e=new _e(function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)});return e.finally(function(){return r._unlock()}),e._lib=!0,e});var i=new _e(function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)});return i._lib=!0,i},Ut.prototype._root=function(){return this.parent?this.parent._root():this},Ut.prototype.waitFor=function(e){var t,n=this._root(),r=_e.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then(function(){return r}):(n._waitingFor=r,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function e(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=e)}());var i=n._waitingFor;return new _e(function(e,t){r.then(function(t){return n._waitingQueue.push(Te(e.bind(null,t)))},function(e){return n._waitingQueue.push(Te(t.bind(null,e)))}).finally(function(){n._waitingFor===i&&(n._waitingFor=null)})})},Ut.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new W.Abort))},Ut.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(c(t,e))return t[e];var n=this.schema[e];if(!n)throw new W.NotFound("Table "+e+" not part of transaction");return(n=new this.db.Table(e,n,this)).core=this.db.core.table(e),t[e]=n},Ut);function Ut(){}function zt(e,t,n,r,i,o,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+Vt(t)}}function Vt(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Wt(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=function(e){return[e.name,e]},n.reduce(function(e,t,n){return(n=r(t))&&(e[n[0]]=n[1]),e},{}))};var r}var Yt=function(e){try{return e.only([[]]),Yt=function(){return[[]]},[[]]}catch(e){return Yt=function(){return He},He}};function $t(e){return null==e?function(){}:"string"==typeof e?1===(t=e).split(".").length?function(e){return e[t]}:function(e){return w(e,t)}:function(t){return w(t,e)};var t}function Qt(e){return[].slice.call(e)}var Gt=0;function Xt(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function Ht(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,r=e.upper,i=e.lowerOpen;e=e.upperOpen;return void 0===n?void 0===r?null:t.upperBound(r,!!e):void 0===r?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!e)}n=(c=(a=n,u=Qt((i=e).objectStoreNames),{schema:{name:i.name,tables:u.map(function(e){return a.objectStore(e)}).map(function(e){var t=e.keyPath,n=e.autoIncrement,r=o(t),i={};n={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==t,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:$t(t)},indexes:Qt(e.indexNames).map(function(t){return e.index(t)}).map(function(e){var t=e.name,n=e.unique,r=e.multiEntry;e=e.keyPath,r={name:t,compound:o(e),keyPath:e,unique:n,multiEntry:r,extractKey:$t(e)};return i[Xt(e)]=r}),getIndexByKeyPath:function(e){return i[Xt(e)]}};return i[":id"]=n.primaryKey,null!=t&&(i[Xt(t)]=n.primaryKey),n})},hasGetAll:0<u.length&&"getAll"in a.objectStore(u[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)})).schema;var i,a,u,s=c.hasGetAll,c=n.tables.map(function(e){var t,n=e.name;return{name:n,schema:e,mutate:function(e){var t=e.trans,i=e.type,o=e.keys,a=e.values,u=e.range;return new Promise(function(e,s){e=Te(e);var c=t.objectStore(n),l=null==c.keyPath,f="put"===i||"add"===i;if(!f&&"delete"!==i&&"deleteRange"!==i)throw new Error("Invalid operation type: "+i);var h,d=(o||a||{length:1}).length;if(o&&a&&o.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return e({numFailures:0,failures:{},results:[],lastResult:void 0});function p(e){++m,Rt(e)}var y=[],v=[],m=0;if("deleteRange"===i){if(4===u.type)return e({numFailures:m,failures:v,results:[],lastResult:void 0});3===u.type?y.push(h=c.clear()):y.push(h=c.delete(r(u)))}else{var b=(l=f?l?[a,o]:[a,null]:[o,null])[0],g=l[1];if(f)for(var w=0;w<d;++w)y.push(h=g&&void 0!==g[w]?c[i](b[w],g[w]):c[i](b[w])),h.onerror=p;else for(w=0;w<d;++w)y.push(h=c[i](b[w])),h.onerror=p}function _(t){t=t.target.result,y.forEach(function(e,t){return null!=e.error&&(v[t]=e.error)}),e({numFailures:m,failures:v,results:"delete"===i?o:y.map(function(e){return e.result}),lastResult:t})}h.onerror=function(e){p(e),_(e)},h.onsuccess=_})},getMany:function(e){var t=e.trans,r=e.keys;return new Promise(function(e,i){e=Te(e);for(var o,a=t.objectStore(n),u=r.length,s=new Array(u),c=0,l=0,f=function(t){t=t.target,s[t._pos]=t.result,++l===c&&e(s)},h=It(i),d=0;d<u;++d)null!=r[d]&&((o=a.get(r[d]))._pos=d,o.onsuccess=f,o.onerror=h,++c);0===c&&e(s)})},get:function(e){var t=e.trans,r=e.key;return new Promise(function(e,i){e=Te(e);var o=t.objectStore(n).get(r);o.onsuccess=function(t){return e(t.target.result)},o.onerror=It(i)})},query:(t=s,function(e){return new Promise(function(i,o){i=Te(i);var a,u,s,c=e.trans,l=e.values,f=e.limit,h=e.query,d=f===1/0?void 0:f,p=h.index;if(h=h.range,c=c.objectStore(n),p=p.isPrimaryKey?c:c.index(p.name),h=r(h),0===f)return i({result:[]});t?((d=l?p.getAll(h,d):p.getAllKeys(h,d)).onsuccess=function(e){return i({result:e.target.result})},d.onerror=It(o)):(a=0,u=!l&&"openKeyCursor"in p?p.openKeyCursor(h):p.openCursor(h),s=[],u.onsuccess=function(e){var t=u.result;return t?(s.push(l?t.value:t.primaryKey),++a===f?i({result:s}):void t.continue()):i({result:s})},u.onerror=It(o))})}),openCursor:function(e){var t=e.trans,i=e.values,o=e.query,a=e.reverse,u=e.unique;return new Promise(function(e,s){e=Te(e);var c=o.index,l=o.range,f=t.objectStore(n),h=(f=c.isPrimaryKey?f:f.index(c.name),c=a?u?"prevunique":"prev":u?"nextunique":"next",!i&&"openKeyCursor"in f?f.openKeyCursor(r(l),c):f.openCursor(r(l),c));h.onerror=It(s),h.onsuccess=Te(function(n){var r,i,o,a,u=h.result;u?(u.___id=++Gt,u.done=!1,r=u.continue.bind(u),i=(i=u.continuePrimaryKey)&&i.bind(u),o=u.advance.bind(u),a=function(){throw new Error("Cursor not stopped")},u.trans=t,u.stop=u.continue=u.continuePrimaryKey=u.advance=function(){throw new Error("Cursor not started")},u.fail=Te(s),u.next=function(){var e=this,t=1;return this.start(function(){return t--?e.continue():e.stop()}).then(function(){return e})},u.start=function(e){function t(){if(h.result)try{e()}catch(e){u.fail(e)}else u.done=!0,u.start=function(){throw new Error("Cursor behind last entry")},u.stop()}var n=new Promise(function(e,t){e=Te(e),h.onerror=It(t),u.fail=t,u.stop=function(t){u.stop=u.continue=u.continuePrimaryKey=u.advance=a,e(t)}});return h.onsuccess=Te(function(e){h.onsuccess=t,t()}),u.continue=r,u.continuePrimaryKey=i,u.advance=o,t(),n},e(u)):e(null)},s)})},count:function(e){var t=e.query,i=e.trans,o=t.index,a=t.range;return new Promise(function(e,t){var u=i.objectStore(n),s=o.isPrimaryKey?u:u.index(o.name);(s=(u=r(a))?s.count(u):s.count()).onsuccess=Te(function(t){return e(t.target.result)}),s.onerror=It(t)})}}}),l={};return c.forEach(function(e){return l[e.name]=e}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!l[e])throw new Error("Table '".concat(e,"' not found"));return l[e]},MIN_KEY:-1/0,MAX_KEY:Yt(t),schema:n}}function Jt(e,n){var r=n.db;n=function(e,n,r,i){var o=r.IDBKeyRange;return r.indexedDB,{dbcore:(i=Ht(n,o,i),e.dbcore.reduce(function(e,n){return n=n.create,t(t({},e),n(e))},i))}}(e._middlewares,r,e._deps,n);e.core=n.dbcore,e.tables.forEach(function(t){var n=t.name;e.core.schema.tables.some(function(e){return e.name===n})&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))})}function Zt(e,t,n,r){n.forEach(function(n){var i=r[n];t.forEach(function(t){var r=function e(t,n){return p(t,n)||(t=u(t))&&e(t,n)}(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?h(t,n,{get:function(){return this.table(n)},set:function(e){f(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,i))})})}function en(e,t){t.forEach(function(t){for(var n in t)t[n]instanceof e.Table&&delete t[n]})}function tn(e,t){return e._cfg.version-t._cfg.version}function nn(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],o=t[n];if(i){var a={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto)a.recreate=!0,r.change.push(a);else{var u=i.idxByName,s=o.idxByName,c=void 0;for(c in u)s[c]||a.del.push(c);for(c in s){var l=u[c],f=s[c];l?l.src!==f.src&&a.change.push(f):a.add.push(f)}(0<a.del.length||0<a.add.length||0<a.change.length)&&r.change.push(a)}}else r.add.push([n,o])}return r}function rn(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(e){return an(i,e)}),i}function on(e,t){i(e).forEach(function(n){t.db.objectStoreNames.contains(n)||(re&&console.debug("Dexie: Creating missing table",n),rn(t,n,e[n].primKey,e[n].indexes))})}function an(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function un(e,t,n){var r={};return v(t.objectStoreNames,0).forEach(function(e){for(var t=n.objectStore(e),i=zt(Vt(u=t.keyPath),u||"",!0,!1,!!t.autoIncrement,u&&"string"!=typeof u,!0),o=[],a=0;a<t.indexNames.length;++a){var u=(s=t.index(t.indexNames[a])).keyPath,s=zt(s.name,u,!!s.unique,!!s.multiEntry,!1,u&&"string"!=typeof u,!1);o.push(s)}r[e]=Wt(e,i,o)}),r}function sn(e,t,n){for(var i=n.db.objectStoreNames,o=0;o<i.length;++o){var a=i[o],u=n.objectStore(a);e._hasGetAll="getAll"in u;for(var s=0;s<u.indexNames.length;++s){var c=u.indexNames[s],l=u.index(c).keyPath,f="string"==typeof l?l:"["+v(l).join("+")+"]";!t[a]||(l=t[a].idxByName[f])&&(l.name=c,delete t[a].idxByName[f],t[a].idxByName[c]=l)}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function cn(e){return e.split(",").map(function(e,t){var n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return zt(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),o(r),0===t)})}var ln=(fn.prototype._parseStoresSpec=function(e,t){i(e).forEach(function(n){if(null!==e[n]){var r=cn(e[n]),i=r.shift();if(i.unique=!0,i.multi)throw new W.Schema("Primary key cannot be multi-valued");r.forEach(function(e){if(e.auto)throw new W.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new W.Schema("Index must have a name and cannot be an empty string")}),t[n]=Wt(n,i,r)}})},fn.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,e):e;e=t._versions;var n={},r={};return e.forEach(function(e){a(n,e._cfg.storesSource),r=e._cfg.dbschema={},e._parseStoresSpec(n,r)}),t._dbSchema=r,en(t,[t._allTables,t,t.Transaction.prototype]),Zt(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],i(r),r),t._storeNames=i(r),this},fn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=ne(this._cfg.contentUpgrade||Q,e),this},fn);function fn(){}function hn(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Gn(tt,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function dn(e){return e&&"function"==typeof e.databases}function pn(e){return Ne(function(){return me.letThrough=!0,e()})}function yn(e){return!("from"in e)}var vn=function(e,t){if(!this){var n=new vn;return e&&"d"in e&&a(n,e),n}a(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function mn(e,t,n){var r=st(t,n);if(!isNaN(r)){if(0<r)throw RangeError();if(yn(e))return a(e,{from:t,to:n,d:1});var i=e.l;r=e.r;if(st(n,e.from)<0)return i?mn(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},_n(e);if(0<st(t,e.to))return r?mn(r,t,n):e.r={from:t,to:n,d:1,l:null,r:null},_n(e);st(t,e.from)<0&&(e.from=t,e.l=null,e.d=r?r.d+1:1),0<st(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,i&&!e.l&&bn(e,i),r&&n&&bn(e,r)}}function bn(e,t){yn(t)||function e(t,n){var r=n.from,i=n.to,o=n.l;n=n.r;mn(t,r,i),o&&e(t,o),n&&e(t,n)}(e,t)}function gn(e,t){var n=wn(t),r=n.next();if(r.done)return!1;for(var i=r.value,o=wn(e),a=o.next(i.from),u=a.value;!r.done&&!a.done;){if(st(u.from,i.to)<=0&&0<=st(u.to,i.from))return!0;st(i.from,u.from)<0?i=(r=n.next(u.from)).value:u=(a=o.next(i.from)).value}return!1}function wn(e){var t=yn(e)?null:{s:0,n:e};return{next:function(e){for(var n=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&st(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||st(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function _n(e){var n,r,i=((null===(n=e.r)||void 0===n?void 0:n.d)||0)-((null===(r=e.l)||void 0===r?void 0:r.d)||0),o=1<i?"r":i<-1?"l":"";o&&(n="r"==o?"l":"r",r=t({},e),i=e[o],e.from=i.from,e.to=i.to,e[o]=i[o],r[o]=i[n],(e[n]=r).d=xn(r)),e.d=xn(e)}function xn(e){var t=e.r;e=e.l;return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}function kn(e,t){return i(t).forEach(function(n){e[n]?bn(e[n],t[n]):e[n]=function e(t){var n,r,i={};for(n in t)c(t,n)&&(r=t[n],i[n]=!r||"object"!=typeof r||E.has(r.constructor)?r:e(r));return i}(t[n])}),e}function On(e,t){return e.all||t.all||Object.keys(e).some(function(n){return t[n]&&gn(t[n],e[n])})}l(vn.prototype,((R={add:function(e){return bn(this,e),this},addKey:function(e){return mn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(e){return mn(t,e,e)}),this}})[C]=function(){return wn(this)},R));var Pn={},En={},Kn=!1;function Sn(e){kn(En,e),Kn||(Kn=!0,setTimeout(function(){Kn=!1,jn(En,!(En={}))},0))}function jn(e,t){void 0===t&&(t=!1);var n=new Set;if(e.all)for(var r=0,i=Object.values(Pn);r<i.length;r++)An(a=i[r],e,n,t);else for(var o in e){var a,u=/^idb\:\/\/(.*)\/(.*)\//.exec(o);u&&(o=u[1],u=u[2],(a=Pn["idb://".concat(o,"/").concat(u)])&&An(a,e,n,t))}n.forEach(function(e){return e()})}function An(e,t,n,r){for(var i=[],o=0,a=Object.entries(e.queries.query);o<a.length;o++){for(var u=a[o],s=u[0],c=[],l=0,f=u[1];l<f.length;l++){var h=f[l];On(t,h.obsSet)?h.subscribers.forEach(function(e){return n.add(e)}):r&&c.push(h)}r&&i.push([s,c])}if(r)for(var d=0,p=i;d<p.length;d++){var y=p[d];s=y[0],c=y[1];e.queries.query[s]=c}}function Cn(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?Xe(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller,o=Math.round(10*e.verno),a=!1;function u(){if(t.openCanceller!==r)throw new W.DatabaseClosed("db.open() was cancelled")}var s,c=t.dbReadyResolve,l=null,f=!1;return _e.race([r,("undefined"==typeof navigator?_e.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){function t(){return indexedDB.databases().finally(e)}s=setInterval(t,100),t()}).finally(function(){return clearInterval(s)}):Promise.resolve()).then(function r(){return new _e(function(s,c){if(u(),!n)throw new W.MissingAPI;var h=e.name,d=t.autoSchema||!o?n.open(h):n.open(h,o);if(!d)throw new W.MissingAPI;d.onerror=It(c),d.onblocked=Te(e._fireOnBlocked),d.onupgradeneeded=Te(function(r){var o;l=d.transaction,t.autoSchema&&!e._options.allowEmptyDB?(d.onerror=Rt,l.abort(),d.result.close(),(o=n.deleteDatabase(h)).onsuccess=o.onerror=Te(function(){c(new W.NoSuchDatabase("Database ".concat(h," doesnt exist")))})):(l.onerror=It(c),r=r.oldVersion>Math.pow(2,62)?0:r.oldVersion,f=r<1,e.idbdb=d.result,a&&function(e,t){on(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=un(0,e.idbdb,t);sn(e,e._dbSchema,t);for(var r=0,i=nn(n,e._dbSchema).change;r<i.length;r++){var o=function(e){if(e.change.length||e.recreate)return console.warn("Unable to patch indexes of table ".concat(e.name," because it has changes on the type of index or primary key.")),{value:void 0};var n=t.objectStore(e.name);e.add.forEach(function(t){re&&console.debug("Dexie upgrade patch: Creating missing index ".concat(e.name,".").concat(t.src)),an(n,t)})}(i[r]);if("object"==typeof o)return o.value}}(e,l),function(e,t,n,r){var o=e._dbSchema;n.objectStoreNames.contains("$meta")&&!o.$meta&&(o.$meta=Wt("$meta",cn("")[0],[]),e._storeNames.push("$meta"));var a=e._createTransaction("readwrite",e._storeNames,o);a.create(n),a._completion.catch(r);var u=a._reject.bind(a),s=me.transless||me;Ne(function(){return me.trans=a,me.transless=s,0!==t?(Jt(e,n),c=t,((r=a).storeNames.includes("$meta")?r.table("$meta").get("version").then(function(e){return null!=e?e:c}):_e.resolve(c)).then(function(t){return o=t,u=a,s=n,c=[],t=(r=e)._versions,l=r._dbSchema=un(0,r.idbdb,s),0!==(t=t.filter(function(e){return e._cfg.version>=o})).length?(t.forEach(function(e){c.push(function(){var t=l,n=e._cfg.dbschema;sn(r,t,s),sn(r,n,s),l=r._dbSchema=n;var a=nn(t,n);a.add.forEach(function(e){rn(s,e[0],e[1].primKey,e[1].indexes)}),a.change.forEach(function(e){if(e.recreate)throw new W.Upgrade("Not yet support for changing primary key");var t=s.objectStore(e.name);e.add.forEach(function(e){return an(t,e)}),e.change.forEach(function(e){t.deleteIndex(e.name),an(t,e)}),e.del.forEach(function(e){return t.deleteIndex(e)})});var c=e._cfg.contentUpgrade;if(c&&e._cfg.version>o){Jt(r,s),u._memoizedTables={};var f=x(n);a.del.forEach(function(e){f[e]=t[e]}),en(r,[r.Transaction.prototype]),Zt(r,[r.Transaction.prototype],i(f),f),u.schema=f;var h,d=I(c);return d&&Le(),a=_e.follow(function(){var e;(h=c(u))&&d&&(e=Ue.bind(null,null),h.then(e,e))}),h&&"function"==typeof h.then?_e.resolve(h):a.then(function(){return h})}}),c.push(function(t){var n,i,o=e._cfg.dbschema;n=o,i=t,[].slice.call(i.db.objectStoreNames).forEach(function(e){return null==n[e]&&i.db.deleteObjectStore(e)}),en(r,[r.Transaction.prototype]),Zt(r,[r.Transaction.prototype],r._storeNames,r._dbSchema),u.schema=r._dbSchema}),c.push(function(t){r.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(r.idbdb.version/10)===e._cfg.version?(r.idbdb.deleteObjectStore("$meta"),delete r._dbSchema.$meta,r._storeNames=r._storeNames.filter(function(e){return"$meta"!==e})):t.objectStore("$meta").put(e._cfg.version,"version"))})}),function e(){return c.length?_e.resolve(c.shift()(u.idbtrans)).then(e):_e.resolve()}().then(function(){on(l,s)})):_e.resolve();var r,o,u,s,c,l}).catch(u)):(i(o).forEach(function(e){rn(n,e,o[e].primKey,o[e].indexes)}),Jt(e,n),void _e.follow(function(){return e.on.populate.fire(a)}).catch(u));var r,c})}(e,r/10,l,c))},c),d.onsuccess=Te(function(){l=null;var n,u,c,p,y,m=e.idbdb=d.result,b=v(m.objectStoreNames);if(0<b.length)try{var g=m.transaction(1===(p=b).length?p[0]:p,"readonly");if(t.autoSchema)u=m,c=g,(n=e).verno=u.version/10,c=n._dbSchema=un(0,u,c),n._storeNames=v(u.objectStoreNames,0),Zt(n,[n._allTables],i(c),c);else if(sn(e,e._dbSchema,g),((y=nn(un(0,(y=e).idbdb,g),y._dbSchema)).add.length||y.change.some(function(e){return e.add.length||e.change.length}))&&!a)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),m.close(),o=m.version+1,a=!0,s(r());Jt(e,g)}catch(n){}et.push(e),m.onversionchange=Te(function(n){t.vcFired=!0,e.on("versionchange").fire(n)}),m.onclose=Te(function(t){e.on("close").fire(t)}),f&&(y=e._deps,g=h,m=y.indexedDB,y=y.IDBKeyRange,dn(m)||g===tt||hn(m,y).put({name:g}).catch(Q)),s()},c)}).catch(function(e){switch(null==e?void 0:e.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),r();break;case"VersionError":if(0<o)return o=0,r()}return _e.reject(e)})})]).then(function(){return u(),t.onReadyBeingFired=[],_e.resolve(pn(function(){return e.on.ready.fire(e.vip)})).then(function n(){if(0<t.onReadyBeingFired.length){var r=t.onReadyBeingFired.reduce(ne,Q);return t.onReadyBeingFired=[],_e.resolve(pn(function(){return r(e.vip)})).then(n)}})}).finally(function(){t.openCanceller===r&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(n){t.dbOpenError=n;try{l&&l.abort()}catch(n){}return r===t.openCanceller&&e._close(),Xe(n)}).finally(function(){t.openComplete=!0,c()}).then(function(){var t;return f&&(t={},e.tables.forEach(function(n){n.schema.indexes.forEach(function(r){r.name&&(t["idb://".concat(e.name,"/").concat(n.name,"/").concat(r.name)]=new vn(-1/0,[[[]]]))}),t["idb://".concat(e.name,"/").concat(n.name,"/")]=t["idb://".concat(e.name,"/").concat(n.name,"/:dels")]=new vn(-1/0,[[[]]])}),Nt(Ft).fire(t),jn(t,!0)),e})}function Dn(e){function t(t){return e.next(t)}var n=i(t),r=i(function(t){return e.throw(t)});function i(e){return function(t){var i=e(t);t=i.value;return i.done?t:t&&"function"==typeof t.then?t.then(n,r):o(t)?Promise.all(t).then(n,r):n(t)}}return i(t)()}function Tn(e,t,n){for(var r=o(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}var qn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return t(t({},e),{table:function(n){var r=e.table(n),i=r.schema,o={},a=[];function u(e,n,r){var i=Xt(e),s=o[i]=o[i]||[],c=null==e?0:"string"==typeof e?1:e.length,l=0<n;l=t(t({},r),{name:l?"".concat(i,"(virtual-from:").concat(r.name,")"):r.name,lowLevelIndex:r,isVirtual:l,keyTail:n,keyLength:c,extractKey:$t(e),unique:!l&&r.unique});return s.push(l),l.isPrimaryKey||a.push(l),1<c&&u(2===c?e[0]:e.slice(0,c-1),n+1,r),s.sort(function(e,t){return e.keyTail-t.keyTail}),l}n=u(i.primaryKey.keyPath,0,i.primaryKey),o[":id"]=[n];for(var s=0,c=i.indexes;s<c.length;s++){var l=c[s];u(l.keyPath,0,l)}function f(n){var r,i=n.query.index;return i.isVirtual?t(t({},n),{query:{index:i.lowLevelIndex,range:(r=n.query.range,i=i.keyTail,{type:1===r.type?2:r.type,lower:Tn(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:Tn(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}):n}return t(t({},r),{schema:t(t({},i),{primaryKey:n,indexes:a,getIndexByKeyPath:function(e){return(e=o[Xt(e)])&&e[0]}}),count:function(e){return r.count(f(e))},query:function(e){return r.query(f(e))},openCursor:function(t){var n=t.query.index,i=n.keyTail,o=n.isVirtual,a=n.keyLength;return o?r.openCursor(f(t)).then(function(n){return n&&(r=n,Object.create(r,{continue:{value:function(n){null!=n?r.continue(Tn(n,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?r.continue(r.key.slice(0,a).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,i)):r.continue()}},continuePrimaryKey:{value:function(t,n){r.continuePrimaryKey(Tn(t,e.MAX_KEY,i),n)}},primaryKey:{get:function(){return r.primaryKey}},key:{get:function(){var e=r.key;return 1===a?e[0]:e.slice(0,a)}},value:{get:function(){return r.value}}}));var r}):r.openCursor(t)}})}})}};function Bn(e,t,n,r){return n=n||{},r=r||"",i(e).forEach(function(i){var o,a,u;c(t,i)?(o=e[i],a=t[i],"object"==typeof o&&"object"==typeof a&&o&&a?(u=A(o))!==A(a)?n[r+i]=t[i]:"Object"===u?Bn(o,a,n,r+i+"."):o!==a&&(n[r+i]=t[i]):o!==a&&(n[r+i]=t[i])):n[r+i]=void 0}),i(t).forEach(function(i){c(e,i)||(n[r+i]=t[i])}),n}function In(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}var Rn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return t(t({},e),{table:function(r){var i=e.table(r),o=i.schema.primaryKey;return t(t({},i),{mutate:function(e){var a=me.trans,u=a.table(r).hook,s=u.deleting,l=u.creating,f=u.updating;switch(e.type){case"add":if(l.fire===Q)break;return a._promise("readwrite",function(){return h(e)},!0);case"put":if(l.fire===Q&&f.fire===Q)break;return a._promise("readwrite",function(){return h(e)},!0);case"delete":if(s.fire===Q)break;return a._promise("readwrite",function(){return h(e)},!0);case"deleteRange":if(s.fire===Q)break;return a._promise("readwrite",function(){return function e(n,r,a){return i.query({trans:n,values:!1,query:{index:o,range:r},limit:a}).then(function(i){var o=i.result;return h({type:"delete",keys:o,trans:n}).then(function(i){return 0<i.numFailures?Promise.reject(i.failures[0]):o.length<a?{failures:[],numFailures:0,lastResult:void 0}:e(n,t(t({},r),{lower:o[o.length-1],lowerOpen:!0}),a)})})}(e.trans,e.range,1e4)},!0)}return i.mutate(e);function h(e){var r,a,u,h=me.trans,d=e.keys||In(o,e);if(!d)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?t(t({},e),{keys:d}):t({},e)).type&&(e.values=n([],e.values,!0)),e.keys&&(e.keys=n([],e.keys,!0)),r=i,u=d,("add"===(a=e).type?Promise.resolve([]):r.getMany({trans:a.trans,keys:u,cache:"immutable"})).then(function(t){var n=d.map(function(n,r){var i,a,u,d=t[r],p={onerror:null,onsuccess:null};return"delete"===e.type?s.fire.call(p,n,d,h):"add"===e.type||void 0===d?(i=l.fire.call(p,n,e.values[r],h),null==n&&null!=i&&(e.keys[r]=n=i,o.outbound||_(e.values[r],o.keyPath,n))):(i=Bn(d,e.values[r]),(a=f.fire.call(p,i,n,d,h))&&(u=e.values[r],Object.keys(a).forEach(function(e){c(u,e)?u[e]=a[e]:_(u,e,a[e])}))),p});return i.mutate(e).then(function(r){for(var i=r.failures,o=r.results,a=r.numFailures,u=(r=r.lastResult,0);u<d.length;++u){var s=(o||d)[u],c=n[u];null==s?c.onerror&&c.onerror(i[u]):c.onsuccess&&c.onsuccess("put"===e.type&&t[u]?e.values[u]:s)}return{failures:i,results:o,numFailures:a,lastResult:r}}).catch(function(e){return n.forEach(function(t){return t.onerror&&t.onerror(e)}),Promise.reject(e)})})}}})}})}};function Fn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],i=0,o=0;i<t.keys.length&&o<e.length;++i)0===st(t.keys[i],e[o])&&(r.push(n?S(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch(e){return null}}var Mn={stack:"dbcore",level:-1,create:function(e){return{table:function(n){var r=e.table(n);return t(t({},r),{getMany:function(e){if(!e.cache)return r.getMany(e);var t=Fn(e.keys,e.trans._cache,"clone"===e.cache);return t?_e.resolve(t):r.getMany(e).then(function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?S(t):t},t})},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),r.mutate(e)}})}}}};function Nn(e,t){return"readonly"===e.trans.mode&&!!e.subscr&&!e.trans.explicit&&"disabled"!==e.trans.db._options.cache&&!t.schema.primaryKey.outbound}function Ln(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Un={stack:"dbcore",level:0,name:"Observability",create:function(e){var n=e.schema.name,r=new vn(e.MIN_KEY,e.MAX_KEY);return t(t({},e),{transaction:function(t,n,r){if(me.subscr&&"readonly"!==n)throw new W.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(me.querier));return e.transaction(t,n,r)},table:function(a){function u(t){t=(n=t.query).index;var n=n.range;return[t,new vn(null!==(t=n.lower)&&void 0!==t?t:e.MIN_KEY,null!==(n=n.upper)&&void 0!==n?n:e.MAX_KEY)]}var s=e.table(a),c=s.schema,l=c.primaryKey,f=l.extractKey,h=l.outbound,d=t(t({},s),{mutate:function(e){function t(e){return e="idb://".concat(n,"/").concat(a,"/").concat(e),d[e]||(d[e]=new vn)}var i,u,f,h=e.trans,d=e.mutatedParts||(e.mutatedParts={}),p=t(""),y=t(":dels"),v=e.type,m=(g="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[In(l,e).filter(function(e){return e}),e.values]:[])[0],b=g[1],g=e.trans._cache;return o(m)?(p.addKeys(m),(g="delete"===v||m.length===b.length?Fn(m,g):null)||y.addKeys(m),(g||b)&&(i=t,u=g,f=b,c.indexes.forEach(function(e){var t=i(e.name||"");function n(t){return null!=t?e.extractKey(t):null}function r(n){return e.multiEntry&&o(n)?n.forEach(function(e){return t.addKey(e)}):t.addKey(n)}(u||f).forEach(function(e,t){var i=u&&n(u[t]);0!==st(i,t=f&&n(f[t]))&&(null!=i&&r(i),null!=t&&r(t))})}))):m?(b={from:m.lower,to:m.upper},y.add(b),p.add(b)):(p.add(r),y.add(r),c.indexes.forEach(function(e){return t(e.name).add(r)})),s.mutate(e).then(function(t){return!m||"add"!==e.type&&"put"!==e.type||p.addKeys(t.results),h.mutatedParts=kn(h.mutatedParts||{},d),t})}}),p={get:function(e){return[l,new vn(e.key)]},getMany:function(e){return[l,(new vn).addKeys(e.keys)]},count:u,query:u,openCursor:u};return i(p).forEach(function(e){d[e]=function(i){var o=!!(y=me.subscr),u=Nn(me,s)&&Ln(e,i)?i.obsSet={}:y;if(o){var c=function(e){return e="idb://".concat(n,"/").concat(a,"/").concat(e),u[e]||(u[e]=new vn)},l=c(""),d=c(":dels"),y=(o=(y=p[e](i))[0],y[1]);if(("query"===e&&o.isPrimaryKey&&!i.values?d:c(o.name||"")).add(y),!o.isPrimaryKey){if("count"!==e){var v="query"===e&&h&&i.values&&s.query(t(t({},i),{values:!1}));return s[e].apply(this,arguments).then(function(t){if("query"===e){if(h&&i.values)return v.then(function(e){return e=e.result,l.addKeys(e),t});var n=i.values?t.result.map(f):t.result;(i.values?l:d).addKeys(n)}else if("openCursor"===e){var r=t,o=i.values;return r&&Object.create(r,{key:{get:function(){return d.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return d.addKey(e),e}},value:{get:function(){return o&&l.addKey(r.primaryKey),r.value}}})}return t})}d.add(r)}}return s[e].apply(this,arguments)}}),d}})}};function zn(e,n,r){if(0===r.numFailures)return n;if("deleteRange"===n.type)return null;var i=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;return r.numFailures===i?null:(n=t({},n),o(n.keys)&&(n.keys=n.keys.filter(function(e,t){return!(t in r.failures)})),"values"in n&&o(n.values)&&(n.values=n.values.filter(function(e,t){return!(t in r.failures)})),n)}function Vn(e,t){return n=e,(void 0===(r=t).lower||(r.lowerOpen?0<st(n,r.lower):0<=st(n,r.lower)))&&(e=e,void 0===(t=t).upper||(t.upperOpen?st(e,t.upper)<0:st(e,t.upper)<=0));var n,r}function Wn(e,t,n,r,i,a){if(!n||0===n.length)return e;var u=t.query.index,s=u.multiEntry,c=t.query.range,l=r.schema.primaryKey.extractKey,f=u.extractKey,h=(u.lowLevelIndex||u).extractKey;return(n=n.reduce(function(e,n){var r=e,i="add"===n.type||"put"===n.type?n.values.filter(function(e){return e=f(e),s&&o(e)?e.some(function(e){return Vn(e,c)}):Vn(e,c)}).map(function(e){return e=S(e),a&&Object.freeze(e),e}):[];switch(n.type){case"add":r=e.concat(t.values?i:i.map(function(e){return l(e)}));break;case"put":var u=(new vn).addKeys(n.values.map(function(e){return l(e)}));r=e.filter(function(e){return e=t.values?l(e):e,!gn(new vn(e),u)}).concat(t.values?i:i.map(function(e){return l(e)}));break;case"delete":var h=(new vn).addKeys(n.keys);r=e.filter(function(e){return e=t.values?l(e):e,!gn(new vn(e),h)});break;case"deleteRange":var d=n.range;r=e.filter(function(e){return!Vn(l(e),d)})}return r},e))===e?e:(n.sort(function(e,t){return st(h(e),h(t))||st(l(e),l(t))}),t.limit&&t.limit<1/0&&(n.length>t.limit?n.length=t.limit:e.length===t.limit&&n.length<t.limit&&(i.dirty=!0)),a?Object.freeze(n):n)}function Yn(e,t){return 0===st(e.lower,t.lower)&&0===st(e.upper,t.upper)&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}var $n={stack:"dbcore",level:0,name:"Cache",create:function(e){var n=e.schema.name;return t(t({},e),{transaction:function(t,r,i){var o,a,u=e.transaction(t,r,i);return"readwrite"===r&&(a=(o=new AbortController).signal,i=function(i){return function(){if(o.abort(),"readwrite"===r){for(var a=new Set,s=0,c=t;s<c.length;s++){var l=c[s],f=Pn["idb://".concat(n,"/").concat(l)];if(f){var h=e.table(l),d=f.optimisticOps.filter(function(e){return e.trans===u});if(u._explicit&&i&&u.mutatedParts)for(var p=0,y=Object.values(f.queries.query);p<y.length;p++)for(var v=0,m=(w=y[p]).slice();v<m.length;v++)On((_=m[v]).obsSet,u.mutatedParts)&&(T(w,_),_.subscribers.forEach(function(e){return a.add(e)}));else if(0<d.length){f.optimisticOps=f.optimisticOps.filter(function(e){return e.trans!==u});for(var b=0,g=Object.values(f.queries.query);b<g.length;b++)for(var w,_,x,k=0,O=(w=g[b]).slice();k<O.length;k++)null!=(_=O[k]).res&&u.mutatedParts&&(i&&!_.dirty?(x=Object.isFrozen(_.res),x=Wn(_.res,_.req,d,h,_,x),_.dirty?(T(w,_),_.subscribers.forEach(function(e){return a.add(e)})):x!==_.res&&(_.res=x,_.promise=_e.resolve({result:x}))):(_.dirty&&T(w,_),_.subscribers.forEach(function(e){return a.add(e)})))}}}a.forEach(function(e){return e()})}}},u.addEventListener("abort",i(!1),{signal:a}),u.addEventListener("error",i(!1),{signal:a}),u.addEventListener("complete",i(!0),{signal:a})),u},table:function(r){var i=e.table(r),o=i.schema.primaryKey;return t(t({},i),{mutate:function(e){var a=me.trans;if(o.outbound||"disabled"===a.db._options.cache||a.explicit)return i.mutate(e);var u=Pn["idb://".concat(n,"/").concat(r)];return u?(a=i.mutate(e),"add"!==e.type&&"put"!==e.type||!(50<=e.values.length||In(o,e).some(function(e){return null==e}))?(u.optimisticOps.push(e),e.mutatedParts&&Sn(e.mutatedParts),a.then(function(t){0<t.numFailures&&(T(u.optimisticOps,e),(t=zn(0,e,t))&&u.optimisticOps.push(t),e.mutatedParts&&Sn(e.mutatedParts))}),a.catch(function(){T(u.optimisticOps,e),e.mutatedParts&&Sn(e.mutatedParts)})):a.then(function(n){var r=zn(0,t(t({},e),{values:e.values.map(function(e,r){var i;return _(e=null!==(i=o.keyPath)&&void 0!==i&&i.includes(".")?S(e):t({},e),o.keyPath,n.results[r]),e})}),n);u.optimisticOps.push(r),queueMicrotask(function(){return e.mutatedParts&&Sn(e.mutatedParts)})}),a):i.mutate(e)},query:function(e){if(!Nn(me,i)||!Ln("query",e))return i.query(e);var t="immutable"===(null===(u=me.trans)||void 0===u?void 0:u.db._options.cache),o=(c=me).requery,a=c.signal,u=function(e,t,r,i){var o=Pn["idb://".concat(n,"/").concat(t)];if(!o)return[];if(!(t=o.queries[r]))return[null,!1,o,null];var a=t[(i.query?i.query.index.name:null)||""];if(!a)return[null,!1,o,null];var u=a.find(function(e){return e.req.limit===i.limit&&e.req.values===i.values&&Yn(e.req.query.range,i.query.range)});return u?[u,!0,o,a]:[a.find(function(e){return("limit"in e.req?e.req.limit:1/0)>=i.limit&&(!i.values||e.req.values)&&function(e,t){return function(e,t,n,r){if(void 0===e)return void 0!==t?-1:0;if(void 0===t)return 1;if(0===(t=st(e,t))){if(n&&r)return 0;if(n)return 1;if(r)return-1}return t}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(e,t,n,r){if(void 0===e)return void 0!==t?1:0;if(void 0===t)return-1;if(0===(t=st(e,t))){if(n&&r)return 0;if(n)return-1;if(r)return 1}return t}(e.upper,t.upper,e.upperOpen,t.upperOpen)}(e.req.query.range,i.query.range)}),!1,o,a]}(0,r,"query",e),s=u[0],c=u[1],l=u[2],f=u[3];return s&&c?s.obsSet=e.obsSet:(c=i.query(e).then(function(e){var n=e.result;if(s&&(s.res=n),t){for(var r=0,i=n.length;r<i;++r)Object.freeze(n[r]);Object.freeze(n)}else e.result=S(n);return e}).catch(function(e){return f&&s&&T(f,s),Promise.reject(e)}),s={obsSet:e.obsSet,promise:c,subscribers:new Set,type:"query",req:e,dirty:!1},f?f.push(s):(f=[s],(l=l||(Pn["idb://".concat(n,"/").concat(r)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[e.query.index.name||""]=f)),function(e,t,n,r){e.subscribers.add(n),r.addEventListener("abort",function(){var r,i;e.subscribers.delete(n),0===e.subscribers.size&&(r=e,i=t,setTimeout(function(){0===r.subscribers.size&&T(i,r)},3e3))})}(s,f,o,a),s.promise.then(function(n){return{result:Wn(n.result,e,null==l?void 0:l.optimisticOps,i,s,t)}})}})}})}};function Qn(e,t){return new Proxy(e,{get:function(e,n,r){return"db"===n?t:Reflect.get(e,n,r)}})}var Gn=(Xn.prototype.version=function(e){if(isNaN(e)||e<.1)throw new W.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new W.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter(function(t){return t._cfg.version===e})[0];return n||(n=new this.Version(e),t.push(n),t.sort(tn),n.stores({}),this._state.autoSchema=!1,n)},Xn.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||me.letThrough||this._vip)?e():new _e(function(e,n){if(t._state.openComplete)return n(new W.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void n(new W.DatabaseClosed);t.open().catch(Q)}t._state.dbReadyPromise.then(e,n)}).then(e)},Xn.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,i=e.name;return i&&this.unuse({stack:t,name:i}),(e=this._middlewares[t]||(this._middlewares[t]=[])).push({stack:t,create:n,level:null==r?10:r,name:i}),e.sort(function(e,t){return e.level-t.level}),this},Xn.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(e){return r?e.create!==r:!!n&&e.name!==n})),this},Xn.prototype.open=function(){var e=this;return $e(ve,function(){return Cn(e)})},Xn.prototype._close=function(){var e=this._state,t=et.indexOf(this);if(0<=t&&et.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(t){}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new _e(function(t){e.dbReadyResolve=t}),e.openCanceller=new _e(function(t,n){e.cancelOpen=n}))},Xn.prototype.close=function(e){var t=(void 0===e?{disableAutoOpen:!0}:e).disableAutoOpen;e=this._state;t?(e.isBeingOpened&&e.cancelOpen(new W.DatabaseClosed),this._close(),e.autoOpen=!1,e.dbOpenError=new W.DatabaseClosed):(this._close(),e.autoOpen=this._options.autoOpen||e.isBeingOpened,e.openComplete=!1,e.dbOpenError=null)},Xn.prototype.delete=function(e){var t=this;void 0===e&&(e={disableAutoOpen:!0});var n=0<arguments.length&&"object"!=typeof arguments[0],r=this._state;return new _e(function(i,o){function a(){t.close(e);var n=t._deps.indexedDB.deleteDatabase(t.name);n.onsuccess=Te(function(){var e,n,r;e=t._deps,n=t.name,r=e.indexedDB,e=e.IDBKeyRange,dn(r)||n===tt||hn(r,e).delete(n).catch(Q),i()}),n.onerror=It(o),n.onblocked=t._fireOnBlocked}if(n)throw new W.InvalidArgument("Invalid closeOptions argument to db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()})},Xn.prototype.backendDB=function(){return this.idbdb},Xn.prototype.isOpen=function(){return null!==this.idbdb},Xn.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},Xn.prototype.hasFailed=function(){return null!==this._state.dbOpenError},Xn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Xn.prototype,"tables",{get:function(){var e=this;return i(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),Xn.prototype.transaction=function(){var e=function(e,t,n){var r=arguments.length;if(r<2)throw new W.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,O(i),n]}.apply(this,arguments);return this._transaction.apply(this,e)},Xn.prototype._transaction=function(e,t,n){var r=this,i=me.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);var o,a,u=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(a=t.map(function(e){if("string"!=typeof(e=e instanceof r.Table?e.name:e))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e}),"r"==e||e===nt)o=nt;else{if("rw"!=e&&e!=rt)throw new W.InvalidArgument("Invalid transaction mode: "+e);o=rt}if(i){if(i.mode===nt&&o===rt){if(!u)throw new W.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach(function(e){if(i&&-1===i.storeNames.indexOf(e)){if(!u)throw new W.SubTransaction("Table "+e+" not included in parent transaction.");i=null}}),u&&i&&!i.active&&(i=null)}}catch(n){return i?i._promise(null,function(e,t){t(n)}):Xe(n)}var s=function e(t,n,r,i,o){return _e.resolve().then(function(){var a=me.transless||me,u=t._createTransaction(n,r,t._dbSchema,i);if(u.explicit=!0,a={trans:u,transless:a},i)u.idbtrans=i.idbtrans;else try{u.create(),u.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(a){return a.name===z.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return e(t,n,r,null,o)})):Xe(a)}var s,c=I(o);return c&&Le(),a=_e.follow(function(){var e;(s=o.call(u,u))&&(c?(e=Ue.bind(null,null),s.then(e,e)):"function"==typeof s.next&&"function"==typeof s.throw&&(s=Dn(s)))},a),(s&&"function"==typeof s.then?_e.resolve(s).then(function(e){return u.active?e:Xe(new W.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):a.then(function(){return s})).then(function(e){return i&&u._resolve(),u._completion.then(function(){return e})}).catch(function(e){return u._reject(e),Xe(e)})})}.bind(null,this,o,a,i,n);return i?i._promise(o,s,"lock"):me.trans?$e(me.transless,function(){return r._whenReady(s)}):this._whenReady(s)},Xn.prototype.table=function(e){if(!c(this._allTables,e))throw new W.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},Xn);function Xn(e,n){var r=this;this._middlewares={},this.verno=0;var i=Xn.dependencies;this._options=n=t({addons:Xn.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange},i=n.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o,a,u,s,c,l={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Q,dbReadyPromise:null,cancelOpen:Q,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};l.dbReadyPromise=new _e(function(e){l.dbReadyResolve=e}),l.openCanceller=new _e(function(e,t){l.cancelOpen=t}),this._state=l,this.name=e,this.on=dt(this,"populate","blocked","versionchange","close",{ready:[ne,Q]}),this.on.ready.subscribe=m(this.on.ready.subscribe,function(e){return function(t,n){Xn.vip(function(){var i,o=r._state;o.openComplete?(o.dbOpenError||_e.resolve().then(t),n&&e(t)):o.onReadyBeingFired?(o.onReadyBeingFired.push(t),n&&e(t)):(e(t),i=r,n||e(function e(){i.on.ready.unsubscribe(t),i.on.ready.unsubscribe(e)}))})}}),this.Collection=(o=this,pt(Ot.prototype,function(e,t){this.db=o;var n=ot,r=null;if(t)try{n=t()}catch(e){r=e}var i=e._ctx;e=(t=i.table).hook.reading.fire;this._ctx={table:t,index:i.index,isPrimKey:!i.index||t.schema.primKey.keyPath&&i.index===t.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:e!==G?e:null}})),this.Table=(a=this,pt(ft.prototype,function(e,t,n){this.db=a,this._tx=n,this.name=e,this.schema=t,this.hook=a._allTables[e]?a._allTables[e].hook:dt(null,{creating:[J,Q],reading:[X,G],updating:[ee,Q],deleting:[Z,Q]})})),this.Transaction=(u=this,pt(Lt.prototype,function(e,t,n,r,i){var o=this;this.db=u,this.mode=e,this.storeNames=t,this.schema=n,this.chromeTransactionDurability=r,this.idbtrans=null,this.on=dt(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new _e(function(e,t){o._resolve=e,o._reject=t}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(e){var t=o.active;return o.active=!1,o.on.error.fire(e),o.parent?o.parent._reject(e):t&&o.idbtrans&&o.idbtrans.abort(),Xe(e)})})),this.Version=(s=this,pt(ln.prototype,function(e){this.db=s,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(c=this,pt(qt.prototype,function(e,t,n){if(this.db=c,this._ctx={table:e,index:":id"===t?null:t,or:n},this._cmp=this._ascending=st,this._descending=function(e,t){return st(t,e)},this._max=function(e,t){return 0<st(e,t)?e:t},this._min=function(e,t){return st(e,t)<0?e:t},this._IDBKeyRange=c._deps.IDBKeyRange,!this._IDBKeyRange)throw new W.MissingAPI})),this.on("versionchange",function(e){0<e.newVersion?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close({disableAutoOpen:!1})}),this.on("blocked",function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(e.oldVersion/10))}),this._maxKey=Yt(n.IDBKeyRange),this._createTransaction=function(e,t,n,i){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,i)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),et.filter(function(e){return e.name===r.name&&e!==r&&!e._state.vcFired}).map(function(t){return t.on("versionchange").fire(e)})},this.use(Mn),this.use($n),this.use(Un),this.use(qn),this.use(Rn);var f=new Proxy(this,{get:function(e,t,n){if("_vip"===t)return!0;if("table"===t)return function(e){return Qn(r.table(e),f)};var i=Reflect.get(e,t,n);return i instanceof ft?Qn(i,f):"tables"===t?i.map(function(e){return Qn(e,f)}):"_createTransaction"===t?function(){return Qn(i.apply(this,arguments),f)}:i}});this.vip=f,i.forEach(function(e){return e(r)})}R="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";var Hn,Jn=(Zn.prototype.subscribe=function(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})},Zn.prototype[R]=function(){return this},Zn);function Zn(e){this._subscribe=e}try{Hn={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch(P){Hn={indexedDB:null,IDBKeyRange:null}}function er(e){var t,n=!1,r=new Jn(function(r){var i,o=I(e),a=!1,u={},s={},l={get closed(){return a},unsubscribe:function(){a||(a=!0,i&&i.abort(),f&&Nt.storagemutated.unsubscribe(d))}};r.start&&r.start(l);var f=!1,h=function(){return Ge(p)},d=function(e){kn(u,e),On(s,u)&&h()},p=function(){var l,p,y;!a&&Hn.indexedDB&&(u={},l={},i&&i.abort(),i=new AbortController,y=function(t){var n=je();try{o&&Le();var r=Ne(e,t);return r=o?r.finally(Ue):r}finally{n&&Ae()}}(p={subscr:l,signal:i.signal,requery:h,querier:e,trans:null}),Promise.resolve(y).then(function(e){n=!0,t=e,a||p.signal.aborted||(u={},function(e){for(var t in e)if(c(e,t))return;return 1}(s=l)||f||(Nt(Ft,d),f=!0),Ge(function(){return!a&&r.next&&r.next(e)}))},function(e){n=!1,["DatabaseClosedError","AbortError"].includes(null==e?void 0:e.name)||a||Ge(function(){a||r.error&&r.error(e)})}))};return setTimeout(h,0),l});return r.hasValue=function(){return n},r.getValue=function(){return t},r}var tr=Gn;function nr(e){var t=ir;try{ir=!0,Nt.storagemutated.fire(e),jn(e,!0)}finally{ir=t}}l(tr,t(t({},$),{delete:function(e){return new tr(e,{addons:[]}).delete()},exists:function(e){return new tr(e,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return n=(t=tr.dependencies).indexedDB,t=t.IDBKeyRange,(dn(n)?Promise.resolve(n.databases()).then(function(e){return e.map(function(e){return e.name}).filter(function(e){return e!==tt})}):hn(n,t).toCollection().primaryKeys()).then(e)}catch(e){return Xe(new W.MissingAPI)}var t,n},defineClass:function(){return function(e){a(this,e)}},ignoreTransaction:function(e){return me.trans?$e(me.transless,e):e()},vip:pn,async:function(e){return function(){try{var t=Dn(e.apply(this,arguments));return t&&"function"==typeof t.then?t:_e.resolve(t)}catch(t){return Xe(t)}}},spawn:function(e,t,n){try{var r=Dn(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:_e.resolve(r)}catch(e){return Xe(e)}},currentTransaction:{get:function(){return me.trans||null}},waitFor:function(e,t){return t=_e.resolve("function"==typeof e?tr.ignoreTransaction(e):e).timeout(t||6e4),me.trans?me.trans.waitFor(t):t},Promise:_e,debug:{get:function(){return re},set:function(e){ie(e)}},derive:d,extend:a,props:l,override:m,Events:dt,on:Nt,liveQuery:er,extendObservabilitySet:kn,getByKeyPath:w,setByKeyPath:_,delByKeyPath:function(e,t){"string"==typeof t?_(e,t,void 0):"length"in t&&[].map.call(t,function(t){_(e,t,void 0)})},shallowClone:x,deepClone:S,getObjectDiff:Bn,cmp:st,asap:g,minKey:-1/0,addons:[],connections:et,errnames:z,dependencies:Hn,cache:Pn,semVer:"4.0.1",version:"4.0.1".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)})})),tr.maxKey=Yt(tr.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(Nt(Ft,function(e){ir||(e=new CustomEvent(Mt,{detail:e}),ir=!0,dispatchEvent(e),ir=!1)}),addEventListener(Mt,function(e){e=e.detail,ir||nr(e)}));var rr,ir=!1,or=function(){};return"undefined"!=typeof BroadcastChannel&&((or=function(){(rr=new BroadcastChannel(Mt)).onmessage=function(e){return e.data&&nr(e.data)}})(),"function"==typeof rr.unref&&rr.unref(),Nt(Ft,function(e){ir||rr.postMessage(e)})),"undefined"!=typeof addEventListener&&(addEventListener("pagehide",function(e){if(!Gn.disableBfCache&&e.persisted){re&&console.debug("Dexie: handling persisted pagehide"),null!=rr&&rr.close();for(var t=0,n=et;t<n.length;t++)n[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!Gn.disableBfCache&&e.persisted&&(re&&console.debug("Dexie: handling persisted pageshow"),or(),nr({all:new vn(-1/0,[[]])}))})),_e.rejectionMapper=function(e,t){return!e||e instanceof M||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Y[e.name]?e:(t=new Y[e.name](t||e.message,e),"stack"in e&&h(t,"stack",{get:function(){return this.inner.stack}}),t)},ie(re),t(Gn,Object.freeze({__proto__:null,Dexie:Gn,liveQuery:er,Entity:ut,cmp:st,PropModSymbol:P,PropModification:xt,replacePrefix:function(e,t){return new xt({replacePrefix:[e,t]})},default:Gn,RangeSet:vn,mergeRanges:bn,rangesOverlap:gn}),{default:Gn}),Gn});

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("timers").setImmediate)
},{"timers":58}],55:[function(require,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),(o+=p+N>=1?n/f:n*Math.pow(2,1-N))*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};

},{}],56:[function(require,module,exports){
var __commonJS=e=>{let t,n=!1;return function(){if(!n){let r;n=!0;for(const t in e){r=e[t];break}const o={exports:{}};r(o.exports,o),t=o.exports}return t}},__export=(e,t)=>{for(var n in t)e[n]=t[n]},__toESM=e=>({...e,default:e}),__toCommonJS=e=>({...e,__esModule:!0}),injectedScript_exports={};__export(injectedScript_exports,{InjectedScript:()=>InjectedScript}),module.exports=__toCommonJS(injectedScript_exports);var normalizedWhitespaceCache,XPathEngine={queryAll(e,t){t.startsWith("/")&&e.nodeType!==Node.DOCUMENT_NODE&&(t="."+t);const n=[],r=e.ownerDocument||e;if(!r)return n;const o=r.evaluate(t,e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE);for(let e=o.iterateNext();e;e=o.iterateNext())e.nodeType===Node.ELEMENT_NODE&&n.push(e);return n}},browserNameForWorkarounds="";function setBrowserName(e){browserNameForWorkarounds=e}function isInsideScope(e,t){for(;t;){if(e.contains(t))return!0;t=enclosingShadowHost(t)}return!1}function parentElementOrShadowHost(e){return e.parentElement?e.parentElement:e.parentNode&&11===e.parentNode.nodeType&&e.parentNode.host?e.parentNode.host:void 0}function enclosingShadowRootOrDocument(e){let t=e;for(;t.parentNode;)t=t.parentNode;if(11===t.nodeType||9===t.nodeType)return t}function enclosingShadowHost(e){for(;e.parentElement;)e=e.parentElement;return parentElementOrShadowHost(e)}function closestCrossShadow(e,t,n){for(;e;){const r=e.closest(t);if(n&&r!==n&&(null==r?void 0:r.contains(n)))return;if(r)return r;e=enclosingShadowHost(e)}}function getElementComputedStyle(e,t){return e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,t):void 0}function isElementStyleVisibilityVisible(e,t){if(!(t=null!=t?t:getElementComputedStyle(e)))return!0;if(Element.prototype.checkVisibility&&"webkit"!==browserNameForWorkarounds){if(!e.checkVisibility())return!1}else{const t=e.closest("details,summary");if(t!==e&&"DETAILS"===(null==t?void 0:t.nodeName)&&!t.open)return!1}return"visible"===t.visibility}function isElementVisible(e){const t=getElementComputedStyle(e);if(!t)return!0;if("contents"===t.display){for(let t=e.firstChild;t;t=t.nextSibling){if(1===t.nodeType&&isElementVisible(t))return!0;if(3===t.nodeType&&isVisibleTextNode(t))return!0}return!1}if(!isElementStyleVisibilityVisible(e,t))return!1;const n=e.getBoundingClientRect();return n.width>0&&n.height>0}function isVisibleTextNode(e){const t=e.ownerDocument.createRange();t.selectNode(e);const n=t.getBoundingClientRect();return n.width>0&&n.height>0}function elementSafeTagName(e){return e instanceof HTMLFormElement?"FORM":e.tagName.toUpperCase()}function escapeWithQuotes(e,t="'"){const n=JSON.stringify(e),r=n.substring(1,n.length-1).replace(/\\"/g,'"');if("'"===t)return t+r.replace(/[']/g,"\\'")+t;if('"'===t)return t+r.replace(/["]/g,'\\"')+t;if("`"===t)return t+r.replace(/[`]/g,"`")+t;throw new Error("Invalid escape char")}function toTitleCase(e){return e.charAt(0).toUpperCase()+e.substring(1)}function toSnakeCase(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/([A-Z])([A-Z][a-z])/g,"$1_$2").toLowerCase()}function cssEscape(e){let t="";for(let n=0;n<e.length;n++)t+=cssEscapeOne(e,n);return t}function quoteCSSAttributeValue(e){return`"${cssEscape(e).replace(/\\ /g," ")}"`}function cssEscapeOne(e,t){const n=e.charCodeAt(t);return 0===n?"":n>=1&&n<=31||n>=48&&n<=57&&(0===t||1===t&&45===e.charCodeAt(0))?"\\"+n.toString(16)+" ":0===t&&45===n&&1===e.length?"\\"+e.charAt(t):n>=128||45===n||95===n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122?e.charAt(t):"\\"+e.charAt(t)}function cacheNormalizedWhitespaces(){normalizedWhitespaceCache=new Map}function normalizeWhiteSpace(e){let t=null==normalizedWhitespaceCache?void 0:normalizedWhitespaceCache.get(e);return void 0===t&&(t=e.replace(/\u200b/g,"").trim().replace(/\s+/g," "),null==normalizedWhitespaceCache||normalizedWhitespaceCache.set(e,t)),t}function normalizeEscapedRegexQuotes(e){return e.replace(/(^|[^\\])(\\\\)*\\(['"`])/g,"$1$2$3")}function escapeRegexForSelector(e){return e.unicode||e.unicodeSets?String(e):String(e).replace(/(^|[^\\])(\\\\)*(["'`])/g,"$1$2\\$3").replace(/>>/g,"\\>\\>")}function escapeForTextSelector(e,t){return"string"!=typeof e?escapeRegexForSelector(e):`${JSON.stringify(e)}${t?"s":"i"}`}function escapeForAttributeSelector(e,t){return"string"!=typeof e?escapeRegexForSelector(e):`"${e.replace(/\\/g,"\\\\").replace(/["]/g,'\\"')}"${t?"s":"i"}`}function trimString(e,t,n=""){if(e.length<=t)return e;const r=[...e];return r.length>t?r.slice(0,t-n.length).join("")+n:r.join("")}function trimStringWithEllipsis(e,t){return trimString(e,t,"")}function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var escaped={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function escapeHTMLAttribute(e){return e.replace(/[&<>"']/gu,e=>escaped[e])}function escapeHTML(e){return e.replace(/[&<]/gu,e=>escaped[e])}function hasExplicitAccessibleName(e){return e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby")}var kAncestorPreventingLandmark="article:not([role]), aside:not([role]), main:not([role]), nav:not([role]), section:not([role]), [role=article], [role=complementary], [role=main], [role=navigation], [role=region]",kGlobalAriaAttributes=new Map([["aria-atomic",void 0],["aria-busy",void 0],["aria-controls",void 0],["aria-current",void 0],["aria-describedby",void 0],["aria-details",void 0],["aria-dropeffect",void 0],["aria-flowto",void 0],["aria-grabbed",void 0],["aria-hidden",void 0],["aria-keyshortcuts",void 0],["aria-label",new Set(["caption","code","deletion","emphasis","generic","insertion","paragraph","presentation","strong","subscript","superscript"])],["aria-labelledby",new Set(["caption","code","deletion","emphasis","generic","insertion","paragraph","presentation","strong","subscript","superscript"])],["aria-live",void 0],["aria-owns",void 0],["aria-relevant",void 0],["aria-roledescription",new Set(["generic"])]]);function hasGlobalAriaAttribute(e,t){return[...kGlobalAriaAttributes].some(([n,r])=>!(null==r?void 0:r.has(t||""))&&e.hasAttribute(n))}function hasTabIndex(e){return!Number.isNaN(Number(String(e.getAttribute("tabindex"))))}function isFocusable(e){return!isNativelyDisabled(e)&&(isNativelyFocusable(e)||hasTabIndex(e))}function isNativelyFocusable(e){const t=elementSafeTagName(e);return!!["BUTTON","DETAILS","SELECT","TEXTAREA"].includes(t)||("A"===t||"AREA"===t?e.hasAttribute("href"):"INPUT"===t&&!e.hidden)}var kImplicitRoleByTagName={A:e=>e.hasAttribute("href")?"link":null,AREA:e=>e.hasAttribute("href")?"link":null,ARTICLE:()=>"article",ASIDE:()=>"complementary",BLOCKQUOTE:()=>"blockquote",BUTTON:()=>"button",CAPTION:()=>"caption",CODE:()=>"code",DATALIST:()=>"listbox",DD:()=>"definition",DEL:()=>"deletion",DETAILS:()=>"group",DFN:()=>"term",DIALOG:()=>"dialog",DT:()=>"term",EM:()=>"emphasis",FIELDSET:()=>"group",FIGURE:()=>"figure",FOOTER:e=>closestCrossShadow(e,kAncestorPreventingLandmark)?null:"contentinfo",FORM:e=>hasExplicitAccessibleName(e)?"form":null,H1:()=>"heading",H2:()=>"heading",H3:()=>"heading",H4:()=>"heading",H5:()=>"heading",H6:()=>"heading",HEADER:e=>closestCrossShadow(e,kAncestorPreventingLandmark)?null:"banner",HR:()=>"separator",HTML:()=>"document",IMG:e=>""!==e.getAttribute("alt")||e.getAttribute("title")||hasGlobalAriaAttribute(e)||hasTabIndex(e)?"img":"presentation",INPUT:e=>{const t=e.type.toLowerCase();if("search"===t)return e.hasAttribute("list")?"combobox":"searchbox";if(["email","tel","text","url",""].includes(t)){const t=getIdRefs(e,e.getAttribute("list"))[0];return t&&"DATALIST"===elementSafeTagName(t)?"combobox":"textbox"}return"hidden"===t?"":{button:"button",checkbox:"checkbox",image:"button",number:"spinbutton",radio:"radio",range:"slider",reset:"button",submit:"button"}[t]||"textbox"},INS:()=>"insertion",LI:()=>"listitem",MAIN:()=>"main",MARK:()=>"mark",MATH:()=>"math",MENU:()=>"list",METER:()=>"meter",NAV:()=>"navigation",OL:()=>"list",OPTGROUP:()=>"group",OPTION:()=>"option",OUTPUT:()=>"status",P:()=>"paragraph",PROGRESS:()=>"progressbar",SECTION:e=>hasExplicitAccessibleName(e)?"region":null,SELECT:e=>e.hasAttribute("multiple")||e.size>1?"listbox":"combobox",STRONG:()=>"strong",SUB:()=>"subscript",SUP:()=>"superscript",SVG:()=>"img",TABLE:()=>"table",TBODY:()=>"rowgroup",TD:e=>{const t=closestCrossShadow(e,"table"),n=t?getExplicitAriaRole(t):"";return"grid"===n||"treegrid"===n?"gridcell":"cell"},TEXTAREA:()=>"textbox",TFOOT:()=>"rowgroup",TH:e=>{if("col"===e.getAttribute("scope"))return"columnheader";if("row"===e.getAttribute("scope"))return"rowheader";const t=closestCrossShadow(e,"table"),n=t?getExplicitAriaRole(t):"";return"grid"===n||"treegrid"===n?"gridcell":"cell"},THEAD:()=>"rowgroup",TIME:()=>"time",TR:()=>"row",UL:()=>"list"},kPresentationInheritanceParents={DD:["DL","DIV"],DIV:["DL"],DT:["DL","DIV"],LI:["OL","UL"],TBODY:["TABLE"],TD:["TR"],TFOOT:["TABLE"],TH:["TR"],THEAD:["TABLE"],TR:["THEAD","TBODY","TFOOT","TABLE"]};function getImplicitAriaRole(e){var t;const n=(null==(t=kImplicitRoleByTagName[elementSafeTagName(e)])?void 0:t.call(kImplicitRoleByTagName,e))||"";if(!n)return null;let r=e;for(;r;){const e=parentElementOrShadowHost(r),t=kPresentationInheritanceParents[elementSafeTagName(r)];if(!t||!e||!t.includes(elementSafeTagName(e)))break;const n=getExplicitAriaRole(e);if(("none"===n||"presentation"===n)&&!hasPresentationConflictResolution(e,n))return n;r=e}return n}var allRoles=["alert","alertdialog","application","article","banner","blockquote","button","caption","cell","checkbox","code","columnheader","combobox","command","complementary","composite","contentinfo","definition","deletion","dialog","directory","document","emphasis","feed","figure","form","generic","grid","gridcell","group","heading","img","input","insertion","landmark","link","list","listbox","listitem","log","main","marquee","math","meter","menu","menubar","menuitem","menuitemcheckbox","menuitemradio","navigation","none","note","option","paragraph","presentation","progressbar","radio","radiogroup","range","region","roletype","row","rowgroup","rowheader","scrollbar","search","searchbox","section","sectionhead","select","separator","slider","spinbutton","status","strong","structure","subscript","superscript","switch","tab","table","tablist","tabpanel","term","textbox","time","timer","toolbar","tooltip","tree","treegrid","treeitem","widget","window"],abstractRoles=["command","composite","input","landmark","range","roletype","section","sectionhead","select","structure","widget","window"],validRoles=allRoles.filter(e=>!abstractRoles.includes(e));function getExplicitAriaRole(e){return(e.getAttribute("role")||"").split(" ").map(e=>e.trim()).find(e=>validRoles.includes(e))||null}function hasPresentationConflictResolution(e,t){return hasGlobalAriaAttribute(e,t)||isFocusable(e)}function getAriaRole(e){const t=getExplicitAriaRole(e);if(!t)return getImplicitAriaRole(e);if("none"===t||"presentation"===t){const t=getImplicitAriaRole(e);if(hasPresentationConflictResolution(e,t))return t}return t}function getAriaBoolean(e){return null===e?void 0:"true"===e.toLowerCase()}function isElementIgnoredForAria(e){return["STYLE","SCRIPT","NOSCRIPT","TEMPLATE"].includes(elementSafeTagName(e))}function isElementHiddenForAria(e){if(isElementIgnoredForAria(e))return!0;const t=getElementComputedStyle(e),n="SLOT"===e.nodeName;if("contents"===(null==t?void 0:t.display)&&!n){for(let t=e.firstChild;t;t=t.nextSibling){if(1===t.nodeType&&!isElementHiddenForAria(t))return!1;if(3===t.nodeType&&isVisibleTextNode(t))return!1}return!0}return!("OPTION"===e.nodeName&&!!e.closest("select")||n||isElementStyleVisibilityVisible(e,t))||belongsToDisplayNoneOrAriaHiddenOrNonSlotted(e)}function belongsToDisplayNoneOrAriaHiddenOrNonSlotted(e){let t=null==cacheIsHidden?void 0:cacheIsHidden.get(e);if(void 0===t){if(t=!1,e.parentElement&&e.parentElement.shadowRoot&&!e.assignedSlot&&(t=!0),!t){const n=getElementComputedStyle(e);t=!n||"none"===n.display||!0===getAriaBoolean(e.getAttribute("aria-hidden"))}if(!t){const n=parentElementOrShadowHost(e);n&&(t=belongsToDisplayNoneOrAriaHiddenOrNonSlotted(n))}null==cacheIsHidden||cacheIsHidden.set(e,t)}return t}function getIdRefs(e,t){if(!t)return[];const n=enclosingShadowRootOrDocument(e);if(!n)return[];try{const e=t.split(" ").filter(e=>!!e),r=new Set;for(const t of e){const e=n.querySelector("#"+CSS.escape(t));e&&r.add(e)}return[...r]}catch(e){return[]}}function trimFlatString(e){return e.trim()}function asFlatString(e){return e.split("").map(e=>e.replace(/\r\n/g,"\n").replace(/\s\s*/g," ")).join("").trim()}function queryInAriaOwned(e,t){const n=[...e.querySelectorAll(t)];for(const r of getIdRefs(e,e.getAttribute("aria-owns")))r.matches(t)&&n.push(r),n.push(...r.querySelectorAll(t));return n}function getPseudoContent(e,t){const n="::before"===t?cachePseudoContentBefore:cachePseudoContentAfter;if(null==n?void 0:n.has(e))return(null==n?void 0:n.get(e))||"";const r=getPseudoContentImpl(getElementComputedStyle(e,t));return n&&n.set(e,r),r}function getPseudoContentImpl(e){if(!e||"none"===e.display||"hidden"===e.visibility)return"";const t=e.content;if("'"===t[0]&&"'"===t[t.length-1]||'"'===t[0]&&'"'===t[t.length-1]){const n=t.substring(1,t.length-1);return"inline"!==(e.display||"inline")?" "+n+" ":n}return""}function getAriaLabelledByElements(e){const t=e.getAttribute("aria-labelledby");return null===t?null:getIdRefs(e,t)}function allowsNameFromContent(e,t){const n=["button","cell","checkbox","columnheader","gridcell","heading","link","menuitem","menuitemcheckbox","menuitemradio","option","radio","row","rowheader","switch","tab","tooltip","treeitem"].includes(e),r=t&&["","caption","code","contentinfo","definition","deletion","emphasis","insertion","list","listitem","mark","none","paragraph","presentation","region","row","rowgroup","section","strong","subscript","superscript","table","term","time"].includes(e);return n||r}function getElementAccessibleName(e,t){const n=t?cacheAccessibleNameHidden:cacheAccessibleName;let r=null==n?void 0:n.get(e);if(void 0===r){r="",["caption","code","definition","deletion","emphasis","generic","insertion","mark","paragraph","presentation","strong","subscript","suggestion","superscript","term","time"].includes(getAriaRole(e)||"")||(r=asFlatString(getTextAlternativeInternal(e,{includeHidden:t,visitedElements:new Set,embeddedInDescribedBy:void 0,embeddedInLabelledBy:void 0,embeddedInLabel:void 0,embeddedInNativeTextAlternative:void 0,embeddedInTargetElement:"self"}))),null==n||n.set(e,r)}return r}function getElementAccessibleDescription(e,t){const n=t?cacheAccessibleDescriptionHidden:cacheAccessibleDescription;let r=null==n?void 0:n.get(e);if(void 0===r){if(r="",e.hasAttribute("aria-describedby")){r=asFlatString(getIdRefs(e,e.getAttribute("aria-describedby")).map(e=>getTextAlternativeInternal(e,{includeHidden:t,visitedElements:new Set,embeddedInLabelledBy:void 0,embeddedInLabel:void 0,embeddedInNativeTextAlternative:void 0,embeddedInTargetElement:"none",embeddedInDescribedBy:{element:e,hidden:isElementHiddenForAria(e)}})).join(" "))}else r=e.hasAttribute("aria-description")?asFlatString(e.getAttribute("aria-description")||""):asFlatString(e.getAttribute("title")||"");null==n||n.set(e,r)}return r}function getTextAlternativeInternal(e,t){var n,r,o,i;if(t.visitedElements.has(e))return"";const s={...t,embeddedInTargetElement:"self"===t.embeddedInTargetElement?"descendant":t.embeddedInTargetElement};if(!t.includeHidden){const s=!!((null==(n=t.embeddedInLabelledBy)?void 0:n.hidden)||(null==(r=t.embeddedInDescribedBy)?void 0:r.hidden)||(null==(o=t.embeddedInNativeTextAlternative)?void 0:o.hidden)||(null==(i=t.embeddedInLabel)?void 0:i.hidden));if(isElementIgnoredForAria(e)||!s&&isElementHiddenForAria(e))return t.visitedElements.add(e),""}const a=getAriaLabelledByElements(e);if(!t.embeddedInLabelledBy){const e=(a||[]).map(e=>getTextAlternativeInternal(e,{...t,embeddedInLabelledBy:{element:e,hidden:isElementHiddenForAria(e)},embeddedInDescribedBy:void 0,embeddedInTargetElement:"none",embeddedInLabel:void 0,embeddedInNativeTextAlternative:void 0})).join(" ");if(e)return e}const l=getAriaRole(e)||"",c=elementSafeTagName(e);if(t.embeddedInLabel||t.embeddedInLabelledBy||"descendant"===t.embeddedInTargetElement){const n=[...e.labels||[]].includes(e),r=(a||[]).includes(e);if(!n&&!r){if("textbox"===l)return t.visitedElements.add(e),"INPUT"===c||"TEXTAREA"===c?e.value:e.textContent||"";if(["combobox","listbox"].includes(l)){let n;if(t.visitedElements.add(e),"SELECT"===c)!(n=[...e.selectedOptions]).length&&e.options.length&&n.push(e.options[0]);else{const t="combobox"===l?queryInAriaOwned(e,"*").find(e=>"listbox"===getAriaRole(e)):e;n=t?queryInAriaOwned(t,'[aria-selected="true"]').filter(e=>"option"===getAriaRole(e)):[]}return n.length||"INPUT"!==c?n.map(e=>getTextAlternativeInternal(e,s)).join(" "):e.value}if(["progressbar","scrollbar","slider","spinbutton","meter"].includes(l))return t.visitedElements.add(e),e.hasAttribute("aria-valuetext")?e.getAttribute("aria-valuetext")||"":e.hasAttribute("aria-valuenow")?e.getAttribute("aria-valuenow")||"":e.getAttribute("value")||"";if(["menu"].includes(l))return t.visitedElements.add(e),""}}const u=e.getAttribute("aria-label")||"";if(trimFlatString(u))return t.visitedElements.add(e),u;if(!["presentation","none"].includes(l)){if("INPUT"===c&&["button","submit","reset"].includes(e.type)){t.visitedElements.add(e);const n=e.value||"";return trimFlatString(n)?n:"submit"===e.type?"Submit":"reset"===e.type?"Reset":e.getAttribute("title")||""}if("INPUT"===c&&"image"===e.type){t.visitedElements.add(e);const n=e.labels||[];if(n.length&&!t.embeddedInLabelledBy)return getAccessibleNameFromAssociatedLabels(n,t);const r=e.getAttribute("alt")||"";if(trimFlatString(r))return r;const o=e.getAttribute("title")||"";return trimFlatString(o)?o:"Submit"}if(!a&&"BUTTON"===c){t.visitedElements.add(e);const n=e.labels||[];if(n.length)return getAccessibleNameFromAssociatedLabels(n,t)}if(!a&&"OUTPUT"===c){t.visitedElements.add(e);const n=e.labels||[];return n.length?getAccessibleNameFromAssociatedLabels(n,t):e.getAttribute("title")||""}if(!a&&("TEXTAREA"===c||"SELECT"===c||"INPUT"===c)){t.visitedElements.add(e);const n=e.labels||[];if(n.length)return getAccessibleNameFromAssociatedLabels(n,t);const r="INPUT"===c&&["text","password","search","tel","email","url"].includes(e.type)||"TEXTAREA"===c,o=e.getAttribute("placeholder")||"",i=e.getAttribute("title")||"";return!r||i?i:o}if(!a&&"FIELDSET"===c){t.visitedElements.add(e);for(let t=e.firstElementChild;t;t=t.nextElementSibling)if("LEGEND"===elementSafeTagName(t))return getTextAlternativeInternal(t,{...s,embeddedInNativeTextAlternative:{element:t,hidden:isElementHiddenForAria(t)}});return e.getAttribute("title")||""}if(!a&&"FIGURE"===c){t.visitedElements.add(e);for(let t=e.firstElementChild;t;t=t.nextElementSibling)if("FIGCAPTION"===elementSafeTagName(t))return getTextAlternativeInternal(t,{...s,embeddedInNativeTextAlternative:{element:t,hidden:isElementHiddenForAria(t)}});return e.getAttribute("title")||""}if("IMG"===c){t.visitedElements.add(e);const n=e.getAttribute("alt")||"";return trimFlatString(n)?n:e.getAttribute("title")||""}if("TABLE"===c){t.visitedElements.add(e);for(let t=e.firstElementChild;t;t=t.nextElementSibling)if("CAPTION"===elementSafeTagName(t))return getTextAlternativeInternal(t,{...s,embeddedInNativeTextAlternative:{element:t,hidden:isElementHiddenForAria(t)}});const n=e.getAttribute("summary")||"";if(n)return n}if("AREA"===c){t.visitedElements.add(e);const n=e.getAttribute("alt")||"";return trimFlatString(n)?n:e.getAttribute("title")||""}if("SVG"===c||e.ownerSVGElement){t.visitedElements.add(e);for(let t=e.firstElementChild;t;t=t.nextElementSibling)if("TITLE"===elementSafeTagName(t)&&t.ownerSVGElement)return getTextAlternativeInternal(t,{...s,embeddedInLabelledBy:{element:t,hidden:isElementHiddenForAria(t)}})}if(e.ownerSVGElement&&"A"===c){const n=e.getAttribute("xlink:title")||"";if(trimFlatString(n))return t.visitedElements.add(e),n}}const h="SUMMARY"===c&&!["presentation","none"].includes(l);if(allowsNameFromContent(l,"descendant"===t.embeddedInTargetElement)||h||t.embeddedInLabelledBy||t.embeddedInDescribedBy||t.embeddedInLabel||t.embeddedInNativeTextAlternative){t.visitedElements.add(e);const n=[],r=(e,t)=>{var r;if(!t||!e.assignedSlot)if(1===e.nodeType){const t=(null==(r=getElementComputedStyle(e))?void 0:r.display)||"inline";let o=getTextAlternativeInternal(e,s);"inline"===t&&"BR"!==e.nodeName||(o=" "+o+" "),n.push(o)}else 3===e.nodeType&&n.push(e.textContent||"")};n.push(getPseudoContent(e,"::before"));const o="SLOT"===e.nodeName?e.assignedNodes():[];if(o.length)for(const e of o)r(e,!1);else{for(let t=e.firstChild;t;t=t.nextSibling)r(t,!0);if(e.shadowRoot)for(let t=e.shadowRoot.firstChild;t;t=t.nextSibling)r(t,!0);for(const t of getIdRefs(e,e.getAttribute("aria-owns")))r(t,!0)}n.push(getPseudoContent(e,"::after"));const i=n.join("");if("self"===t.embeddedInTargetElement?trimFlatString(i):i)return i}if(!["presentation","none"].includes(l)||"IFRAME"===c){t.visitedElements.add(e);const n=e.getAttribute("title")||"";if(trimFlatString(n))return n}return t.visitedElements.add(e),""}var kAriaSelectedRoles=["gridcell","option","row","tab","rowheader","columnheader","treeitem"];function getAriaSelected(e){return"OPTION"===elementSafeTagName(e)?e.selected:!!kAriaSelectedRoles.includes(getAriaRole(e)||"")&&!0===getAriaBoolean(e.getAttribute("aria-selected"))}var kAriaCheckedRoles=["checkbox","menuitemcheckbox","option","radio","switch","menuitemradio","treeitem"];function getAriaChecked(e){const t=getChecked(e,!0);return"error"!==t&&t}function getChecked(e,t){const n=elementSafeTagName(e);if(t&&"INPUT"===n&&e.indeterminate)return"mixed";if("INPUT"===n&&["checkbox","radio"].includes(e.type))return e.checked;if(kAriaCheckedRoles.includes(getAriaRole(e)||"")){const n=e.getAttribute("aria-checked");return"true"===n||!(!t||"mixed"!==n)&&"mixed"}return"error"}var kAriaPressedRoles=["button"];function getAriaPressed(e){if(kAriaPressedRoles.includes(getAriaRole(e)||"")){const t=e.getAttribute("aria-pressed");if("true"===t)return!0;if("mixed"===t)return"mixed"}return!1}var kAriaExpandedRoles=["application","button","checkbox","combobox","gridcell","link","listbox","menuitem","row","rowheader","tab","treeitem","columnheader","menuitemcheckbox","menuitemradio","rowheader","switch"];function getAriaExpanded(e){if("DETAILS"===elementSafeTagName(e))return e.open;if(kAriaExpandedRoles.includes(getAriaRole(e)||"")){const t=e.getAttribute("aria-expanded");return null===t?"none":"true"===t}return"none"}var kAriaLevelRoles=["heading","listitem","row","treeitem"];function getAriaLevel(e){const t={H1:1,H2:2,H3:3,H4:4,H5:5,H6:6}[elementSafeTagName(e)];if(t)return t;if(kAriaLevelRoles.includes(getAriaRole(e)||"")){const t=e.getAttribute("aria-level"),n=null===t?Number.NaN:Number(t);if(Number.isInteger(n)&&n>=1)return n}return 0}var cacheAccessibleName,cacheAccessibleNameHidden,cacheAccessibleDescription,cacheAccessibleDescriptionHidden,cacheIsHidden,cachePseudoContentBefore,cachePseudoContentAfter,kAriaDisabledRoles=["application","button","composite","gridcell","group","input","link","menuitem","scrollbar","separator","tab","checkbox","columnheader","combobox","grid","listbox","menu","menubar","menuitemcheckbox","menuitemradio","option","radio","radiogroup","row","rowheader","searchbox","select","slider","spinbutton","switch","tablist","textbox","toolbar","tree","treegrid","treeitem"];function getAriaDisabled(e){return isNativelyDisabled(e)||hasExplicitAriaDisabled(e)}function isNativelyDisabled(e){return["BUTTON","INPUT","SELECT","TEXTAREA","OPTION","OPTGROUP"].includes(e.tagName)&&(e.hasAttribute("disabled")||belongsToDisabledFieldSet(e))}function belongsToDisabledFieldSet(e){return!!e&&(!("FIELDSET"!==elementSafeTagName(e)||!e.hasAttribute("disabled"))||belongsToDisabledFieldSet(e.parentElement))}function hasExplicitAriaDisabled(e){if(!e)return!1;if(kAriaDisabledRoles.includes(getAriaRole(e)||"")){const t=(e.getAttribute("aria-disabled")||"").toLowerCase();if("true"===t)return!0;if("false"===t)return!1}return hasExplicitAriaDisabled(parentElementOrShadowHost(e))}function getAccessibleNameFromAssociatedLabels(e,t){return[...e].map(e=>getTextAlternativeInternal(e,{...t,embeddedInLabel:{element:e,hidden:isElementHiddenForAria(e)},embeddedInNativeTextAlternative:void 0,embeddedInLabelledBy:void 0,embeddedInDescribedBy:void 0,embeddedInTargetElement:"none"})).filter(e=>!!e).join(" ")}var cachesCounter=0;function beginAriaCaches(){++cachesCounter,null!=cacheAccessibleName||(cacheAccessibleName=new Map),null!=cacheAccessibleNameHidden||(cacheAccessibleNameHidden=new Map),null!=cacheAccessibleDescription||(cacheAccessibleDescription=new Map),null!=cacheAccessibleDescriptionHidden||(cacheAccessibleDescriptionHidden=new Map),null!=cacheIsHidden||(cacheIsHidden=new Map),null!=cachePseudoContentBefore||(cachePseudoContentBefore=new Map),null!=cachePseudoContentAfter||(cachePseudoContentAfter=new Map)}function endAriaCaches(){--cachesCounter||(cacheAccessibleName=void 0,cacheAccessibleNameHidden=void 0,cacheAccessibleDescription=void 0,cacheAccessibleDescriptionHidden=void 0,cacheIsHidden=void 0,cachePseudoContentBefore=void 0,cachePseudoContentAfter=void 0)}function matchesComponentAttribute(e,t){for(const n of t.jsonPath)null!=e&&(e=e[n]);return matchesAttributePart(e,t)}function matchesAttributePart(e,t){const n="string"!=typeof e||t.caseSensitive?e:e.toUpperCase(),r="string"!=typeof t.value||t.caseSensitive?t.value:t.value.toUpperCase();return"<truthy>"===t.op?!!n:"="===t.op?r instanceof RegExp?"string"==typeof n&&!!n.match(r):n===r:"string"==typeof n&&"string"==typeof r&&("*="===t.op?n.includes(r):"^="===t.op?n.startsWith(r):"$="===t.op?n.endsWith(r):"|="===t.op?n===r||n.startsWith(r+"-"):"~="===t.op&&n.split(" ").includes(r))}function shouldSkipForTextMatching(e){const t=e.ownerDocument;return"SCRIPT"===e.nodeName||"NOSCRIPT"===e.nodeName||"STYLE"===e.nodeName||t.head&&t.head.contains(e)}function elementText(e,t){let n=e.get(t);if(void 0===n){if(n={full:"",normalized:"",immediate:[]},!shouldSkipForTextMatching(t)){let r="";if(t instanceof HTMLInputElement&&("submit"===t.type||"button"===t.type))n={full:t.value,normalized:normalizeWhiteSpace(t.value),immediate:[t.value]};else{for(let o=t.firstChild;o;o=o.nextSibling)o.nodeType===Node.TEXT_NODE?(n.full+=o.nodeValue||"",r+=o.nodeValue||""):(r&&n.immediate.push(r),r="",o.nodeType===Node.ELEMENT_NODE&&(n.full+=elementText(e,o).full));r&&n.immediate.push(r),t.shadowRoot&&(n.full+=elementText(e,t.shadowRoot).full),n.full&&(n.normalized=normalizeWhiteSpace(n.full))}}e.set(t,n)}return n}function elementMatchesText(e,t,n){if(shouldSkipForTextMatching(t))return"none";if(!n(elementText(e,t)))return"none";for(let r=t.firstChild;r;r=r.nextSibling)if(r.nodeType===Node.ELEMENT_NODE&&n(elementText(e,r)))return"selfAndChildren";return t.shadowRoot&&n(elementText(e,t.shadowRoot))?"selfAndChildren":"self"}function getElementLabels(e,t){const n=getAriaLabelledByElements(t);if(n)return n.map(t=>elementText(e,t));const r=t.getAttribute("aria-label");if(null!==r&&r.trim())return[{full:r,normalized:normalizeWhiteSpace(r),immediate:[r]}];const o="INPUT"===t.nodeName&&"hidden"!==t.type;if(["BUTTON","METER","OUTPUT","PROGRESS","SELECT","TEXTAREA"].includes(t.nodeName)||o){const n=t.labels;if(n)return[...n].map(t=>elementText(e,t))}return[]}var between=function(e,t,n){return e>=t&&e<=n};function digit(e){return between(e,48,57)}function hexdigit(e){return digit(e)||between(e,65,70)||between(e,97,102)}function uppercaseletter(e){return between(e,65,90)}function lowercaseletter(e){return between(e,97,122)}function letter(e){return uppercaseletter(e)||lowercaseletter(e)}function nonascii(e){return e>=128}function namestartchar(e){return letter(e)||nonascii(e)||95===e}function namechar(e){return namestartchar(e)||digit(e)||45===e}function nonprintable(e){return between(e,0,8)||11===e||between(e,14,31)||127===e}function newline(e){return 10===e}function whitespace(e){return newline(e)||9===e||32===e}var maximumallowedcodepoint=1114111,InvalidCharacterError=class extends Error{constructor(e){super(e),this.name="InvalidCharacterError"}};function preprocess(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(13===r&&10===e.charCodeAt(n+1)&&(r=10,n++),13!==r&&12!==r||(r=10),0===r&&(r=65533),between(r,55296,56319)&&between(e.charCodeAt(n+1),56320,57343)){const t=r-55296,o=e.charCodeAt(n+1)-56320;r=Math.pow(2,16)+t*Math.pow(2,10)+o,n++}t.push(r)}return t}function stringFromCode(e){if(e<=65535)return String.fromCharCode(e);e-=Math.pow(2,16);const t=Math.floor(e/Math.pow(2,10))+55296,n=e%Math.pow(2,10)+56320;return String.fromCharCode(t)+String.fromCharCode(n)}function tokenize(e){const t=preprocess(e);let n=-1;const r=[];let o,i=0,s=0,a=0;const l={line:i,column:s},c=function(e){return e>=t.length?-1:t[e]},u=function(e){if(void 0===e&&(e=1),e>3)throw"Spec Error: no more than three codepoints of lookahead.";return c(n+e)},h=function(e){return void 0===e&&(e=1),newline(o=c(n+=e))?(i+=1,a=s,s=0):s+=e,!0},d=function(){return n-=1,newline(o)?(i-=1,s=a):s-=1,l.line=i,l.column=s,!0},p=function(e){return void 0===e&&(e=o),-1===e},m=function(){if(g(),h(),whitespace(o)){for(;whitespace(u());)h();return new WhitespaceToken}if(34===o)return x();if(35===o){if(namechar(u())||T(u(1),u(2))){const e=new HashToken("");return v(u(1),u(2),u(3))&&(e.type="id"),e.value=A(),e}return new DelimToken(o)}return 36===o?61===u()?(h(),new SuffixMatchToken):new DelimToken(o):39===o?x():40===o?new OpenParenToken:41===o?new CloseParenToken:42===o?61===u()?(h(),new SubstringMatchToken):new DelimToken(o):43===o?k()?(d(),f()):new DelimToken(o):44===o?new CommaToken:45===o?k()?(d(),f()):45===u(1)&&62===u(2)?(h(2),new CDCToken):y()?(d(),b()):new DelimToken(o):46===o?k()?(d(),f()):new DelimToken(o):58===o?new ColonToken:59===o?new SemicolonToken:60===o?33===u(1)&&45===u(2)&&45===u(3)?(h(3),new CDOToken):new DelimToken(o):64===o?v(u(1),u(2),u(3))?new AtKeywordToken(A()):new DelimToken(o):91===o?new OpenSquareToken:92===o?w()?(d(),b()):new DelimToken(o):93===o?new CloseSquareToken:94===o?61===u()?(h(),new PrefixMatchToken):new DelimToken(o):123===o?new OpenCurlyToken:124===o?61===u()?(h(),new DashMatchToken):124===u()?(h(),new ColumnToken):new DelimToken(o):125===o?new CloseCurlyToken:126===o?61===u()?(h(),new IncludeMatchToken):new DelimToken(o):digit(o)?(d(),f()):namestartchar(o)?(d(),b()):p()?new EOFToken:new DelimToken(o)},g=function(){for(;47===u(1)&&42===u(2);)for(h(2);;){if(h(),42===o&&47===u()){h();break}if(p())return}},f=function(){const e=_();if(v(u(1),u(2),u(3))){const t=new DimensionToken;return t.value=e.value,t.repr=e.repr,t.type=e.type,t.unit=A(),t}if(37===u()){h();const t=new PercentageToken;return t.value=e.value,t.repr=e.repr,t}{const t=new NumberToken;return t.value=e.value,t.repr=e.repr,t.type=e.type,t}},b=function(){const e=A();if("url"===e.toLowerCase()&&40===u()){for(h();whitespace(u(1))&&whitespace(u(2));)h();return 34===u()||39===u()?new FunctionToken(e):!whitespace(u())||34!==u(2)&&39!==u(2)?S():new FunctionToken(e)}return 40===u()?(h(),new FunctionToken(e)):new IdentToken(e)},x=function(e){void 0===e&&(e=o);let t="";for(;h();){if(o===e||p())return new StringToken(t);if(newline(o))return d(),new BadStringToken;92===o?p(u())||(newline(u())?h():t+=stringFromCode(E())):t+=stringFromCode(o)}throw new Error("Internal error")},S=function(){const e=new URLToken("");for(;whitespace(u());)h();if(p(u()))return e;for(;h();){if(41===o||p())return e;if(whitespace(o)){for(;whitespace(u());)h();return 41===u()||p(u())?(h(),e):(N(),new BadURLToken)}if(34===o||39===o||40===o||nonprintable(o))return N(),new BadURLToken;if(92===o){if(!w())return N(),new BadURLToken;e.value+=stringFromCode(E())}else e.value+=stringFromCode(o)}throw new Error("Internal error")},E=function(){if(h(),hexdigit(o)){const e=[o];for(let t=0;t<5&&hexdigit(u());t++)h(),e.push(o);whitespace(u())&&h();let t=parseInt(e.map(function(e){return String.fromCharCode(e)}).join(""),16);return t>maximumallowedcodepoint&&(t=65533),t}return p()?65533:o},T=function(e,t){return 92===e&&!newline(t)},w=function(){return T(o,u())},v=function(e,t,n){return 45===e?namestartchar(t)||45===t||T(t,n):!!namestartchar(e)||92===e&&T(e,t)},y=function(){return v(o,u(1),u(2))},k=function(){return e=o,t=u(1),n=u(2),43===e||45===e?!!digit(t)||!(46!==t||!digit(n)):46===e?!!digit(t):!!digit(e);var e,t,n},A=function(){let e="";for(;h();)if(namechar(o))e+=stringFromCode(o);else{if(!w())return d(),e;e+=stringFromCode(E())}throw new Error("Internal parse error")},_=function(){let e="",t="integer";for(43!==u()&&45!==u()||(h(),e+=stringFromCode(o));digit(u());)h(),e+=stringFromCode(o);if(46===u(1)&&digit(u(2)))for(h(),e+=stringFromCode(o),h(),e+=stringFromCode(o),t="number";digit(u());)h(),e+=stringFromCode(o);const n=u(1),r=u(2),i=u(3);if(69!==n&&101!==n||!digit(r)){if((69===n||101===n)&&(43===r||45===r)&&digit(i))for(h(),e+=stringFromCode(o),h(),e+=stringFromCode(o),h(),e+=stringFromCode(o),t="number";digit(u());)h(),e+=stringFromCode(o)}else for(h(),e+=stringFromCode(o),h(),e+=stringFromCode(o),t="number";digit(u());)h(),e+=stringFromCode(o);return{type:t,value:C(e),repr:e}},C=function(e){return+e},N=function(){for(;h();){if(41===o||p())return;w()&&E()}};let I=0;for(;!p(u());)if(r.push(m()),++I>2*t.length)throw new Error("I'm infinite-looping!");return r}var CSSParserToken=class{constructor(){this.tokenType=""}toJSON(){return{token:this.tokenType}}toString(){return this.tokenType}toSource(){return""+this}},BadStringToken=class extends CSSParserToken{constructor(){super(...arguments),this.tokenType="BADSTRING"}},BadURLToken=class extends CSSParserToken{constructor(){super(...arguments),this.tokenType="BADURL"}},WhitespaceToken=class extends CSSParserToken{constructor(){super(...arguments),this.tokenType="WHITESPACE"}toString(){return"WS"}toSource(){return" "}},CDOToken=class extends CSSParserToken{constructor(){super(...arguments),this.tokenType="CDO"}toSource(){return"\x3c!--"}},CDCToken=class extends CSSParserToken{constructor(){super(...arguments),this.tokenType="CDC"}toSource(){return"--\x3e"}},ColonToken=class extends CSSParserToken{constructor(){super(...arguments),this.tokenType=":"}},SemicolonToken=class extends CSSParserToken{constructor(){super(...arguments),this.tokenType=";"}},CommaToken=class extends CSSParserToken{constructor(){super(...arguments),this.tokenType=","}},GroupingToken=class extends CSSParserToken{constructor(){super(...arguments),this.value="",this.mirror=""}},OpenCurlyToken=class extends GroupingToken{constructor(){super(),this.tokenType="{",this.value="{",this.mirror="}"}},CloseCurlyToken=class extends GroupingToken{constructor(){super(),this.tokenType="}",this.value="}",this.mirror="{"}},OpenSquareToken=class extends GroupingToken{constructor(){super(),this.tokenType="[",this.value="[",this.mirror="]"}},CloseSquareToken=class extends GroupingToken{constructor(){super(),this.tokenType="]",this.value="]",this.mirror="["}},OpenParenToken=class extends GroupingToken{constructor(){super(),this.tokenType="(",this.value="(",this.mirror=")"}},CloseParenToken=class extends GroupingToken{constructor(){super(),this.tokenType=")",this.value=")",this.mirror="("}},IncludeMatchToken=class extends CSSParserToken{constructor(){super(...arguments),this.tokenType="~="}},DashMatchToken=class extends CSSParserToken{constructor(){super(...arguments),this.tokenType="|="}},PrefixMatchToken=class extends CSSParserToken{constructor(){super(...arguments),this.tokenType="^="}},SuffixMatchToken=class extends CSSParserToken{constructor(){super(...arguments),this.tokenType="$="}},SubstringMatchToken=class extends CSSParserToken{constructor(){super(...arguments),this.tokenType="*="}},ColumnToken=class extends CSSParserToken{constructor(){super(...arguments),this.tokenType="||"}},EOFToken=class extends CSSParserToken{constructor(){super(...arguments),this.tokenType="EOF"}toSource(){return""}},DelimToken=class extends CSSParserToken{constructor(e){super(),this.tokenType="DELIM",this.value="",this.value=stringFromCode(e)}toString(){return"DELIM("+this.value+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e}toSource(){return"\\"===this.value?"\\\n":this.value}},StringValuedToken=class extends CSSParserToken{constructor(){super(...arguments),this.value=""}ASCIIMatch(e){return this.value.toLowerCase()===e.toLowerCase()}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e}},IdentToken=class extends StringValuedToken{constructor(e){super(),this.tokenType="IDENT",this.value=e}toString(){return"IDENT("+this.value+")"}toSource(){return escapeIdent(this.value)}},FunctionToken=class extends StringValuedToken{constructor(e){super(),this.tokenType="FUNCTION",this.value=e,this.mirror=")"}toString(){return"FUNCTION("+this.value+")"}toSource(){return escapeIdent(this.value)+"("}},AtKeywordToken=class extends StringValuedToken{constructor(e){super(),this.tokenType="AT-KEYWORD",this.value=e}toString(){return"AT("+this.value+")"}toSource(){return"@"+escapeIdent(this.value)}},HashToken=class extends StringValuedToken{constructor(e){super(),this.tokenType="HASH",this.value=e,this.type="unrestricted"}toString(){return"HASH("+this.value+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.type=this.type,e}toSource(){return"id"===this.type?"#"+escapeIdent(this.value):"#"+escapeHash(this.value)}},StringToken=class extends StringValuedToken{constructor(e){super(),this.tokenType="STRING",this.value=e}toString(){return'"'+escapeString(this.value)+'"'}},URLToken=class extends StringValuedToken{constructor(e){super(),this.tokenType="URL",this.value=e}toString(){return"URL("+this.value+")"}toSource(){return'url("'+escapeString(this.value)+'")'}},NumberToken=class extends CSSParserToken{constructor(){super(),this.tokenType="NUMBER",this.type="integer",this.repr=""}toString(){return"integer"===this.type?"INT("+this.value+")":"NUMBER("+this.value+")"}toJSON(){const e=super.toJSON();return e.value=this.value,e.type=this.type,e.repr=this.repr,e}toSource(){return this.repr}},PercentageToken=class extends CSSParserToken{constructor(){super(),this.tokenType="PERCENTAGE",this.repr=""}toString(){return"PERCENTAGE("+this.value+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.repr=this.repr,e}toSource(){return this.repr+"%"}},DimensionToken=class extends CSSParserToken{constructor(){super(),this.tokenType="DIMENSION",this.type="integer",this.repr="",this.unit=""}toString(){return"DIM("+this.value+","+this.unit+")"}toJSON(){const e=this.constructor.prototype.constructor.prototype.toJSON.call(this);return e.value=this.value,e.type=this.type,e.repr=this.repr,e.unit=this.unit,e}toSource(){const e=this.repr;let t=escapeIdent(this.unit);return"e"!==t[0].toLowerCase()||"-"!==t[1]&&!between(t.charCodeAt(1),48,57)||(t="\\65 "+t.slice(1,t.length)),e+t}};function escapeIdent(e){let t="";const n=(e=""+e).charCodeAt(0);for(let r=0;r<e.length;r++){const o=e.charCodeAt(r);if(0===o)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");between(o,1,31)||127===o||0===r&&between(o,48,57)||1===r&&between(o,48,57)&&45===n?t+="\\"+o.toString(16)+" ":o>=128||45===o||95===o||between(o,48,57)||between(o,65,90)||between(o,97,122)?t+=e[r]:t+="\\"+e[r]}return t}function escapeHash(e){e=""+e;let t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(0===r)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");r>=128||45===r||95===r||between(r,48,57)||between(r,65,90)||between(r,97,122)?t+=e[n]:t+="\\"+r.toString(16)+" "}return t}function escapeString(e){e=""+e;let t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);if(0===r)throw new InvalidCharacterError("Invalid character: the input contains U+0000.");between(r,1,31)||127===r?t+="\\"+r.toString(16)+" ":t+=34===r||92===r?"\\"+e[n]:e[n]}return t}var InvalidSelectorError=class extends Error{};function parseCSS(e,t){let n;try{(n=tokenize(e))[n.length-1]instanceof EOFToken||n.push(new EOFToken)}catch(t){const n=t.message+` while parsing selector "${e}"`,r=(t.stack||"").indexOf(t.message);throw-1!==r&&(t.stack=t.stack.substring(0,r)+n+t.stack.substring(r+t.message.length)),t.message=n,t}const r=n.find(e=>e instanceof AtKeywordToken||e instanceof BadStringToken||e instanceof BadURLToken||e instanceof ColumnToken||e instanceof CDOToken||e instanceof CDCToken||e instanceof SemicolonToken||e instanceof OpenCurlyToken||e instanceof CloseCurlyToken||e instanceof URLToken||e instanceof PercentageToken);if(r)throw new InvalidSelectorError(`Unsupported token "${r.toSource()}" while parsing selector "${e}"`);let o=0;const i=new Set;function s(){return new InvalidSelectorError(`Unexpected token "${n[o].toSource()}" while parsing selector "${e}"`)}function a(){for(;n[o]instanceof WhitespaceToken;)o++}function l(e=o){return n[e]instanceof IdentToken}function c(e=o){return n[e]instanceof CommaToken}function u(e=o){return n[e]instanceof OpenParenToken}function h(e=o){return n[e]instanceof CloseParenToken}function d(e=o){return n[e]instanceof FunctionToken}function p(e=o){return n[e]instanceof DelimToken&&"*"===n[e].value}function m(e=o){return n[e]instanceof EOFToken}function g(e=o){return n[e]instanceof DelimToken&&[">","+","~"].includes(n[e].value)}function f(e=o){return c(e)||h(e)||m(e)||g(e)||n[e]instanceof WhitespaceToken}function b(){const e=[x()];for(;a(),c();)o++,e.push(x());return e}function x(){return a(),function(e=o){return n[e]instanceof NumberToken}()?n[o++].value:function(e=o){return n[e]instanceof StringToken}()?n[o++].value:function(){const e={simples:[]};a(),g()?e.simples.push({selector:{functions:[{name:"scope",args:[]}]},combinator:""}):e.simples.push({selector:S(),combinator:""});for(;;){if(a(),g())e.simples[e.simples.length-1].combinator=n[o++].value,a();else if(f())break;e.simples.push({combinator:"",selector:S()})}return e}()}function S(){let e="";const r=[];for(;!f();)if(l()||p())e+=n[o++].toSource();else if(n[o]instanceof HashToken)e+=n[o++].toSource();else if(n[o]instanceof DelimToken&&"."===n[o].value){if(o++,!l())throw s();e+="."+n[o++].toSource()}else if(n[o]instanceof ColonToken)if(o++,l())if(t.has(n[o].value.toLowerCase())){const e=n[o++].value.toLowerCase();r.push({name:e,args:[]}),i.add(e)}else e+=":"+n[o++].toSource();else{if(!d())throw s();{const l=n[o++].value.toLowerCase();if(t.has(l)?(r.push({name:l,args:b()}),i.add(l)):e+=`:${l}(${E()})`,a(),!h())throw s();o++}}else{if(!(n[o]instanceof OpenSquareToken))throw s();for(e+="[",o++;!(n[o]instanceof CloseSquareToken||m());)e+=n[o++].toSource();if(!(n[o]instanceof CloseSquareToken))throw s();e+="]",o++}if(!e&&!r.length)throw s();return{css:e||void 0,functions:r}}function E(){let e="",t=1;for(;!m()&&((u()||d())&&t++,h()&&t--,t);)e+=n[o++].toSource();return e}const T=b();if(!m())throw s();if(T.some(e=>"object"!=typeof e||!("simples"in e)))throw new InvalidSelectorError(`Error while parsing selector "${e}"`);return{selector:T,names:Array.from(i)}}var kNestedSelectorNames=new Set(["internal:has","internal:has-not","internal:and","internal:or","internal:chain","left-of","right-of","above","below","near"]),kNestedSelectorNamesWithDistance=new Set(["left-of","right-of","above","below","near"]),customCSSNames=new Set(["not","is","where","has","scope","light","visible","text","text-matches","text-is","has-text","above","below","right-of","left-of","near","nth-match"]);function parseSelector(e){const t=parseSelectorString(e),n=[];for(const e of t.parts)if("css"!==e.name&&"css:light"!==e.name)if(kNestedSelectorNames.has(e.name)){let t,r;try{const n=JSON.parse("["+e.body+"]");if(!Array.isArray(n)||n.length<1||n.length>2||"string"!=typeof n[0])throw new InvalidSelectorError(`Malformed selector: ${e.name}=`+e.body);if(t=n[0],2===n.length){if("number"!=typeof n[1]||!kNestedSelectorNamesWithDistance.has(e.name))throw new InvalidSelectorError(`Malformed selector: ${e.name}=`+e.body);r=n[1]}}catch(t){throw new InvalidSelectorError(`Malformed selector: ${e.name}=`+e.body)}const o={name:e.name,source:e.body,body:{parsed:parseSelector(t),distance:r}},i=[...o.body.parsed.parts].reverse().find(e=>"internal:control"===e.name&&"enter-frame"===e.body),s=i?o.body.parsed.parts.indexOf(i):-1;-1!==s&&selectorPartsEqual(o.body.parsed.parts.slice(0,s+1),n.slice(0,s+1))&&o.body.parsed.parts.splice(0,s+1),n.push(o)}else n.push({...e,source:e.body});else{"css:light"===e.name&&(e.body=":light("+e.body+")");const t=parseCSS(e.body,customCSSNames);n.push({name:"css",body:t.selector,source:e.body})}if(kNestedSelectorNames.has(n[0].name))throw new InvalidSelectorError(`"${n[0].name}" selector cannot be first`);return{capture:t.capture,parts:n}}function selectorPartsEqual(e,t){return stringifySelector({parts:e})===stringifySelector({parts:t})}function stringifySelector(e,t){return"string"==typeof e?e:e.parts.map((n,r)=>{let o=!0;t||r===e.capture||("css"===n.name?o=!1:("xpath"===n.name&&n.source.startsWith("//")||n.source.startsWith(".."))&&(o=!1));const i=o?n.name+"=":"";return`${r===e.capture?"*":""}${i}${n.source}`}).join(" >> ")}function visitAllSelectorParts(e,t){const n=(e,r)=>{for(const o of e.parts)t(o,r),kNestedSelectorNames.has(o.name)&&n(o.body.parsed,!0)};n(e,!1)}function parseSelectorString(e){let t,n=0,r=0;const o={parts:[]},i=()=>{const t=e.substring(r,n).trim(),i=t.indexOf("=");let s,a;-1!==i&&t.substring(0,i).trim().match(/^[a-zA-Z_0-9-+:*]+$/)?(s=t.substring(0,i).trim(),a=t.substring(i+1)):t.length>1&&'"'===t[0]&&'"'===t[t.length-1]?(s="text",a=t):t.length>1&&"'"===t[0]&&"'"===t[t.length-1]?(s="text",a=t):/^\(*\/\//.test(t)||t.startsWith("..")?(s="xpath",a=t):(s="css",a=t);let l=!1;if("*"===s[0]&&(l=!0,s=s.substring(1)),o.parts.push({name:s,body:a}),l){if(void 0!==o.capture)throw new InvalidSelectorError("Only one of the selectors can capture using * modifier");o.capture=o.parts.length-1}};if(!e.includes(">>"))return n=e.length,i(),o;const s=()=>{const t=e.substring(r,n).match(/^\s*text\s*=(.*)$/);return!!t&&!!t[1]};for(;n<e.length;){const o=e[n];"\\"===o&&n+1<e.length?n+=2:o===t?(t=void 0,n++):t||'"'!==o&&"'"!==o&&"`"!==o||s()?t||">"!==o||">"!==e[n+1]?n++:(i(),r=n+=2):(t=o,n++)}return i(),o}function parseAttributeSelector(e,t){let n=0,r=0===e.length;const o=()=>e[n]||"",i=()=>{const t=o();return r=++n>=e.length,t},s=t=>{if(r)throw new InvalidSelectorError(`Unexpected end of selector while parsing selector \`${e}\``);throw new InvalidSelectorError(`Error while parsing selector \`${e}\` - unexpected symbol "${o()}" at position ${n}`+(t?" during "+t:""))};function a(){for(;!r&&/\s/.test(o());)i()}function l(e){return e>=""||e>="0"&&e<="9"||e>="A"&&e<="Z"||e>="a"&&e<="z"||e>="0"&&e<="9"||"_"===e||"-"===e}function c(){let e="";for(a();!r&&l(o());)e+=i();return e}function u(e){let t=i();for(t!==e&&s("parsing quoted string");!r&&o()!==e;)"\\"===o()&&i(),t+=i();return o()!==e&&s("parsing quoted string"),t+=i()}function h(){let e="";return a(),(e="'"===o()||'"'===o()?u(o()).slice(1,-1):c())||s("parsing property path"),e}function d(){i();const n=[];for(n.push(h()),a();"."===o();)i(),n.push(h()),a();if("]"===o())return i(),{name:n.join("."),jsonPath:n,op:"<truthy>",value:null,caseSensitive:!1};const c=function(){a();let e="";return r||(e+=i()),r||"="===e||(e+=i()),["=","*=","^=","$=","|=","~="].includes(e)||s("parsing operator"),e}();let d=void 0,p=!0;if(a(),"/"===o()){if("="!==c)throw new InvalidSelectorError(`Error while parsing selector \`${e}\` - cannot use ${c} in attribute with regular expression`);d=function(){"/"!==i()&&s("parsing regular expression");let t="",n=!1;for(;!r;){if("\\"===o())t+=i(),r&&s("parsing regular expression");else if(n&&"]"===o())n=!1;else if(n||"["!==o()){if(!n&&"/"===o())break}else n=!0;t+=i()}"/"!==i()&&s("parsing regular expression");let a="";for(;!r&&o().match(/[dgimsuy]/);)a+=i();try{return new RegExp(t,a)}catch(t){throw new InvalidSelectorError(`Error while parsing selector \`${e}\`: ${t.message}`)}}()}else if("'"===o()||'"'===o())d=u(o()).slice(1,-1),a(),"i"===o()||"I"===o()?(p=!1,i()):"s"!==o()&&"S"!==o()||(p=!0,i());else{for(d="";!r&&(l(o())||"+"===o()||"."===o());)d+=i();"true"===d?d=!0:"false"===d?d=!1:t||(d=+d,Number.isNaN(d)&&s("parsing attribute value"))}if(a(),"]"!==o()&&s("parsing attribute value"),i(),"="!==c&&"string"!=typeof d)throw new InvalidSelectorError(`Error while parsing selector \`${e}\` - cannot use ${c} in attribute with non-string matching value - ${d}`);return{name:n.join("."),jsonPath:n,op:c,value:d,caseSensitive:p}}const p={name:"",attributes:[]};for(p.name=c(),a();"["===o();)p.attributes.push(d()),a();if(r||s(void 0),!p.name&&!p.attributes.length)throw new InvalidSelectorError(`Error while parsing selector \`${e}\` - selector cannot be empty`);return p}function getFunctionComponentName(e){return e.displayName||e.name||"Anonymous"}function getComponentName(e){if(e.type)switch(typeof e.type){case"function":return getFunctionComponentName(e.type);case"string":return e.type;case"object":return e.type.displayName||(e.type.render?getFunctionComponentName(e.type.render):"")}if(e._currentElement){const t=e._currentElement.type;if("string"==typeof t)return t;if("function"==typeof t)return t.displayName||t.name||"Anonymous"}return""}function getComponentKey(e){var t,n;return null!=(n=e.key)?n:null==(t=e._currentElement)?void 0:t.key}function getChildren(e){if(e.child){const t=[];for(let n=e.child;n;n=n.sibling)t.push(n);return t}if(!e._currentElement)return[];const t=e=>{var t;const n=null==(t=e._currentElement)?void 0:t.type;return"function"==typeof n||"string"==typeof n};if(e._renderedComponent){const n=e._renderedComponent;return t(n)?[n]:[]}return e._renderedChildren?[...Object.values(e._renderedChildren)].filter(t):[]}function getProps(e){var t;const n=e.memoizedProps||(null==(t=e._currentElement)?void 0:t.props);if(!n||"string"==typeof n)return n;const r={...n};return delete r.children,r}function buildComponentsTree(e){var t;const n={key:getComponentKey(e),name:getComponentName(e),children:getChildren(e).map(buildComponentsTree),rootElements:[],props:getProps(e)},r=e.stateNode||e._hostNode||(null==(t=e._renderedComponent)?void 0:t._hostNode);if(r instanceof Element)n.rootElements.push(r);else for(const e of n.children)n.rootElements.push(...e.rootElements);return n}function filterComponentsTree(e,t,n=[]){t(e)&&n.push(e);for(const r of e.children)filterComponentsTree(r,t,n);return n}function findReactRoots(e,t=[]){const n=(e.ownerDocument||e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT);do{const e=n.currentNode,r=e,o=Object.keys(r).find(e=>e.startsWith("__reactContainer")&&null!==r[e]);if(o)t.push(r[o].stateNode.current);else{const e="_reactRootContainer";r.hasOwnProperty(e)&&null!==r[e]&&t.push(r[e]._internalRoot.current)}if(e instanceof Element&&e.hasAttribute("data-reactroot"))for(const n of Object.keys(e))(n.startsWith("__reactInternalInstance")||n.startsWith("__reactFiber"))&&t.push(e[n]);const i=e instanceof Element?e.shadowRoot:null;i&&findReactRoots(i,t)}while(n.nextNode());return t}var ReactEngine={queryAll(e,t){const{name:n,attributes:r}=parseAttributeSelector(t,!1),o=findReactRoots(e.ownerDocument||e).map(e=>buildComponentsTree(e)).map(t=>filterComponentsTree(t,t=>{var o;const i=null!=(o=t.props)?o:{};if(void 0!==t.key&&(i.key=t.key),n&&t.name!==n)return!1;if(t.rootElements.some(t=>!isInsideScope(e,t)))return!1;for(const e of r)if(!matchesComponentAttribute(i,e))return!1;return!0})).flat(),i=new Set;for(const e of o)for(const t of e.rootElements)i.add(t);return[...i]}};function basename(e,t){const n=e.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/");let r=n.substring(n.lastIndexOf("/")+1);return t&&r.endsWith(t)&&(r=r.substring(0,r.length-t.length)),r}function toUpper(e,t){return t?t.toUpperCase():""}var classifyRE=/(?:^|[-_/])(\w)/g,classify=e=>e&&e.replace(classifyRE,toUpper);function buildComponentsTreeVue3(e){function t(e,t){return e.type.__playwright_guessedName=t,t}function n(e){var n,r,o,i;const s=function(e){const t=e.name||e._componentTag||e.__playwright_guessedName;if(t)return t;const n=e.__file;return n?classify(basename(n,".vue")):void 0}(e.type||{});if(s)return s;if(e.root===e)return"Root";for(const i in null==(r=null==(n=e.parent)?void 0:n.type)?void 0:r.components)if((null==(o=e.parent)?void 0:o.type.components[i])===e.type)return t(e,i);for(const n in null==(i=e.appContext)?void 0:i.components)if(e.appContext.components[n]===e.type)return t(e,n);return"Anonymous Component"}function r(e){const t=[];return e.component&&t.push(e.component),e.suspense&&t.push(...r(e.suspense.activeBranch)),Array.isArray(e.children)&&e.children.forEach(e=>{e.component?t.push(e.component):t.push(...r(e))}),t.filter(e=>{var t;return!function(e){return e._isBeingDestroyed||e.isUnmounted}(e)&&!(null==(t=e.type.devtools)?void 0:t.hide)})}function o(e){return function(e){return"Symbol(Fragment)"===e.subTree.type.toString()}(e)?function(e){if(!e.children)return[];const t=[];for(let n=0,r=e.children.length;n<r;n++){const r=e.children[n];r.component?t.push(...o(r.component)):r.el&&t.push(r.el)}return t}(e.subTree):[e.subTree.el]}return function e(t){return{name:n(t),children:r(t.subTree).map(e),rootElements:o(t),props:t.props}}(e)}function buildComponentsTreeVue2(e){function t(e){const t=function(e){const t=e.displayName||e.name||e._componentTag;if(t)return t;const n=e.__file;return n?classify(basename(n,".vue")):void 0}(e.$options||e.fnOptions||{});return t||(e.$root===e?"Root":"Anonymous Component")}function n(e){return e.$children?e.$children:Array.isArray(e.subTree.children)?e.subTree.children.filter(e=>!!e.component).map(e=>e.component):[]}return function e(r){return{name:t(r),children:n(r).map(e),rootElements:[r.$el],props:r._props}}(e)}function filterComponentsTree2(e,t,n=[]){t(e)&&n.push(e);for(const r of e.children)filterComponentsTree2(r,t,n);return n}function findVueRoots(e,t=[]){const n=(e.ownerDocument||e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT),r=new Set;do{const e=n.currentNode;e.__vue__&&r.add(e.__vue__.$root),e.__vue_app__&&e._vnode&&e._vnode.component&&t.push({root:e._vnode.component,version:3});const o=e instanceof Element?e.shadowRoot:null;o&&findVueRoots(o,t)}while(n.nextNode());for(const e of r)t.push({version:2,root:e});return t}var VueEngine={queryAll(e,t){const n=e.ownerDocument||e,{name:r,attributes:o}=parseAttributeSelector(t,!1),i=findVueRoots(n).map(e=>3===e.version?buildComponentsTreeVue3(e.root):buildComponentsTreeVue2(e.root)).map(t=>filterComponentsTree2(t,t=>{if(r&&t.name!==r)return!1;if(t.rootElements.some(t=>!isInsideScope(e,t)))return!1;for(const e of o)if(!matchesComponentAttribute(t.props,e))return!1;return!0})).flat(),s=new Set;for(const e of i)for(const t of e.rootElements)s.add(t);return[...s]}},kSupportedAttributes=["selected","checked","pressed","expanded","level","disabled","name","include-hidden"];function validateSupportedRole(e,t,n){if(!t.includes(n))throw new Error(`"${e}" attribute is only supported for roles: ${t.slice().sort().map(e=>`"${e}"`).join(", ")}`)}function validateSupportedValues(e,t){if("<truthy>"!==e.op&&!t.includes(e.value))throw new Error(`"${e.name}" must be one of ${t.map(e=>JSON.stringify(e)).join(", ")}`)}function validateSupportedOp(e,t){if(!t.includes(e.op))throw new Error(`"${e.name}" does not support "${e.op}" matcher`)}function validateAttributes(e,t){const n={role:t};for(const r of e)switch(r.name){case"checked":validateSupportedRole(r.name,kAriaCheckedRoles,t),validateSupportedValues(r,[!0,!1,"mixed"]),validateSupportedOp(r,["<truthy>","="]),n.checked="<truthy>"===r.op||r.value;break;case"pressed":validateSupportedRole(r.name,kAriaPressedRoles,t),validateSupportedValues(r,[!0,!1,"mixed"]),validateSupportedOp(r,["<truthy>","="]),n.pressed="<truthy>"===r.op||r.value;break;case"selected":validateSupportedRole(r.name,kAriaSelectedRoles,t),validateSupportedValues(r,[!0,!1]),validateSupportedOp(r,["<truthy>","="]),n.selected="<truthy>"===r.op||r.value;break;case"expanded":validateSupportedRole(r.name,kAriaExpandedRoles,t),validateSupportedValues(r,[!0,!1]),validateSupportedOp(r,["<truthy>","="]),n.expanded="<truthy>"===r.op||r.value;break;case"level":if(validateSupportedRole(r.name,kAriaLevelRoles,t),"string"==typeof r.value&&(r.value=+r.value),"="!==r.op||"number"!=typeof r.value||Number.isNaN(r.value))throw new Error('"level" attribute must be compared to a number');n.level=r.value;break;case"disabled":validateSupportedValues(r,[!0,!1]),validateSupportedOp(r,["<truthy>","="]),n.disabled="<truthy>"===r.op||r.value;break;case"name":if("<truthy>"===r.op)throw new Error('"name" attribute must have a value');if("string"!=typeof r.value&&!(r.value instanceof RegExp))throw new Error('"name" attribute must be a string or a regular expression');n.name=r.value,n.nameOp=r.op,n.exact=r.caseSensitive;break;case"include-hidden":validateSupportedValues(r,[!0,!1]),validateSupportedOp(r,["<truthy>","="]),n.includeHidden="<truthy>"===r.op||r.value;break;default:throw new Error(`Unknown attribute "${r.name}", must be one of ${kSupportedAttributes.map(e=>`"${e}"`).join(", ")}.`)}return n}function queryRole(e,t,n){const r=[],o=e=>{if(getAriaRole(e)===t.role&&!(void 0!==t.selected&&getAriaSelected(e)!==t.selected||void 0!==t.checked&&getAriaChecked(e)!==t.checked||void 0!==t.pressed&&getAriaPressed(e)!==t.pressed||void 0!==t.expanded&&getAriaExpanded(e)!==t.expanded||void 0!==t.level&&getAriaLevel(e)!==t.level||void 0!==t.disabled&&getAriaDisabled(e)!==t.disabled)){if(!t.includeHidden){if(isElementHiddenForAria(e))return}if(void 0!==t.name){const r=normalizeWhiteSpace(getElementAccessibleName(e,!!t.includeHidden));if("string"==typeof t.name&&(t.name=normalizeWhiteSpace(t.name)),n&&!t.exact&&"="===t.nameOp&&(t.nameOp="*="),!matchesAttributePart(r,{name:"",jsonPath:[],op:t.nameOp||"=",value:t.name,caseSensitive:!!t.exact}))return}r.push(e)}},i=e=>{const t=[];e.shadowRoot&&t.push(e.shadowRoot);for(const n of e.querySelectorAll("*"))o(n),n.shadowRoot&&t.push(n.shadowRoot);t.forEach(i)};return i(e),r}function createRoleEngine(e){return{queryAll:(t,n)=>{const r=parseAttributeSelector(n,!0),o=r.name.toLowerCase();if(!o)throw new Error("Role must not be empty");const i=validateAttributes(r.attributes,o);beginAriaCaches();try{return queryRole(t,i,e)}finally{endAriaCaches()}}}}function boxRightOf(e,t,n){const r=e.left-t.right;if(!(r<0||void 0!==n&&r>n))return r+Math.max(t.bottom-e.bottom,0)+Math.max(e.top-t.top,0)}function boxLeftOf(e,t,n){const r=t.left-e.right;if(!(r<0||void 0!==n&&r>n))return r+Math.max(t.bottom-e.bottom,0)+Math.max(e.top-t.top,0)}function boxAbove(e,t,n){const r=t.top-e.bottom;if(!(r<0||void 0!==n&&r>n))return r+Math.max(e.left-t.left,0)+Math.max(t.right-e.right,0)}function boxBelow(e,t,n){const r=e.top-t.bottom;if(!(r<0||void 0!==n&&r>n))return r+Math.max(e.left-t.left,0)+Math.max(t.right-e.right,0)}function boxNear(e,t,n){const r=void 0===n?50:n;let o=0;return e.left-t.right>=0&&(o+=e.left-t.right),t.left-e.right>=0&&(o+=t.left-e.right),t.top-e.bottom>=0&&(o+=t.top-e.bottom),e.top-t.bottom>=0&&(o+=e.top-t.bottom),o>r?void 0:o}kSupportedAttributes.sort();var kLayoutSelectorNames=["left-of","right-of","above","below","near"];function layoutSelectorScore(e,t,n,r){const o=t.getBoundingClientRect(),i={"left-of":boxLeftOf,"right-of":boxRightOf,above:boxAbove,below:boxBelow,near:boxNear}[e];let s;for(const e of n){if(e===t)continue;const n=i(o,e.getBoundingClientRect(),r);void 0!==n&&((void 0===s||n<s)&&(s=n))}return s}var SelectorEvaluatorImpl=class{constructor(e){this._engines=new Map,this._cacheQueryCSS=new Map,this._cacheMatches=new Map,this._cacheQuery=new Map,this._cacheMatchesSimple=new Map,this._cacheMatchesParents=new Map,this._cacheCallMatches=new Map,this._cacheCallQuery=new Map,this._cacheQuerySimple=new Map,this._cacheText=new Map,this._retainCacheCounter=0;for(const[t,n]of e)this._engines.set(t,n);this._engines.set("not",notEngine),this._engines.set("is",isEngine),this._engines.set("where",isEngine),this._engines.set("has",hasEngine),this._engines.set("scope",scopeEngine),this._engines.set("light",lightEngine),this._engines.set("visible",visibleEngine),this._engines.set("text",textEngine),this._engines.set("text-is",textIsEngine),this._engines.set("text-matches",textMatchesEngine),this._engines.set("has-text",hasTextEngine),this._engines.set("right-of",createLayoutEngine("right-of")),this._engines.set("left-of",createLayoutEngine("left-of")),this._engines.set("above",createLayoutEngine("above")),this._engines.set("below",createLayoutEngine("below")),this._engines.set("near",createLayoutEngine("near")),this._engines.set("nth-match",nthMatchEngine);const t=[...this._engines.keys()];t.sort();const n=[...customCSSNames];if(n.sort(),t.join("|")!==n.join("|"))throw new Error(`Please keep customCSSNames in sync with evaluator engines: ${t.join("|")} vs ${n.join("|")}`)}begin(){++this._retainCacheCounter}end(){--this._retainCacheCounter,this._retainCacheCounter||(this._cacheQueryCSS.clear(),this._cacheMatches.clear(),this._cacheQuery.clear(),this._cacheMatchesSimple.clear(),this._cacheMatchesParents.clear(),this._cacheCallMatches.clear(),this._cacheCallQuery.clear(),this._cacheQuerySimple.clear(),this._cacheText.clear())}_cached(e,t,n,r){e.has(t)||e.set(t,[]);const o=e.get(t),i=o.find(e=>n.every((t,n)=>e.rest[n]===t));if(i)return i.result;const s=r();return o.push({rest:n,result:s}),s}_checkSelector(e){if(!("object"==typeof e&&e&&(Array.isArray(e)||"simples"in e&&e.simples.length)))throw new Error(`Malformed selector "${e}"`);return e}matches(e,t,n){const r=this._checkSelector(t);this.begin();try{return this._cached(this._cacheMatches,e,[r,n.scope,n.pierceShadow,n.originalScope],()=>Array.isArray(r)?this._matchesEngine(isEngine,e,r,n):(this._hasScopeClause(r)&&(n=this._expandContextForScopeMatching(n)),!!this._matchesSimple(e,r.simples[r.simples.length-1].selector,n)&&this._matchesParents(e,r,r.simples.length-2,n)))}finally{this.end()}}query(e,t){const n=this._checkSelector(t);this.begin();try{return this._cached(this._cacheQuery,n,[e.scope,e.pierceShadow,e.originalScope],()=>{if(Array.isArray(n))return this._queryEngine(isEngine,e,n);this._hasScopeClause(n)&&(e=this._expandContextForScopeMatching(e));const t=this._scoreMap;this._scoreMap=new Map;let r=this._querySimple(e,n.simples[n.simples.length-1].selector);return r=r.filter(t=>this._matchesParents(t,n,n.simples.length-2,e)),this._scoreMap.size&&r.sort((e,t)=>{const n=this._scoreMap.get(e),r=this._scoreMap.get(t);return n===r?0:void 0===n?1:void 0===r?-1:n-r}),this._scoreMap=t,r})}finally{this.end()}}_markScore(e,t){this._scoreMap&&this._scoreMap.set(e,t)}_hasScopeClause(e){return e.simples.some(e=>e.selector.functions.some(e=>"scope"===e.name))}_expandContextForScopeMatching(e){if(1!==e.scope.nodeType)return e;const t=parentElementOrShadowHost(e.scope);return t?{...e,scope:t,originalScope:e.originalScope||e.scope}:e}_matchesSimple(e,t,n){return this._cached(this._cacheMatchesSimple,e,[t,n.scope,n.pierceShadow,n.originalScope],()=>{if(e===n.scope)return!1;if(t.css&&!this._matchesCSS(e,t.css))return!1;for(const r of t.functions)if(!this._matchesEngine(this._getEngine(r.name),e,r.args,n))return!1;return!0})}_querySimple(e,t){return t.functions.length?this._cached(this._cacheQuerySimple,t,[e.scope,e.pierceShadow,e.originalScope],()=>{let n=t.css;const r=t.functions;let o;"*"===n&&r.length&&(n=void 0);let i=-1;void 0!==n?o=this._queryCSS(e,n):(-1===(i=r.findIndex(e=>void 0!==this._getEngine(e.name).query))&&(i=0),o=this._queryEngine(this._getEngine(r[i].name),e,r[i].args));for(let t=0;t<r.length;t++){if(t===i)continue;const n=this._getEngine(r[t].name);void 0!==n.matches&&(o=o.filter(o=>this._matchesEngine(n,o,r[t].args,e)))}for(let t=0;t<r.length;t++){if(t===i)continue;const n=this._getEngine(r[t].name);void 0===n.matches&&(o=o.filter(o=>this._matchesEngine(n,o,r[t].args,e)))}return o}):this._queryCSS(e,t.css||"*")}_matchesParents(e,t,n,r){return n<0||this._cached(this._cacheMatchesParents,e,[t,n,r.scope,r.pierceShadow,r.originalScope],()=>{const{selector:o,combinator:i}=t.simples[n];if(">"===i){const i=parentElementOrShadowHostInContext(e,r);return!(!i||!this._matchesSimple(i,o,r))&&this._matchesParents(i,t,n-1,r)}if("+"===i){const i=previousSiblingInContext(e,r);return!(!i||!this._matchesSimple(i,o,r))&&this._matchesParents(i,t,n-1,r)}if(""===i){let i=parentElementOrShadowHostInContext(e,r);for(;i;){if(this._matchesSimple(i,o,r)){if(this._matchesParents(i,t,n-1,r))return!0;if(""===t.simples[n-1].combinator)break}i=parentElementOrShadowHostInContext(i,r)}return!1}if("~"===i){let i=previousSiblingInContext(e,r);for(;i;){if(this._matchesSimple(i,o,r)){if(this._matchesParents(i,t,n-1,r))return!0;if("~"===t.simples[n-1].combinator)break}i=previousSiblingInContext(i,r)}return!1}if(">="===i){let i=e;for(;i;){if(this._matchesSimple(i,o,r)){if(this._matchesParents(i,t,n-1,r))return!0;if(""===t.simples[n-1].combinator)break}i=parentElementOrShadowHostInContext(i,r)}return!1}throw new Error(`Unsupported combinator "${i}"`)})}_matchesEngine(e,t,n,r){if(e.matches)return this._callMatches(e,t,n,r);if(e.query)return this._callQuery(e,n,r).includes(t);throw new Error('Selector engine should implement "matches" or "query"')}_queryEngine(e,t,n){if(e.query)return this._callQuery(e,n,t);if(e.matches)return this._queryCSS(t,"*").filter(r=>this._callMatches(e,r,n,t));throw new Error('Selector engine should implement "matches" or "query"')}_callMatches(e,t,n,r){return this._cached(this._cacheCallMatches,t,[e,r.scope,r.pierceShadow,r.originalScope,...n],()=>e.matches(t,n,r,this))}_callQuery(e,t,n){return this._cached(this._cacheCallQuery,e,[n.scope,n.pierceShadow,n.originalScope,...t],()=>e.query(n,t,this))}_matchesCSS(e,t){return e.matches(t)}_queryCSS(e,t){return this._cached(this._cacheQueryCSS,t,[e.scope,e.pierceShadow,e.originalScope],()=>{let n=[];return function r(o){if(n=n.concat([...o.querySelectorAll(t)]),e.pierceShadow){o.shadowRoot&&r(o.shadowRoot);for(const e of o.querySelectorAll("*"))e.shadowRoot&&r(e.shadowRoot)}}(e.scope),n})}_getEngine(e){const t=this._engines.get(e);if(!t)throw new Error(`Unknown selector engine "${e}"`);return t}},isEngine={matches(e,t,n,r){if(0===t.length)throw new Error('"is" engine expects non-empty selector list');return t.some(t=>r.matches(e,t,n))},query(e,t,n){if(0===t.length)throw new Error('"is" engine expects non-empty selector list');let r=[];for(const o of t)r=r.concat(n.query(e,o));return 1===t.length?r:sortInDOMOrder(r)}},hasEngine={matches(e,t,n,r){if(0===t.length)throw new Error('"has" engine expects non-empty selector list');return r.query({...n,scope:e},t).length>0}},scopeEngine={matches(e,t,n,r){if(0!==t.length)throw new Error('"scope" engine expects no arguments');const o=n.originalScope||n.scope;return 9===o.nodeType?e===o.documentElement:e===o},query(e,t,n){if(0!==t.length)throw new Error('"scope" engine expects no arguments');const r=e.originalScope||e.scope;if(9===r.nodeType){const e=r.documentElement;return e?[e]:[]}return 1===r.nodeType?[r]:[]}},notEngine={matches(e,t,n,r){if(0===t.length)throw new Error('"not" engine expects non-empty selector list');return!r.matches(e,t,n)}},lightEngine={query:(e,t,n)=>n.query({...e,pierceShadow:!1},t),matches:(e,t,n,r)=>r.matches(e,t,{...n,pierceShadow:!1})},visibleEngine={matches(e,t,n,r){if(t.length)throw new Error('"visible" engine expects no arguments');return isElementVisible(e)}},textEngine={matches(e,t,n,r){if(1!==t.length||"string"!=typeof t[0])throw new Error('"text" engine expects a single string');const o=normalizeWhiteSpace(t[0]).toLowerCase();return"self"===elementMatchesText(r._cacheText,e,e=>e.normalized.toLowerCase().includes(o))}},textIsEngine={matches(e,t,n,r){if(1!==t.length||"string"!=typeof t[0])throw new Error('"text-is" engine expects a single string');const o=normalizeWhiteSpace(t[0]);return"none"!==elementMatchesText(r._cacheText,e,e=>!o&&!e.immediate.length||e.immediate.some(e=>normalizeWhiteSpace(e)===o))}},textMatchesEngine={matches(e,t,n,r){if(0===t.length||"string"!=typeof t[0]||t.length>2||2===t.length&&"string"!=typeof t[1])throw new Error('"text-matches" engine expects a regexp body and optional regexp flags');const o=new RegExp(t[0],2===t.length?t[1]:void 0);return"self"===elementMatchesText(r._cacheText,e,e=>o.test(e.full))}},hasTextEngine={matches(e,t,n,r){if(1!==t.length||"string"!=typeof t[0])throw new Error('"has-text" engine expects a single string');if(shouldSkipForTextMatching(e))return!1;const o=normalizeWhiteSpace(t[0]).toLowerCase();return(e=>e.normalized.toLowerCase().includes(o))(elementText(r._cacheText,e))}};function createLayoutEngine(e){return{matches(t,n,r,o){const i=n.length&&"number"==typeof n[n.length-1]?n[n.length-1]:void 0,s=void 0===i?n:n.slice(0,n.length-1);if(n.length<1+(void 0===i?0:1))throw new Error(`"${e}" engine expects a selector list and optional maximum distance in pixels`);const a=o.query(r,s),l=layoutSelectorScore(e,t,a,i);return void 0!==l&&(o._markScore(t,l),!0)}}}var nthMatchEngine={query(e,t,n){let r=t[t.length-1];if(t.length<2)throw new Error('"nth-match" engine expects non-empty selector list and an index argument');if("number"!=typeof r||r<1)throw new Error('"nth-match" engine expects a one-based index as the last argument');const o=isEngine.query(e,t.slice(0,t.length-1),n);return--r<o.length?[o[r]]:[]}};function parentElementOrShadowHostInContext(e,t){if(e!==t.scope)return t.pierceShadow?parentElementOrShadowHost(e):e.parentElement||void 0}function previousSiblingInContext(e,t){if(e!==t.scope)return e.previousElementSibling||void 0}function sortInDOMOrder(e){const t=new Map,n=[],r=[];function o(e){let r=t.get(e);if(r)return r;const i=parentElementOrShadowHost(e);if(i){o(i).children.push(e)}else n.push(e);return r={children:[],taken:!1},t.set(e,r),r}for(const t of e)o(t).taken=!0;return n.forEach(function e(n){const o=t.get(n);if(o.taken&&r.push(n),o.children.length>1){const e=new Set(o.children);o.children=[];let t=n.firstElementChild;for(;t&&o.children.length<e.size;)e.has(t)&&o.children.push(t),t=t.nextElementSibling;for(t=n.shadowRoot?n.shadowRoot.firstElementChild:null;t&&o.children.length<e.size;)e.has(t)&&o.children.push(t),t=t.nextElementSibling}o.children.forEach(e)}),r}var cacheAllowText=new Map,cacheDisallowText=new Map,kTextScoreRange=10,kExactPenalty=kTextScoreRange/2,kTestIdScore=1,kOtherTestIdScore=2,kIframeByAttributeScore=10,kBeginPenalizedScore=50,kPlaceholderScore=100,kLabelScore=120,kRoleWithNameScore=140,kAltTextScore=160,kTextScore=180,kTitleScore=200,kTextScoreRegex=250,kPlaceholderScoreExact=kPlaceholderScore+kExactPenalty,kLabelScoreExact=kLabelScore+kExactPenalty,kRoleWithNameScoreExact=kRoleWithNameScore+kExactPenalty,kAltTextScoreExact=kAltTextScore+kExactPenalty,kTextScoreExact=kTextScore+kExactPenalty,kTitleScoreExact=kTitleScore+kExactPenalty,kEndPenalizedScore=300,kCSSIdScore=500,kRoleWithoutNameScore=510,kCSSInputTypeNameScore=520,kCSSTagNameScore=530,kNthScore=1e4,kCSSFallbackScore=1e7,kScoreThresholdForTextExpect=1e3;function generateSelector(e,t,n){var r;e._evaluator.begin(),beginAriaCaches();try{let o=[];if(n.forTextExpect){let r=cssFallback(e,t.ownerDocument.documentElement,n);for(let o=t;o;o=parentElementOrShadowHost(o)){const t=generateSelectorFor(e,o,{...n,noText:!0});if(t&&combineScores(t)<=kScoreThresholdForTextExpect){r=t;break}}o=[joinTokens(r)]}else{if(!t.matches("input,textarea,select")&&!t.isContentEditable){const e=closestCrossShadow(t,"button,select,input,[role=button],[role=checkbox],[role=radio],a,[role=link]",n.root);e&&isElementVisible(e)&&(t=e)}if(n.multiple){const r=generateSelectorFor(e,t,n),i=generateSelectorFor(e,t,{...n,noText:!0});let s=[r,i];if(cacheAllowText.clear(),cacheDisallowText.clear(),r&&hasCSSIdToken(r)&&s.push(generateSelectorFor(e,t,{...n,noCSSId:!0})),i&&hasCSSIdToken(i)&&s.push(generateSelectorFor(e,t,{...n,noText:!0,noCSSId:!0})),!(s=s.filter(Boolean)).length){const r=cssFallback(e,t,n);s.push(r),hasCSSIdToken(r)&&s.push(cssFallback(e,t,{...n,noCSSId:!0}))}o=[...new Set(s.map(e=>joinTokens(e)))]}else{o=[joinTokens(generateSelectorFor(e,t,n)||cssFallback(e,t,n))]}}const i=o[0],s=e.parseSelector(i);return{selector:i,selectors:o,elements:e.querySelectorAll(s,null!=(r=n.root)?r:t.ownerDocument)}}finally{cacheAllowText.clear(),cacheDisallowText.clear(),endAriaCaches(),e._evaluator.end()}}function filterRegexTokens(e){return e.filter(e=>"/"!==e[0].selector[0])}function generateSelectorFor(e,t,n){if(n.root&&!isInsideScope(n.root,t))throw new Error("Target element must belong to the root's subtree");if(t===n.root)return[{engine:"css",selector:":scope",score:1}];if(t.ownerDocument.documentElement===t)return[{engine:"css",selector:"html",score:1}];const r=(r,i)=>{var s;const a=r===t;let l=i?buildTextCandidates(e,r,r===t):[];r!==t&&(l=filterRegexTokens(l));const c=buildNoTextCandidates(e,r,n).filter(e=>!n.omitInternalEngines||!e.engine.startsWith("internal:")).map(e=>[e]);let u=chooseFirstSelector(e,null!=(s=n.root)?s:t.ownerDocument,r,[...l,...c],a);const h=t=>{const s=i&&!t.length,l=[...t,...c].filter(e=>!u||combineScores(e)<combineScores(u));let h=l[0];if(h)for(let t=parentElementOrShadowHost(r);t&&t!==n.root;t=parentElementOrShadowHost(t)){const n=o(t,s);if(!n)continue;if(u&&combineScores([...n,...h])>=combineScores(u))continue;if(!(h=chooseFirstSelector(e,t,r,l,a)))return;const i=[...n,...h];(!u||combineScores(i)<combineScores(u))&&(u=i)}};return h(l=filterRegexTokens(l)),r===t&&l.length&&h([]),u},o=(e,t)=>{const n=t?cacheAllowText:cacheDisallowText;let o=n.get(e);return void 0===o&&(o=r(e,t),n.set(e,o)),o};return r(t,!n.noText)}function buildNoTextCandidates(e,t,n){const r=[];for(const e of["data-testid","data-test-id","data-test"])e!==n.testIdAttributeName&&t.getAttribute(e)&&r.push({engine:"css",selector:`[${e}=${quoteCSSAttributeValue(t.getAttribute(e))}]`,score:kOtherTestIdScore});if(!n.noCSSId){const e=t.getAttribute("id");e&&!isGuidLike(e)&&r.push({engine:"css",selector:makeSelectorForId(e),score:kCSSIdScore})}if(r.push({engine:"css",selector:cssEscape(t.nodeName.toLowerCase()),score:kCSSTagNameScore}),"IFRAME"===t.nodeName){for(const e of["name","title"])t.getAttribute(e)&&r.push({engine:"css",selector:`${cssEscape(t.nodeName.toLowerCase())}[${e}=${quoteCSSAttributeValue(t.getAttribute(e))}]`,score:kIframeByAttributeScore});return t.getAttribute(n.testIdAttributeName)&&r.push({engine:"css",selector:`[${n.testIdAttributeName}=${quoteCSSAttributeValue(t.getAttribute(n.testIdAttributeName))}]`,score:kTestIdScore}),penalizeScoreForLength([r]),r}if(t.getAttribute(n.testIdAttributeName)&&r.push({engine:"internal:testid",selector:`[${n.testIdAttributeName}=${escapeForAttributeSelector(t.getAttribute(n.testIdAttributeName),!0)}]`,score:kTestIdScore}),"INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){const e=t;if(e.placeholder){r.push({engine:"internal:attr",selector:`[placeholder=${escapeForAttributeSelector(e.placeholder,!0)}]`,score:kPlaceholderScoreExact});for(const t of suitableTextAlternatives(e.placeholder))r.push({engine:"internal:attr",selector:`[placeholder=${escapeForAttributeSelector(t.text,!1)}]`,score:kPlaceholderScore-t.scoreBouns})}}const o=getElementLabels(e._evaluator._cacheText,t);for(const e of o){const t=e.normalized;r.push({engine:"internal:label",selector:escapeForTextSelector(t,!0),score:kLabelScoreExact});for(const e of suitableTextAlternatives(t))r.push({engine:"internal:label",selector:escapeForTextSelector(e.text,!1),score:kLabelScore-e.scoreBouns})}const i=getAriaRole(t);return i&&!["none","presentation"].includes(i)&&r.push({engine:"internal:role",selector:i,score:kRoleWithoutNameScore}),t.getAttribute("name")&&["BUTTON","FORM","FIELDSET","FRAME","IFRAME","INPUT","KEYGEN","OBJECT","OUTPUT","SELECT","TEXTAREA","MAP","META","PARAM"].includes(t.nodeName)&&r.push({engine:"css",selector:`${cssEscape(t.nodeName.toLowerCase())}[name=${quoteCSSAttributeValue(t.getAttribute("name"))}]`,score:kCSSInputTypeNameScore}),["INPUT","TEXTAREA"].includes(t.nodeName)&&"hidden"!==t.getAttribute("type")&&t.getAttribute("type")&&r.push({engine:"css",selector:`${cssEscape(t.nodeName.toLowerCase())}[type=${quoteCSSAttributeValue(t.getAttribute("type"))}]`,score:kCSSInputTypeNameScore}),["INPUT","TEXTAREA","SELECT"].includes(t.nodeName)&&"hidden"!==t.getAttribute("type")&&r.push({engine:"css",selector:cssEscape(t.nodeName.toLowerCase()),score:kCSSInputTypeNameScore+1}),penalizeScoreForLength([r]),r}function buildTextCandidates(e,t,n){if("SELECT"===t.nodeName)return[];const r=[],o=t.getAttribute("title");if(o){r.push([{engine:"internal:attr",selector:`[title=${escapeForAttributeSelector(o,!0)}]`,score:kTitleScoreExact}]);for(const e of suitableTextAlternatives(o))r.push([{engine:"internal:attr",selector:`[title=${escapeForAttributeSelector(e.text,!1)}]`,score:kTitleScore-e.scoreBouns}])}const i=t.getAttribute("alt");if(i&&["APPLET","AREA","IMG","INPUT"].includes(t.nodeName)){r.push([{engine:"internal:attr",selector:`[alt=${escapeForAttributeSelector(i,!0)}]`,score:kAltTextScoreExact}]);for(const e of suitableTextAlternatives(i))r.push([{engine:"internal:attr",selector:`[alt=${escapeForAttributeSelector(e.text,!1)}]`,score:kAltTextScore-e.scoreBouns}])}const s=elementText(e._evaluator._cacheText,t).normalized;if(s){const e=suitableTextAlternatives(s);if(n){s.length<=80&&r.push([{engine:"internal:text",selector:escapeForTextSelector(s,!0),score:kTextScoreExact}]);for(const t of e)r.push([{engine:"internal:text",selector:escapeForTextSelector(t.text,!1),score:kTextScore-t.scoreBouns}])}const o={engine:"css",selector:cssEscape(t.nodeName.toLowerCase()),score:kCSSTagNameScore};for(const t of e)r.push([o,{engine:"internal:has-text",selector:escapeForTextSelector(t.text,!1),score:kTextScore-t.scoreBouns}]);if(s.length<=80){const e=new RegExp("^"+escapeRegExp(s)+"$");r.push([o,{engine:"internal:has-text",selector:escapeForTextSelector(e,!1),score:kTextScoreRegex}])}}const a=getAriaRole(t);if(a&&!["none","presentation"].includes(a)){const e=getElementAccessibleName(t,!1);if(e){r.push([{engine:"internal:role",selector:`${a}[name=${escapeForAttributeSelector(e,!0)}]`,score:kRoleWithNameScoreExact}]);for(const t of suitableTextAlternatives(e))r.push([{engine:"internal:role",selector:`${a}[name=${escapeForAttributeSelector(t.text,!1)}]`,score:kRoleWithNameScore-t.scoreBouns}])}}return penalizeScoreForLength(r),r}function makeSelectorForId(e){return/^[a-zA-Z][a-zA-Z0-9\-\_]+$/.test(e)?"#"+e:`[id="${cssEscape(e)}"]`}function hasCSSIdToken(e){return e.some(e=>"css"===e.engine&&(e.selector.startsWith("#")||e.selector.startsWith('[id="')))}function cssFallback(e,t,n){var r;const o=null!=(r=n.root)?r:t.ownerDocument,i=[];function s(n){const r=i.slice();n&&r.unshift(n);const s=r.join(" > "),a=e.parseSelector(s);return e.querySelector(a,o,!1)===t?s:void 0}function a(n){const r={engine:"css",selector:n,score:kCSSFallbackScore},i=e.parseSelector(n),s=e.querySelectorAll(i,o);return 1===s.length?[r]:[r,{engine:"nth",selector:String(s.indexOf(t)),score:kNthScore}]}for(let e=t;e&&e!==o;e=parentElementOrShadowHost(e)){const t=e.nodeName.toLowerCase();let r="";if(e.id&&!n.noCSSId){const t=makeSelectorForId(e.id),n=s(t);if(n)return a(n);r=t}const o=e.parentNode,l=[...e.classList];for(let e=0;e<l.length;++e){const t="."+cssEscape(l.slice(0,e+1).join(".")),n=s(t);if(n)return a(n);if(!r&&o){1===o.querySelectorAll(t).length&&(r=t)}}if(o){const n=[...o.children],i=0===n.filter(e=>e.nodeName.toLowerCase()===t).indexOf(e)?cssEscape(t):`${cssEscape(t)}:nth-child(${1+n.indexOf(e)})`,l=s(i);if(l)return a(l);r||(r=i)}else r||(r=cssEscape(t));i.unshift(r)}return a(s())}function penalizeScoreForLength(e){for(const t of e)for(const e of t)e.score>kBeginPenalizedScore&&e.score<kEndPenalizedScore&&(e.score+=Math.min(kTextScoreRange,e.selector.length/10|0))}function joinTokens(e){const t=[];let n="";for(const{engine:r,selector:o}of e)t.length&&("css"!==n||"css"!==r||o.startsWith(":nth-match("))&&t.push(">>"),n=r,"css"===r?t.push(o):t.push(`${r}=${o}`);return t.join(" ")}function combineScores(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n].score*(e.length-n);return t}function chooseFirstSelector(e,t,n,r,o){const i=r.map(e=>({tokens:e,score:combineScores(e)}));i.sort((e,t)=>e.score-t.score);let s=null;for(const{tokens:r}of i){const i=e.parseSelector(joinTokens(r)),a=e.querySelectorAll(i,t);if(a[0]===n&&1===a.length)return r;const l=a.indexOf(n);if(!o||s||-1===l||a.length>5)continue;const c={engine:"nth",selector:String(l),score:kNthScore};s=[...r,c]}return s}function isGuidLike(e){let t,n=0;for(let r=0;r<e.length;++r){const o=e[r];let i;"-"!==o&&"_"!==o&&("lower"!==(i=o>="a"&&o<="z"?"lower":o>="A"&&o<="Z"?"upper":o>="0"&&o<="9"?"digit":"other")||"upper"!==t?(t&&t!==i&&++n,t=i):t=i)}return n>=e.length/4}function trimWordBoundary(e,t){if(e.length<=t)return e;const n=(e=e.substring(0,t)).match(/^(.*)\b(.+?)$/);return n?n[1].trimEnd():""}function suitableTextAlternatives(e){let t=[];{const n=e.match(/^([\d.,]+)[^.,\w]/),r=n?n[1].length:0;if(r){const n=trimWordBoundary(e.substring(r).trimStart(),80);t.push({text:n,scoreBouns:n.length<=30?2:1})}}{const n=e.match(/[^.,\w]([\d.,]+)$/),r=n?n[1].length:0;if(r){const n=trimWordBoundary(e.substring(0,e.length-r).trimEnd(),80);t.push({text:n,scoreBouns:n.length<=30?2:1})}}return e.length<=30?t.push({text:e,scoreBouns:0}):(t.push({text:trimWordBoundary(e,80),scoreBouns:0}),t.push({text:trimWordBoundary(e,30),scoreBouns:1})),(t=t.filter(e=>e.text)).length||t.push({text:e.substring(0,80),scoreBouns:0}),t}function asLocator(e,t,n=!1){return asLocators(e,t,n)[0]}function asLocators(e,t,n=!1,r=20,o){try{return innerAsLocators(new generators[e](o),parseSelector(t),n,r)}catch(e){return[t]}}function innerAsLocators(e,t,n=!1,r=20){const o=[...t.parts],i=[];let s=n?"frame-locator":"page";for(let t=0;t<o.length;t++){const n=o[t],a=s;if(s="locator","nth"===n.name){"0"===n.body?i.push([e.generateLocator(a,"first",""),e.generateLocator(a,"nth","0")]):"-1"===n.body?i.push([e.generateLocator(a,"last",""),e.generateLocator(a,"nth","-1")]):i.push([e.generateLocator(a,"nth",n.body)]);continue}if("internal:text"===n.name){const{exact:t,text:r}=detectExact(n.body);i.push([e.generateLocator(a,"text",r,{exact:t})]);continue}if("internal:has-text"===n.name){const{exact:t,text:r}=detectExact(n.body);if(!t){i.push([e.generateLocator(a,"has-text",r,{exact:t})]);continue}}if("internal:has-not-text"===n.name){const{exact:t,text:r}=detectExact(n.body);if(!t){i.push([e.generateLocator(a,"has-not-text",r,{exact:t})]);continue}}if("internal:has"===n.name){const t=innerAsLocators(e,n.body.parsed,!1,r);i.push(t.map(t=>e.generateLocator(a,"has",t)));continue}if("internal:has-not"===n.name){const t=innerAsLocators(e,n.body.parsed,!1,r);i.push(t.map(t=>e.generateLocator(a,"hasNot",t)));continue}if("internal:and"===n.name){const t=innerAsLocators(e,n.body.parsed,!1,r);i.push(t.map(t=>e.generateLocator(a,"and",t)));continue}if("internal:or"===n.name){const t=innerAsLocators(e,n.body.parsed,!1,r);i.push(t.map(t=>e.generateLocator(a,"or",t)));continue}if("internal:chain"===n.name){const t=innerAsLocators(e,n.body.parsed,!1,r);i.push(t.map(t=>e.generateLocator(a,"chain",t)));continue}if("internal:label"===n.name){const{exact:t,text:r}=detectExact(n.body);i.push([e.generateLocator(a,"label",r,{exact:t})]);continue}if("internal:role"===n.name){const t=parseAttributeSelector(n.body,!0),r={attrs:[]};for(const e of t.attributes)"name"===e.name?(r.exact=e.caseSensitive,r.name=e.value):("level"===e.name&&"string"==typeof e.value&&(e.value=+e.value),r.attrs.push({name:"include-hidden"===e.name?"includeHidden":e.name,value:e.value}));i.push([e.generateLocator(a,"role",t.name,r)]);continue}if("internal:testid"===n.name){const t=parseAttributeSelector(n.body,!0),{value:r}=t.attributes[0];i.push([e.generateLocator(a,"test-id",r)]);continue}if("internal:attr"===n.name){const t=parseAttributeSelector(n.body,!0),{name:r,value:o,caseSensitive:s}=t.attributes[0],l=o,c=!!s;if("placeholder"===r){i.push([e.generateLocator(a,"placeholder",l,{exact:c})]);continue}if("alt"===r){i.push([e.generateLocator(a,"alt",l,{exact:c})]);continue}if("title"===r){i.push([e.generateLocator(a,"title",l,{exact:c})]);continue}}if("internal:control"===n.name&&"enter-frame"===n.body){i.push([e.generateLocator(a,"frame","")]),s="frame-locator";continue}let l="default";const c=o[t+1],u=stringifySelector({parts:[n]}),h=e.generateLocator(a,l,u);if("default"===l&&c&&["internal:has-text","internal:has-not-text"].includes(c.name)){const{exact:n,text:r}=detectExact(c.body);if(!n){const o=e.generateLocator("locator","internal:has-text"===c.name?"has-text":"has-not-text",r,{exact:n}),s={};"internal:has-text"===c.name?s.hasText=r:s.hasNotText=r;const l=e.generateLocator(a,"default",u,s);i.push([e.chainLocators([h,o]),l]),t++;continue}}let d;if(["xpath","css"].includes(n.name)){const t=stringifySelector({parts:[n]},!0);d=e.generateLocator(a,l,t)}i.push([h,d].filter(Boolean))}return combineTokens(e,i,r)}function combineTokens(e,t,n){const r=t.map(()=>""),o=[],i=s=>{if(s===t.length)return o.push(e.chainLocators(r)),r.length<n;for(const e of t[s])if(r[s]=e,!i(s+1))return!1;return!0};return i(0),o}function detectExact(e){let t=!1;const n=e.match(/^\/(.*)\/([igm]*)$/);return n?{text:new RegExp(n[1],n[2])}:(e.endsWith('"')?(e=JSON.parse(e),t=!0):e.endsWith('"s')?(e=JSON.parse(e.substring(0,e.length-1)),t=!0):e.endsWith('"i')&&(e=JSON.parse(e.substring(0,e.length-1)),t=!1),{exact:t,text:e})}var JavaScriptLocatorFactory=class{constructor(e){this.preferredQuote=e}generateLocator(e,t,n,r={}){switch(t){case"default":return void 0!==r.hasText?`locator(${this.quote(n)}, { hasText: ${this.toHasText(r.hasText)} })`:void 0!==r.hasNotText?`locator(${this.quote(n)}, { hasNotText: ${this.toHasText(r.hasNotText)} })`:`locator(${this.quote(n)})`;case"frame":return"contentFrame()";case"nth":return`nth(${n})`;case"first":return"first()";case"last":return"last()";case"role":const e=[];isRegExp(r.name)?e.push(`name: ${this.regexToSourceString(r.name)}`):"string"==typeof r.name&&(e.push(`name: ${this.quote(r.name)}`),r.exact&&e.push("exact: true"));for(const{name:t,value:n}of r.attrs)e.push(`${t}: ${"string"==typeof n?this.quote(n):n}`);const o=e.length?`, { ${e.join(", ")} }`:"";return`getByRole(${this.quote(n)}${o})`;case"has-text":return`filter({ hasText: ${this.toHasText(n)} })`;case"has-not-text":return`filter({ hasNotText: ${this.toHasText(n)} })`;case"has":return`filter({ has: ${n} })`;case"hasNot":return`filter({ hasNot: ${n} })`;case"and":return`and(${n})`;case"or":return`or(${n})`;case"chain":return`locator(${n})`;case"test-id":return`getByTestId(${this.toTestIdValue(n)})`;case"text":return this.toCallWithExact("getByText",n,!!r.exact);case"alt":return this.toCallWithExact("getByAltText",n,!!r.exact);case"placeholder":return this.toCallWithExact("getByPlaceholder",n,!!r.exact);case"label":return this.toCallWithExact("getByLabel",n,!!r.exact);case"title":return this.toCallWithExact("getByTitle",n,!!r.exact);default:throw new Error("Unknown selector kind "+t)}}chainLocators(e){return e.join(".")}regexToSourceString(e){return normalizeEscapedRegexQuotes(String(e))}toCallWithExact(e,t,n){return isRegExp(t)?`${e}(${this.regexToSourceString(t)})`:n?`${e}(${this.quote(t)}, { exact: true })`:`${e}(${this.quote(t)})`}toHasText(e){return isRegExp(e)?this.regexToSourceString(e):this.quote(e)}toTestIdValue(e){return isRegExp(e)?this.regexToSourceString(e):this.quote(e)}quote(e){var t;return escapeWithQuotes(e,null!=(t=this.preferredQuote)?t:"'")}},PythonLocatorFactory=class{generateLocator(e,t,n,r={}){switch(t){case"default":return void 0!==r.hasText?`locator(${this.quote(n)}, has_text=${this.toHasText(r.hasText)})`:void 0!==r.hasNotText?`locator(${this.quote(n)}, has_not_text=${this.toHasText(r.hasNotText)})`:`locator(${this.quote(n)})`;case"frame":return"content_frame";case"nth":return`nth(${n})`;case"first":return"first";case"last":return"last";case"role":const e=[];isRegExp(r.name)?e.push(`name=${this.regexToString(r.name)}`):"string"==typeof r.name&&(e.push(`name=${this.quote(r.name)}`),r.exact&&e.push("exact=True"));for(const{name:t,value:n}of r.attrs){let r="string"==typeof n?this.quote(n):n;"boolean"==typeof n&&(r=n?"True":"False"),e.push(`${toSnakeCase(t)}=${r}`)}const o=e.length?`, ${e.join(", ")}`:"";return`get_by_role(${this.quote(n)}${o})`;case"has-text":return`filter(has_text=${this.toHasText(n)})`;case"has-not-text":return`filter(has_not_text=${this.toHasText(n)})`;case"has":return`filter(has=${n})`;case"hasNot":return`filter(has_not=${n})`;case"and":return`and_(${n})`;case"or":return`or_(${n})`;case"chain":return`locator(${n})`;case"test-id":return`get_by_test_id(${this.toTestIdValue(n)})`;case"text":return this.toCallWithExact("get_by_text",n,!!r.exact);case"alt":return this.toCallWithExact("get_by_alt_text",n,!!r.exact);case"placeholder":return this.toCallWithExact("get_by_placeholder",n,!!r.exact);case"label":return this.toCallWithExact("get_by_label",n,!!r.exact);case"title":return this.toCallWithExact("get_by_title",n,!!r.exact);default:throw new Error("Unknown selector kind "+t)}}chainLocators(e){return e.join(".")}regexToString(e){const t=e.flags.includes("i")?", re.IGNORECASE":"";return`re.compile(r"${normalizeEscapedRegexQuotes(e.source).replace(/\\\//,"/").replace(/"/g,'\\"')}"${t})`}toCallWithExact(e,t,n){return isRegExp(t)?`${e}(${this.regexToString(t)})`:n?`${e}(${this.quote(t)}, exact=True)`:`${e}(${this.quote(t)})`}toHasText(e){return isRegExp(e)?this.regexToString(e):`${this.quote(e)}`}toTestIdValue(e){return isRegExp(e)?this.regexToString(e):this.quote(e)}quote(e){return escapeWithQuotes(e,'"')}},JavaLocatorFactory=class{generateLocator(e,t,n,r={}){let o;switch(e){case"page":o="Page";break;case"frame-locator":o="FrameLocator";break;case"locator":o="Locator"}switch(t){case"default":return void 0!==r.hasText?`locator(${this.quote(n)}, new ${o}.LocatorOptions().setHasText(${this.toHasText(r.hasText)}))`:void 0!==r.hasNotText?`locator(${this.quote(n)}, new ${o}.LocatorOptions().setHasNotText(${this.toHasText(r.hasNotText)}))`:`locator(${this.quote(n)})`;case"frame":return"contentFrame()";case"nth":return`nth(${n})`;case"first":return"first()";case"last":return"last()";case"role":const e=[];isRegExp(r.name)?e.push(`.setName(${this.regexToString(r.name)})`):"string"==typeof r.name&&(e.push(`.setName(${this.quote(r.name)})`),r.exact&&e.push(".setExact(true)"));for(const{name:t,value:n}of r.attrs)e.push(`.set${toTitleCase(t)}(${"string"==typeof n?this.quote(n):n})`);const i=e.length?`, new ${o}.GetByRoleOptions()${e.join("")}`:"";return`getByRole(AriaRole.${toSnakeCase(n).toUpperCase()}${i})`;case"has-text":return`filter(new ${o}.FilterOptions().setHasText(${this.toHasText(n)}))`;case"has-not-text":return`filter(new ${o}.FilterOptions().setHasNotText(${this.toHasText(n)}))`;case"has":return`filter(new ${o}.FilterOptions().setHas(${n}))`;case"hasNot":return`filter(new ${o}.FilterOptions().setHasNot(${n}))`;case"and":return`and(${n})`;case"or":return`or(${n})`;case"chain":return`locator(${n})`;case"test-id":return`getByTestId(${this.toTestIdValue(n)})`;case"text":return this.toCallWithExact(o,"getByText",n,!!r.exact);case"alt":return this.toCallWithExact(o,"getByAltText",n,!!r.exact);case"placeholder":return this.toCallWithExact(o,"getByPlaceholder",n,!!r.exact);case"label":return this.toCallWithExact(o,"getByLabel",n,!!r.exact);case"title":return this.toCallWithExact(o,"getByTitle",n,!!r.exact);default:throw new Error("Unknown selector kind "+t)}}chainLocators(e){return e.join(".")}regexToString(e){const t=e.flags.includes("i")?", Pattern.CASE_INSENSITIVE":"";return`Pattern.compile(${this.quote(normalizeEscapedRegexQuotes(e.source))}${t})`}toCallWithExact(e,t,n,r){return isRegExp(n)?`${t}(${this.regexToString(n)})`:r?`${t}(${this.quote(n)}, new ${e}.${toTitleCase(t)}Options().setExact(true))`:`${t}(${this.quote(n)})`}toHasText(e){return isRegExp(e)?this.regexToString(e):this.quote(e)}toTestIdValue(e){return isRegExp(e)?this.regexToString(e):this.quote(e)}quote(e){return escapeWithQuotes(e,'"')}},CSharpLocatorFactory=class{generateLocator(e,t,n,r={}){switch(t){case"default":return void 0!==r.hasText?`Locator(${this.quote(n)}, new() { ${this.toHasText(r.hasText)} })`:void 0!==r.hasNotText?`Locator(${this.quote(n)}, new() { ${this.toHasNotText(r.hasNotText)} })`:`Locator(${this.quote(n)})`;case"frame":return"ContentFrame";case"nth":return`Nth(${n})`;case"first":return"First";case"last":return"Last";case"role":const e=[];isRegExp(r.name)?e.push(`NameRegex = ${this.regexToString(r.name)}`):"string"==typeof r.name&&(e.push(`Name = ${this.quote(r.name)}`),r.exact&&e.push("Exact = true"));for(const{name:t,value:n}of r.attrs)e.push(`${toTitleCase(t)} = ${"string"==typeof n?this.quote(n):n}`);const o=e.length?`, new() { ${e.join(", ")} }`:"";return`GetByRole(AriaRole.${toTitleCase(n)}${o})`;case"has-text":return`Filter(new() { ${this.toHasText(n)} })`;case"has-not-text":return`Filter(new() { ${this.toHasNotText(n)} })`;case"has":return`Filter(new() { Has = ${n} })`;case"hasNot":return`Filter(new() { HasNot = ${n} })`;case"and":return`And(${n})`;case"or":return`Or(${n})`;case"chain":return`Locator(${n})`;case"test-id":return`GetByTestId(${this.toTestIdValue(n)})`;case"text":return this.toCallWithExact("GetByText",n,!!r.exact);case"alt":return this.toCallWithExact("GetByAltText",n,!!r.exact);case"placeholder":return this.toCallWithExact("GetByPlaceholder",n,!!r.exact);case"label":return this.toCallWithExact("GetByLabel",n,!!r.exact);case"title":return this.toCallWithExact("GetByTitle",n,!!r.exact);default:throw new Error("Unknown selector kind "+t)}}chainLocators(e){return e.join(".")}regexToString(e){const t=e.flags.includes("i")?", RegexOptions.IgnoreCase":"";return`new Regex(${this.quote(normalizeEscapedRegexQuotes(e.source))}${t})`}toCallWithExact(e,t,n){return isRegExp(t)?`${e}(${this.regexToString(t)})`:n?`${e}(${this.quote(t)}, new() { Exact = true })`:`${e}(${this.quote(t)})`}toHasText(e){return isRegExp(e)?`HasTextRegex = ${this.regexToString(e)}`:`HasText = ${this.quote(e)}`}toTestIdValue(e){return isRegExp(e)?this.regexToString(e):this.quote(e)}toHasNotText(e){return isRegExp(e)?`HasNotTextRegex = ${this.regexToString(e)}`:`HasNotText = ${this.quote(e)}`}quote(e){return escapeWithQuotes(e,'"')}},JsonlLocatorFactory=class{generateLocator(e,t,n,r={}){return JSON.stringify({kind:t,body:n,options:r})}chainLocators(e){const t=e.map(e=>JSON.parse(e));for(let e=0;e<t.length-1;++e)t[e].next=t[e+1];return JSON.stringify(t[0])}},generators={javascript:JavaScriptLocatorFactory,python:PythonLocatorFactory,java:JavaLocatorFactory,csharp:CSharpLocatorFactory,jsonl:JsonlLocatorFactory};function isRegExp(e){return e instanceof RegExp}var lastDom,highlight_default=":host{font-size:13px;font-family:system-ui,Ubuntu,Droid Sans,sans-serif;color:#333}svg{position:absolute;height:0}x-pw-tooltip{backdrop-filter:blur(5px);background-color:#fff;border-radius:6px;box-shadow:0 .5rem 1.2rem #0000004d;display:none;font-size:12.8px;font-weight:400;left:0;line-height:1.5;max-width:600px;position:absolute;top:0;padding:0;flex-direction:column;overflow:hidden}x-pw-tooltip-line{display:flex;max-width:600px;padding:6px;user-select:none;cursor:pointer}x-pw-tooltip-line.selectable:hover{background-color:#f2f2f2;overflow:hidden}x-pw-tooltip-footer{display:flex;max-width:600px;padding:6px;user-select:none;color:#777}x-pw-dialog{background-color:#fff;pointer-events:auto;border-radius:6px;box-shadow:0 .5rem 1.2rem #0000004d;display:flex;flex-direction:column;position:absolute;width:400px;height:150px;z-index:10;font-size:13px}x-pw-dialog-body{display:flex;flex-direction:column;flex:auto}x-pw-dialog-body label{margin:5px 8px;display:flex;flex-direction:row;align-items:center}x-pw-highlight{position:absolute;top:0;left:0;width:0;height:0}x-pw-action-point{position:absolute;width:20px;height:20px;background:red;border-radius:10px;margin:-10px 0 0 -10px;z-index:2}x-pw-separator{height:1px;margin:6px 9px;background:rgb(148 148 148 / 90%)}x-pw-tool-gripper{height:28px;width:24px;margin:2px 0;cursor:grab}x-pw-tool-gripper:active{cursor:grabbing}x-pw-tool-gripper>x-div{width:16px;height:16px;margin:6px 4px;clip-path:url(#icon-gripper);background-color:#555}x-pw-tools-list>label{display:flex;align-items:center;margin:0 10px;user-select:none}x-pw-tools-list{display:flex;width:100%;border-bottom:1px solid #dddddd}x-pw-tool-item{pointer-events:auto;cursor:pointer;height:28px;width:28px;border-radius:3px}x-pw-tool-item:not(.disabled):hover{background-color:#dbdbdb}x-pw-tool-item.active{background-color:#8acae480}x-pw-tool-item.active:not(.disabled):hover{background-color:#8acae4c4}x-pw-tool-item>x-div{width:16px;height:16px;margin:6px;background-color:#3a3a3a}x-pw-tool-item.disabled>x-div{background-color:#61616180;cursor:default}x-pw-tool-item.record.active{background-color:transparent}x-pw-tool-item.record.active:hover{background-color:#dbdbdb}x-pw-tool-item.record.active>x-div{background-color:#a1260d}x-pw-tool-item.accept>x-div{background-color:#388a34}x-pw-tool-item.record>x-div{clip-path:url(#icon-circle-large-filled)}x-pw-tool-item.pick-locator>x-div{clip-path:url(#icon-inspect)}x-pw-tool-item.text>x-div{clip-path:url(#icon-whole-word)}x-pw-tool-item.visibility>x-div{clip-path:url(#icon-eye)}x-pw-tool-item.value>x-div{clip-path:url(#icon-symbol-constant)}x-pw-tool-item.accept>x-div{clip-path:url(#icon-check)}x-pw-tool-item.cancel>x-div{clip-path:url(#icon-close)}x-pw-tool-item.succeeded>x-div{clip-path:url(#icon-pass);background-color:#388a34!important}x-pw-overlay{position:absolute;top:0;max-width:min-content;z-index:2147483647;background:transparent;pointer-events:auto}x-pw-overlay x-pw-tools-list{background-color:#fffd;box-shadow:#0000001a 0 5px 5px;border-radius:3px;border-bottom:none}x-pw-overlay x-pw-tool-item{margin:2px}textarea.text-editor{font-family:system-ui,Ubuntu,Droid Sans,sans-serif;flex:auto;border:none;margin:6px 10px;color:#333;outline:1px solid transparent!important;resize:none;padding:0;font-size:13px}textarea.text-editor.does-not-match{outline:1px solid red!important}x-div{display:block}x-spacer{flex:auto}*{box-sizing:border-box}*[hidden]{display:none!important}x-locator-editor{flex:none;width:100%;height:60px;padding:4px;border-bottom:1px solid #dddddd;outline:1px solid transparent}x-locator-editor.does-not-match{outline:1px solid red}.CodeMirror{width:100%!important;height:100%!important}\n",Highlight=class{constructor(e){this._highlightEntries=[],this._highlightOptions={},this._language="javascript",this._injectedScript=e;const t=e.document;this._isUnderTest=e.isUnderTest,this._glassPaneElement=t.createElement("x-pw-glass"),this._glassPaneElement.style.position="fixed",this._glassPaneElement.style.top="0",this._glassPaneElement.style.right="0",this._glassPaneElement.style.bottom="0",this._glassPaneElement.style.left="0",this._glassPaneElement.style.zIndex="2147483646",this._glassPaneElement.style.pointerEvents="none",this._glassPaneElement.style.display="flex",this._glassPaneElement.style.backgroundColor="transparent";for(const e of["click","auxclick","dragstart","input","keydown","keyup","pointerdown","pointerup","mousedown","mouseup","mouseleave","focus","scroll"])this._glassPaneElement.addEventListener(e,e=>{e.stopPropagation(),e.stopImmediatePropagation(),"click"===e.type&&0===e.button&&this._highlightOptions.tooltipListItemSelected&&this._highlightOptions.tooltipListItemSelected(void 0)});if(this._actionPointElement=t.createElement("x-pw-action-point"),this._actionPointElement.setAttribute("hidden","true"),this._glassPaneShadow=this._glassPaneElement.attachShadow({mode:this._isUnderTest?"open":"closed"}),"function"==typeof this._glassPaneShadow.adoptedStyleSheets.push){const e=new this._injectedScript.window.CSSStyleSheet;e.replaceSync(highlight_default),this._glassPaneShadow.adoptedStyleSheets.push(e)}else{const e=this._injectedScript.document.createElement("style");e.textContent=highlight_default,this._glassPaneShadow.appendChild(e)}this._glassPaneShadow.appendChild(this._actionPointElement)}install(){this._injectedScript.document.documentElement.contains(this._glassPaneElement)||this._injectedScript.document.documentElement.appendChild(this._glassPaneElement)}setLanguage(e){this._language=e}runHighlightOnRaf(e){this._rafRequest&&cancelAnimationFrame(this._rafRequest),this.updateHighlight(this._injectedScript.querySelectorAll(e,this._injectedScript.document.documentElement),{tooltipText:asLocator(this._language,stringifySelector(e))}),this._rafRequest=this._injectedScript.builtinRequestAnimationFrame(()=>this.runHighlightOnRaf(e))}uninstall(){this._rafRequest&&cancelAnimationFrame(this._rafRequest),this._glassPaneElement.remove()}showActionPoint(e,t){this._actionPointElement.style.top=t+"px",this._actionPointElement.style.left=e+"px",this._actionPointElement.hidden=!1}hideActionPoint(){this._actionPointElement.hidden=!0}clearHighlight(){var e,t;for(const n of this._highlightEntries)null==(e=n.highlightElement)||e.remove(),null==(t=n.tooltipElement)||t.remove();this._highlightEntries=[],this._highlightOptions={},this._glassPaneElement.style.pointerEvents="none"}updateHighlight(e,t){this._innerUpdateHighlight(e,t)}maskElements(e,t){this._innerUpdateHighlight(e,{color:t})}_innerUpdateHighlight(e,t){let n=t.color;if(n||(n=e.length>1?"#f6b26b7f":"#6fa8dc7f"),!this._highlightIsUpToDate(e,t)){this.clearHighlight(),this._highlightOptions=t,this._glassPaneElement.style.pointerEvents=t.tooltipListItemSelected?"initial":"none";for(let n=0;n<e.length;++n){const r=this._createHighlightElement();let o;if(this._glassPaneShadow.appendChild(r),t.tooltipList||t.tooltipText||t.tooltipFooter){o=this._injectedScript.document.createElement("x-pw-tooltip"),this._glassPaneShadow.appendChild(o),o.style.top="0",o.style.left="0",o.style.display="flex";let r=[];if(t.tooltipList)r=t.tooltipList;else if(t.tooltipText){const o=e.length>1?` [${n+1} of ${e.length}]`:"";r=[t.tooltipText+o]}for(let e=0;e<r.length;e++){const n=this._injectedScript.document.createElement("x-pw-tooltip-line");n.textContent=r[e],o.appendChild(n),t.tooltipListItemSelected&&(n.classList.add("selectable"),n.addEventListener("click",()=>{var n;return null==(n=t.tooltipListItemSelected)?void 0:n.call(t,e)}))}if(t.tooltipFooter){const e=this._injectedScript.document.createElement("x-pw-tooltip-footer");e.textContent=t.tooltipFooter,o.appendChild(e)}}this._highlightEntries.push({targetElement:e[n],tooltipElement:o,highlightElement:r})}for(const e of this._highlightEntries){if(e.box=e.targetElement.getBoundingClientRect(),!e.tooltipElement)continue;const{anchorLeft:t,anchorTop:n}=this.tooltipPosition(e.box,e.tooltipElement);e.tooltipTop=n,e.tooltipLeft=t}for(const e of this._highlightEntries){e.tooltipElement&&(e.tooltipElement.style.top=e.tooltipTop+"px",e.tooltipElement.style.left=e.tooltipLeft+"px");const t=e.box;e.highlightElement.style.backgroundColor=n,e.highlightElement.style.left=t.x+"px",e.highlightElement.style.top=t.y+"px",e.highlightElement.style.width=t.width+"px",e.highlightElement.style.height=t.height+"px",e.highlightElement.style.display="block",this._isUnderTest&&console.error("Highlight box for test: "+JSON.stringify({x:t.x,y:t.y,width:t.width,height:t.height}))}}}firstBox(){var e;return null==(e=this._highlightEntries[0])?void 0:e.box}tooltipPosition(e,t){const n=t.offsetWidth,r=t.offsetHeight,o=this._glassPaneElement.offsetWidth,i=this._glassPaneElement.offsetHeight;let s=e.left;s+n>o-5&&(s=o-n-5);let a=e.bottom+5;return a+r>i-5&&(a=e.top>r+5?e.top-r-5:i-5-r),{anchorLeft:s,anchorTop:a}}_highlightIsUpToDate(e,t){var n,r;if(t.tooltipText!==this._highlightOptions.tooltipText)return!1;if(t.tooltipListItemSelected!==this._highlightOptions.tooltipListItemSelected)return!1;if(t.tooltipFooter!==this._highlightOptions.tooltipFooter)return!1;if((null==(n=t.tooltipList)?void 0:n.length)!==(null==(r=this._highlightOptions.tooltipList)?void 0:r.length))return!1;if(t.tooltipList&&this._highlightOptions.tooltipList)for(let e=0;e<t.tooltipList.length;e++)if(t.tooltipList[e]!==this._highlightOptions.tooltipList[e])return!1;if(e.length!==this._highlightEntries.length)return!1;for(let t=0;t<this._highlightEntries.length;++t){if(e[t]!==this._highlightEntries[t].targetElement)return!1;const n=this._highlightEntries[t].box;if(!n)return!1;const r=e[t].getBoundingClientRect();if(r.top!==n.top||r.right!==n.right||r.bottom!==n.bottom||r.left!==n.left)return!1}return!0}_createHighlightElement(){return this._injectedScript.document.createElement("x-pw-highlight")}appendChild(e){this._glassPaneShadow.appendChild(e)}},leafRoles=new Set(["button","checkbox","combobox","link","textbox"]);function generateSimpleDomNode(e,t){return generate(e,t).node}function selectorForSimpleDomNodeId(e,t){const n=null==lastDom?void 0:lastDom.elements.get(t);if(!n)throw new Error(`Internal error: element with id "${t}" not found`);return e.generateSelectorSimple(n)}function generate(e,t){const n=[],r=new Map;let o,i=0;const s=a=>{if(a.nodeType!==Node.TEXT_NODE){if(a.nodeType===Node.ELEMENT_NODE){const l=a;if("SCRIPT"===l.nodeName||"STYLE"===l.nodeName||"NOSCRIPT"===l.nodeName)return;if(e.utils.isElementVisible(l)){const s=e.utils.getAriaRole(l);if(s&&leafRoles.has(s)){let a;"INPUT"!==l.nodeName&&"TEXTAREA"!==l.nodeName||(a=l.value);const c=e.utils.getElementAccessibleName(l,!1),u=String(++i);if(r.set(u,l),n.push(renderTag(e,s,c,u,{value:a})),l===t){const t=renderTag(e,s,c,u);o={tag:t,id:u}}return}}for(let e=l.firstChild;e;e=e.nextSibling)s(e)}}else n.push(a.nodeValue)};e.utils.beginAriaCaches();try{s(e.document.body)}finally{e.utils.endAriaCaches()}const a={markup:(e=>e.replace(/[\s\n]+/g,e=>e.includes("\n")?"\n":" "))(n.join(" ")),elements:r};if(t&&!o)throw new Error("Target element is not in the simple DOM");return lastDom=a,{dom:a,node:o?{dom:a,...o}:void 0}}function renderTag(e,t,n,r,o){const i=e.utils.escapeHTML(n),s=e.utils.escapeHTMLAttribute((null==o?void 0:o.value)||"");switch(t){case"button":return`<button id="${r}">${i}</button>`;case"link":return`<a id="${r}">${i}</a>`;case"textbox":return`<input id="${r}" title="${i}" value="${s}"></input>`}return`<div role=${t} id="${r}">${i}</div>`}var InjectedScript=class{constructor(e,t,n,r,o,i,s){this.onGlobalListenersRemoved=new Set,this._testIdAttributeNameForStrictErrorAndConsoleCodegen="data-testid",this.utils={asLocator:asLocator,beginAriaCaches:beginAriaCaches,cacheNormalizedWhitespaces:cacheNormalizedWhitespaces,elementText:elementText,endAriaCaches:endAriaCaches,escapeHTML:escapeHTML,escapeHTMLAttribute:escapeHTMLAttribute,getAriaRole:getAriaRole,getElementAccessibleDescription:getElementAccessibleDescription,getElementAccessibleName:getElementAccessibleName,isElementVisible:isElementVisible,isInsideScope:isInsideScope,normalizeWhiteSpace:normalizeWhiteSpace,elementSafeTagName:elementSafeTagName,getExplicitAriaRole:getExplicitAriaRole,kImplicitRoleByTagName:kImplicitRoleByTagName,parseAttributeSelector:parseAttributeSelector},this.window=e,this.document=e.document,this.isUnderTest=t,this._sdkLanguage=n,this._testIdAttributeNameForStrictErrorAndConsoleCodegen=r,this._evaluator=new SelectorEvaluatorImpl(new Map),this._engines=new Map,this._engines.set("xpath",XPathEngine),this._engines.set("xpath:light",XPathEngine),this._engines.set("_react",ReactEngine),this._engines.set("_vue",VueEngine),this._engines.set("role",createRoleEngine(!1)),this._engines.set("text",this._createTextEngine(!0,!1)),this._engines.set("text:light",this._createTextEngine(!1,!1)),this._engines.set("id",this._createAttributeEngine("id",!0)),this._engines.set("id:light",this._createAttributeEngine("id",!1)),this._engines.set("data-testid",this._createAttributeEngine("data-testid",!0)),this._engines.set("data-testid:light",this._createAttributeEngine("data-testid",!1)),this._engines.set("data-test-id",this._createAttributeEngine("data-test-id",!0)),this._engines.set("data-test-id:light",this._createAttributeEngine("data-test-id",!1)),this._engines.set("data-test",this._createAttributeEngine("data-test",!0)),this._engines.set("data-test:light",this._createAttributeEngine("data-test",!1)),this._engines.set("css",this._createCSSEngine()),this._engines.set("nth",{queryAll:()=>[]}),this._engines.set("visible",this._createVisibleEngine()),this._engines.set("internal:control",this._createControlEngine()),this._engines.set("internal:has",this._createHasEngine()),this._engines.set("internal:has-not",this._createHasNotEngine()),this._engines.set("internal:and",{queryAll:()=>[]}),this._engines.set("internal:or",{queryAll:()=>[]}),this._engines.set("internal:chain",this._createInternalChainEngine()),this._engines.set("internal:label",this._createInternalLabelEngine()),this._engines.set("internal:text",this._createTextEngine(!0,!0)),this._engines.set("internal:has-text",this._createInternalHasTextEngine()),this._engines.set("internal:has-not-text",this._createInternalHasNotTextEngine()),this._engines.set("internal:attr",this._createNamedAttributeEngine()),this._engines.set("internal:testid",this._createNamedAttributeEngine()),this._engines.set("internal:role",createRoleEngine(!0));for(const{name:e,engine:t}of s)this._engines.set(e,t);this._stableRafCount=o,this._browserName=i,setBrowserName(i),t&&(this.window.__injectedScript=this)}builtinSetTimeout(e,t){var n;return(null==(n=this.window.__pwClock)?void 0:n.builtin)?this.window.__pwClock.builtin.setTimeout(e,t):this.window.setTimeout(e,t)}builtinClearTimeout(e){var t;return(null==(t=this.window.__pwClock)?void 0:t.builtin)?this.window.__pwClock.builtin.clearTimeout(e):this.window.clearTimeout(e)}builtinRequestAnimationFrame(e){var t;return(null==(t=this.window.__pwClock)?void 0:t.builtin)?this.window.__pwClock.builtin.requestAnimationFrame(e):this.window.requestAnimationFrame(e)}eval(e){return this.window.eval(e)}testIdAttributeNameForStrictErrorAndConsoleCodegen(){return this._testIdAttributeNameForStrictErrorAndConsoleCodegen}parseSelector(e){const t=parseSelector(e);return visitAllSelectorParts(t,t=>{if(!this._engines.has(t.name))throw this.createStacklessError(`Unknown engine "${t.name}" while parsing selector ${e}`)}),t}generateSelector(e,t){return generateSelector(this,e,t)}generateSelectorSimple(e,t){return generateSelector(this,e,{...t,testIdAttributeName:this._testIdAttributeNameForStrictErrorAndConsoleCodegen}).selector}querySelector(e,t,n){const r=this.querySelectorAll(e,t);if(n&&r.length>1)throw this.strictModeViolationError(e,r);return r[0]}_queryNth(e,t){const n=[...e];let r=+t.body;return-1===r&&(r=n.length-1),new Set(n.slice(r,r+1))}_queryLayoutSelector(e,t,n){const r=t.name,o=t.body,i=[],s=this.querySelectorAll(o.parsed,n);for(const t of e){const e=layoutSelectorScore(r,t,s,o.distance);void 0!==e&&i.push({element:t,score:e})}return i.sort((e,t)=>e.score-t.score),new Set(i.map(e=>e.element))}querySelectorAll(e,t){if(void 0!==e.capture){if(e.parts.some(e=>"nth"===e.name))throw this.createStacklessError("Can't query n-th element in a request with the capture.");const n={parts:e.parts.slice(0,e.capture+1)};if(e.capture<e.parts.length-1){const t={parts:e.parts.slice(e.capture+1)},r={name:"internal:has",body:{parsed:t},source:stringifySelector(t)};n.parts.push(r)}return this.querySelectorAll(n,t)}if(!t.querySelectorAll)throw this.createStacklessError("Node is not queryable.");if(void 0!==e.capture)throw this.createStacklessError("Internal error: there should not be a capture in the selector.");if(11===t.nodeType&&1===e.parts.length&&"css"===e.parts[0].name&&":scope"===e.parts[0].source)return[t];this._evaluator.begin();try{let n=new Set([t]);for(const r of e.parts)if("nth"===r.name)n=this._queryNth(n,r);else if("internal:and"===r.name){const e=this.querySelectorAll(r.body.parsed,t);n=new Set(e.filter(e=>n.has(e)))}else if("internal:or"===r.name){const e=this.querySelectorAll(r.body.parsed,t);n=new Set(sortInDOMOrder(new Set([...n,...e])))}else if(kLayoutSelectorNames.includes(r.name))n=this._queryLayoutSelector(n,r,t);else{const e=new Set;for(const t of n){const n=this._queryEngineAll(r,t);for(const t of n)e.add(t)}n=e}return[...n]}finally{this._evaluator.end()}}_queryEngineAll(e,t){const n=this._engines.get(e.name).queryAll(t,e.body);for(const e of n)if(!("nodeName"in e))throw this.createStacklessError(`Expected a Node but got ${Object.prototype.toString.call(e)}`);return n}_createAttributeEngine(e,t){return{queryAll:(n,r)=>this._evaluator.query({scope:n,pierceShadow:t},(t=>{return[{simples:[{selector:{css:`[${e}=${JSON.stringify(t)}]`,functions:[]},combinator:""}]}]})(r))}}_createCSSEngine(){return{queryAll:(e,t)=>this._evaluator.query({scope:e,pierceShadow:!0},t)}}_createTextEngine(e,t){return{queryAll:(n,r)=>{const{matcher:o,kind:i}=createTextMatcher(r,t),s=[];let a=null;const l=e=>{if("lax"===i&&a&&a.contains(e))return!1;const n=elementMatchesText(this._evaluator._cacheText,e,o);"none"===n&&(a=e),("self"===n||"selfAndChildren"===n&&"strict"===i&&!t)&&s.push(e)};n.nodeType===Node.ELEMENT_NODE&&l(n);const c=this._evaluator._queryCSS({scope:n,pierceShadow:e},"*");for(const e of c)l(e);return s}}}_createInternalHasTextEngine(){return{queryAll:(e,t)=>{if(1!==e.nodeType)return[];const n=e,r=elementText(this._evaluator._cacheText,n),{matcher:o}=createTextMatcher(t,!0);return o(r)?[n]:[]}}}_createInternalHasNotTextEngine(){return{queryAll:(e,t)=>{if(1!==e.nodeType)return[];const n=e,r=elementText(this._evaluator._cacheText,n),{matcher:o}=createTextMatcher(t,!0);return o(r)?[]:[n]}}}_createInternalLabelEngine(){return{queryAll:(e,t)=>{const{matcher:n}=createTextMatcher(t,!0);return this._evaluator._queryCSS({scope:e,pierceShadow:!0},"*").filter(e=>getElementLabels(this._evaluator._cacheText,e).some(e=>n(e)))}}}_createNamedAttributeEngine(){return{queryAll:(e,t)=>{const n=parseAttributeSelector(t,!0);if(n.name||1!==n.attributes.length)throw new Error("Malformed attribute selector: "+t);const{name:r,value:o,caseSensitive:i}=n.attributes[0],s=i?null:o.toLowerCase();let a;return a=o instanceof RegExp?e=>!!e.match(o):i?e=>e===o:e=>e.toLowerCase().includes(s),this._evaluator._queryCSS({scope:e,pierceShadow:!0},`[${r}]`).filter(e=>a(e.getAttribute(r)))}}}_createControlEngine(){return{queryAll(e,t){if("enter-frame"===t)return[];if("return-empty"===t)return[];if("component"===t)return 1!==e.nodeType?[]:[1===e.childElementCount?e.firstElementChild:e];throw new Error(`Internal error, unknown internal:control selector ${t}`)}}}_createHasEngine(){return{queryAll:(e,t)=>{if(1!==e.nodeType)return[];return this.querySelector(t.parsed,e,!1)?[e]:[]}}}_createHasNotEngine(){return{queryAll:(e,t)=>{if(1!==e.nodeType)return[];return this.querySelector(t.parsed,e,!1)?[]:[e]}}}_createVisibleEngine(){return{queryAll:(e,t)=>1!==e.nodeType?[]:isElementVisible(e)===Boolean(t)?[e]:[]}}_createInternalChainEngine(){return{queryAll:(e,t)=>this.querySelectorAll(t.parsed,e)}}extend(e,t){return new(this.window.eval(`\n    (() => {\n      const module = {};\n      ${e}\n      return module.exports.default();\n    })()`))(this,t)}async viewportRatio(e){return await new Promise(t=>{const n=new IntersectionObserver(e=>{t(e[0].intersectionRatio),n.disconnect()});n.observe(e),this.builtinRequestAnimationFrame(()=>{})})}getElementBorderWidth(e){if(e.nodeType!==Node.ELEMENT_NODE||!e.ownerDocument||!e.ownerDocument.defaultView)return{left:0,top:0};const t=e.ownerDocument.defaultView.getComputedStyle(e);return{left:parseInt(t.borderLeftWidth||"",10),top:parseInt(t.borderTopWidth||"",10)}}describeIFrameStyle(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return"error:notconnected";const t=e.ownerDocument.defaultView;for(let n=e;n;n=parentElementOrShadowHost(n))if("none"!==t.getComputedStyle(n).transform)return"transformed";const n=t.getComputedStyle(e);return{left:parseInt(n.borderLeftWidth||"",10)+parseInt(n.paddingLeft||"",10),top:parseInt(n.borderTopWidth||"",10)+parseInt(n.paddingTop||"",10)}}retarget(e,t){let n=e.nodeType===Node.ELEMENT_NODE?e:e.parentElement;return n?"none"===t?n:(n.matches("input, textarea, select")||n.isContentEditable||(n="button-link"===t?n.closest("button, [role=button], a, [role=link]")||n:n.closest("button, [role=button], [role=checkbox], [role=radio]")||n),"follow-label"===t&&(n.matches("a, input, textarea, button, select, [role=link], [role=button], [role=checkbox], [role=radio]")||n.isContentEditable||(n=n.closest("label")||n),"LABEL"===n.nodeName&&(n=n.control||n)),n):null}async checkElementStates(e,t){if(t.includes("stable")){const t=await this._checkElementIsStable(e);if(!1===t)return{missingState:"stable"};if("error:notconnected"===t)return t}for(const n of t)if("stable"!==n){const t=this.elementState(e,n);if(!1===t)return{missingState:n};if("error:notconnected"===t)return t}}async _checkElementIsStable(e){const t=Symbol("continuePolling");let n,r=0,o=0;const i=()=>{const i=this.retarget(e,"no-follow-label");if(!i)return"error:notconnected";const s=performance.now();if(this._stableRafCount>1&&s-o<15)return t;o=s;const a=i.getBoundingClientRect(),l={x:a.top,y:a.left,width:a.width,height:a.height};if(n){if(!(l.x===n.x&&l.y===n.y&&l.width===n.width&&l.height===n.height))return!1;if(++r>=this._stableRafCount)return!0}return n=l,t};let s,a;const l=new Promise((e,t)=>{s=e,a=t}),c=()=>{try{const e=i();e!==t?s(e):this.builtinRequestAnimationFrame(c)}catch(e){a(e)}};return this.builtinRequestAnimationFrame(c),l}elementState(e,t){const n=this.retarget(e,["stable","visible","hidden"].includes(t)?"none":"follow-label");if(!n||!n.isConnected)return"hidden"===t||"error:notconnected";if("visible"===t)return isElementVisible(n);if("hidden"===t)return!isElementVisible(n);const r=getAriaDisabled(n);if("disabled"===t)return r;if("enabled"===t)return!r;const o=!(["INPUT","TEXTAREA","SELECT"].includes(n.nodeName)&&n.hasAttribute("readonly"));if("editable"===t)return!r&&o;if("checked"===t||"unchecked"===t){const e="checked"===t,r=getChecked(n,!1);if("error"===r)throw this.createStacklessError("Not a checkbox or radio button");return e===r}throw this.createStacklessError(`Unexpected element state "${t}"`)}selectOptions(e,t){const n=this.retarget(e,"follow-label");if(!n)return"error:notconnected";if("select"!==n.nodeName.toLowerCase())throw this.createStacklessError("Element is not a <select> element");const r=n,o=[...r.options],i=[];let s=t.slice();for(let e=0;e<o.length;e++){const t=o[e],n=n=>{if(n instanceof Node)return t===n;let r=!0;return void 0!==n.valueOrLabel&&(r=r&&(n.valueOrLabel===t.value||n.valueOrLabel===t.label)),void 0!==n.value&&(r=r&&n.value===t.value),void 0!==n.label&&(r=r&&n.label===t.label),void 0!==n.index&&(r=r&&n.index===e),r};if(s.some(n)){if(i.push(t),!r.multiple){s=[];break}s=s.filter(e=>!n(e))}}return s.length?"error:optionsnotfound":(r.value=void 0,i.forEach(e=>e.selected=!0),r.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),r.dispatchEvent(new Event("change",{bubbles:!0})),i.map(e=>e.value))}fill(e,t){const n=this.retarget(e,"follow-label");if(!n)return"error:notconnected";if("input"===n.nodeName.toLowerCase()){const e=n,r=e.type.toLowerCase(),o=new Set(["color","date","time","datetime-local","month","range","week"]);if(!new Set(["","email","number","password","search","tel","text","url"]).has(r)&&!o.has(r))throw this.createStacklessError(`Input of type "${r}" cannot be filled`);if("number"===r&&(t=t.trim(),isNaN(Number(t))))throw this.createStacklessError("Cannot type text into input[type=number]");if(o.has(r)){if(t=t.trim(),e.focus(),e.value=t,e.value!==t)throw this.createStacklessError("Malformed value");return n.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),n.dispatchEvent(new Event("change",{bubbles:!0})),"done"}}else if("textarea"===n.nodeName.toLowerCase());else if(!n.isContentEditable)throw this.createStacklessError("Element is not an <input>, <textarea> or [contenteditable] element");return this.selectText(n),"needsinput"}selectText(e){const t=this.retarget(e,"follow-label");if(!t)return"error:notconnected";if("input"===t.nodeName.toLowerCase()){const e=t;return e.select(),e.focus(),"done"}if("textarea"===t.nodeName.toLowerCase()){const e=t;return e.selectionStart=0,e.selectionEnd=e.value.length,e.focus(),"done"}const n=t.ownerDocument.createRange();n.selectNodeContents(t);const r=t.ownerDocument.defaultView.getSelection();return r&&(r.removeAllRanges(),r.addRange(n)),t.focus(),"done"}_activelyFocused(e){const t=e.getRootNode().activeElement;return{activeElement:t,isFocused:t===e&&!!e.ownerDocument&&e.ownerDocument.hasFocus()}}focusNode(e,t){if(!e.isConnected)return"error:notconnected";if(e.nodeType!==Node.ELEMENT_NODE)throw this.createStacklessError("Node is not an element");const{activeElement:n,isFocused:r}=this._activelyFocused(e);if(e.isContentEditable&&!r&&n&&n.blur&&n.blur(),e.focus(),e.focus(),t&&!r&&"input"===e.nodeName.toLowerCase())try{e.setSelectionRange(0,0)}catch(e){}return"done"}blurNode(e){if(!e.isConnected)return"error:notconnected";if(e.nodeType!==Node.ELEMENT_NODE)throw this.createStacklessError("Node is not an element");return e.blur(),"done"}setInputFiles(e,t){if(e.nodeType!==Node.ELEMENT_NODE)return"Node is not of type HTMLElement";const n=e;if("INPUT"!==n.nodeName)return"Not an <input> element";const r=n;if("file"!==(r.getAttribute("type")||"").toLowerCase())return"Not an input[type=file] element";const o=t.map(e=>{const t=Uint8Array.from(atob(e.buffer),e=>e.charCodeAt(0));return new File([t],e.name,{type:e.mimeType,lastModified:e.lastModifiedMs})}),i=new DataTransfer;for(const e of o)i.items.add(e);r.files=i.files,r.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),r.dispatchEvent(new Event("change",{bubbles:!0}))}expectHitTarget(e,t){const n=[];let r,o=t;for(;o;){const e=enclosingShadowRootOrDocument(o);if(!e)break;if(n.push(e),9===e.nodeType)break;o=e.host}for(let t=n.length-1;t>=0;t--){const o=n[t],i=o.elementsFromPoint(e.x,e.y),s=o.elementFromPoint(e.x,e.y);if(s&&i[0]&&parentElementOrShadowHost(s)===i[0]){const e=this.window.getComputedStyle(s);"contents"===(null==e?void 0:e.display)&&i.unshift(s)}i[0]&&i[0].shadowRoot===o&&i[1]===s&&i.shift();const a=i[0];if(!a)break;if(r=a,t&&a!==n[t-1].host)break}const i=[];for(;r&&r!==t;)i.push(r),r=parentElementOrShadowHost(r);if(r===t)return"done";const s=this.previewNode(i[0]||this.document.documentElement);let a,l=t;for(;l;){const e=i.indexOf(l);if(-1!==e){e>1&&(a=this.previewNode(i[e-1]));break}l=parentElementOrShadowHost(l)}return a?{hitTargetDescription:`${s} from ${a} subtree`}:{hitTargetDescription:s}}setupHitTargetInterceptor(e,t,n,r){const o=this.retarget(e,"button-link");if(!o||!o.isConnected)return"error:notconnected";if(n){const e=this.expectHitTarget(n,o);if("done"!==e)return e.hitTargetDescription}if("drag"===t)return{stop:()=>"done"};const i={hover:kHoverHitTargetInterceptorEvents,tap:kTapHitTargetInterceptorEvents,mouse:kMouseHitTargetInterceptorEvents}[t];let s;const a=e=>{if(!i.has(e.type))return;if(!e.isTrusted)return;const t=this.window.TouchEvent&&e instanceof this.window.TouchEvent?e.touches[0]:e;void 0===s&&t&&(s=this.expectHitTarget({x:t.clientX,y:t.clientY},o)),(r||"done"!==s&&void 0!==s)&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())};return this._hitTargetInterceptor=a,{stop:()=>(this._hitTargetInterceptor===a&&(this._hitTargetInterceptor=void 0),s||"done")}}dispatchEvent(e,t,n){let r;switch(n={bubbles:!0,cancelable:!0,composed:!0,...n},eventType.get(t)){case"mouse":r=new MouseEvent(t,n);break;case"keyboard":r=new KeyboardEvent(t,n);break;case"touch":r=new TouchEvent(t,n);break;case"pointer":r=new PointerEvent(t,n);break;case"focus":r=new FocusEvent(t,n);break;case"drag":r=new DragEvent(t,n);break;case"wheel":r=new WheelEvent(t,n);break;case"deviceorientation":try{r=new DeviceOrientationEvent(t,n)}catch{const{bubbles:e,cancelable:o,alpha:i,beta:s,gamma:a,absolute:l}=n;(r=this.document.createEvent("DeviceOrientationEvent")).initDeviceOrientationEvent(t,e,o,i,s,a,l)}break;case"devicemotion":try{r=new DeviceMotionEvent(t,n)}catch{const{bubbles:e,cancelable:o,acceleration:i,accelerationIncludingGravity:s,rotationRate:a,interval:l}=n;(r=this.document.createEvent("DeviceMotionEvent")).initDeviceMotionEvent(t,e,o,i,s,a,l)}break;default:r=new Event(t,n)}e.dispatchEvent(r)}previewNode(e){if(e.nodeType===Node.TEXT_NODE)return oneLine(`#text=${e.nodeValue||""}`);if(e.nodeType!==Node.ELEMENT_NODE)return oneLine(`<${e.nodeName.toLowerCase()} />`);const t=e,n=[];for(let e=0;e<t.attributes.length;e++){const{name:r,value:o}=t.attributes[e];"style"!==r&&(!o&&booleanAttributes.has(r)?n.push(` ${r}`):n.push(` ${r}="${o}"`))}n.sort((e,t)=>e.length-t.length);const r=trimStringWithEllipsis(n.join(""),500);if(autoClosingTags.has(t.nodeName))return oneLine(`<${t.nodeName.toLowerCase()}${r}/>`);const o=t.childNodes;let i=!1;if(o.length<=5){i=!0;for(let e=0;e<o.length;e++)i=i&&o[e].nodeType===Node.TEXT_NODE}const s=i?t.textContent||"":o.length?"":"";return oneLine(`<${t.nodeName.toLowerCase()}${r}>${trimStringWithEllipsis(s,50)}</${t.nodeName.toLowerCase()}>`)}strictModeViolationError(e,t){const n=t.slice(0,10).map(e=>({preview:this.previewNode(e),selector:this.generateSelectorSimple(e)})),r=n.map((e,t)=>`\n    ${t+1}) ${e.preview} aka ${asLocator(this._sdkLanguage,e.selector)}`);return n.length<t.length&&r.push("\n    ..."),this.createStacklessError(`strict mode violation: ${asLocator(this._sdkLanguage,stringifySelector(e))} resolved to ${t.length} elements:${r.join("")}\n`)}createStacklessError(e){if("firefox"===this._browserName){const t=new Error("Error: "+e);return t.stack="",t}const t=new Error(e);return delete t.stack,t}createHighlight(){return new Highlight(this)}maskSelectors(e,t){this._highlight&&this.hideHighlight(),this._highlight=new Highlight(this),this._highlight.install();const n=[];for(const t of e)n.push(this.querySelectorAll(t,this.document.documentElement));this._highlight.maskElements(n.flat(),t)}highlight(e){this._highlight||(this._highlight=new Highlight(this),this._highlight.install()),this._highlight.runHighlightOnRaf(e)}hideHighlight(){this._highlight&&(this._highlight.uninstall(),delete this._highlight)}markTargetElements(e,t){const n=new CustomEvent("__playwright_target__",{bubbles:!0,cancelable:!0,detail:t,composed:!0});for(const t of e)t.dispatchEvent(n)}_setupGlobalListenersRemovalDetection(){const e="__playwright_global_listeners_check__";let t=!1;const n=()=>t=!0;this.window.addEventListener(e,n),new MutationObserver(r=>{if(r.some(e=>Array.from(e.addedNodes).includes(this.document.documentElement))&&(t=!1,this.window.dispatchEvent(new CustomEvent(e)),!t)){this.window.addEventListener(e,n);for(const e of this.onGlobalListenersRemoved)e()}}).observe(this.document,{childList:!0})}_setupHitTargetInterceptors(){const e=e=>{var t;return null==(t=this._hitTargetInterceptor)?void 0:t.call(this,e)},t=()=>{for(const t of kAllHitTargetInterceptorEvents)this.window.addEventListener(t,e,{capture:!0,passive:!1})};t(),this.onGlobalListenersRemoved.add(t)}async expect(e,t,n){return"to.have.count"===t.expression||t.expression.endsWith(".array")?this.expectArray(n,t):e?await this.expectSingleElement(e,t):t.isNot||"to.be.hidden"!==t.expression?t.isNot&&"to.be.visible"===t.expression?{matches:!1}:t.isNot||"to.be.detached"!==t.expression?t.isNot&&"to.be.attached"===t.expression?{matches:!1}:t.isNot&&"to.be.in.viewport"===t.expression?{matches:!1}:{matches:t.isNot,missingReceived:!0}:{matches:!0}:{matches:!0}}async expectSingleElement(e,t){var n,r;const o=t.expression;{let r;if("to.have.attribute"===o?r=e.hasAttribute(t.expressionArg):"to.be.checked"===o?r=this.elementState(e,"checked"):"to.be.unchecked"===o?r=this.elementState(e,"unchecked"):"to.be.disabled"===o?r=this.elementState(e,"disabled"):"to.be.editable"===o?r=this.elementState(e,"editable"):"to.be.readonly"===o?r=!this.elementState(e,"editable"):"to.be.empty"===o?r="INPUT"===e.nodeName||"TEXTAREA"===e.nodeName?!e.value:!(null==(n=e.textContent)?void 0:n.trim()):"to.be.enabled"===o?r=this.elementState(e,"enabled"):"to.be.focused"===o?r=this._activelyFocused(e).isFocused:"to.be.hidden"===o?r=this.elementState(e,"hidden"):"to.be.visible"===o?r=this.elementState(e,"visible"):"to.be.attached"===o?r=!0:"to.be.detached"===o&&(r=!1),void 0!==r){if("error:notcheckbox"===r)throw this.createStacklessError("Element is not a checkbox");if("error:notconnected"===r)throw this.createStacklessError("Element is not connected");return{received:r,matches:r}}}if("to.have.property"===o){let n=e;const r=t.expressionArg.split(".");for(let e=0;e<r.length-1;e++){if("object"!=typeof n||!(r[e]in n))return{received:void 0,matches:!1};n=n[r[e]]}const o=n[r[r.length-1]];return{received:o,matches:deepEquals(o,t.expectedValue)}}if("to.be.in.viewport"===o){const n=await this.viewportRatio(e);return{received:`viewport ratio ${n}`,matches:n>0&&n>(null!=(r=t.expectedNumber)?r:0)-1e-9}}if("to.have.values"===o){if("SELECT"!==(e=this.retarget(e,"follow-label")).nodeName||!e.multiple)throw this.createStacklessError("Not a select element with a multiple attribute");const n=[...e.selectedOptions].map(e=>e.value);return n.length!==t.expectedText.length?{received:n,matches:!1}:{received:n,matches:n.map((e,n)=>new ExpectedTextMatcher(t.expectedText[n]).matches(e)).every(Boolean)}}{let n;if("to.have.attribute.value"===o){const r=e.getAttribute(t.expressionArg);if(null===r)return{received:null,matches:!1};n=r}else if("to.have.class"===o)n=e.classList.toString();else if("to.have.css"===o)n=this.window.getComputedStyle(e).getPropertyValue(t.expressionArg);else if("to.have.id"===o)n=e.id;else if("to.have.text"===o)n=t.useInnerText?e.innerText:elementText(new Map,e).full;else if("to.have.accessible.name"===o)n=getElementAccessibleName(e,!1);else if("to.have.accessible.description"===o)n=getElementAccessibleDescription(e,!1);else if("to.have.role"===o)n=getAriaRole(e)||"";else if("to.have.title"===o)n=this.document.title;else if("to.have.url"===o)n=this.document.location.href;else if("to.have.value"===o){if("INPUT"!==(e=this.retarget(e,"follow-label")).nodeName&&"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName)throw this.createStacklessError("Not an input element");n=e.value}if(void 0!==n&&t.expectedText){return{received:n,matches:new ExpectedTextMatcher(t.expectedText[0]).matches(n)}}}throw this.createStacklessError("Unknown expect matcher: "+o)}expectArray(e,t){const n=t.expression;if("to.have.count"===n){const n=e.length;return{received:n,matches:n===t.expectedNumber}}let r;if("to.have.text.array"===n||"to.contain.text.array"===n?r=e.map(e=>t.useInnerText?e.innerText:elementText(new Map,e).full):"to.have.class.array"===n&&(r=e.map(e=>e.classList.toString())),r&&t.expectedText){const e="to.contain.text.array"!==n;if(!(r.length===t.expectedText.length||!e))return{received:r,matches:!1};const o=t.expectedText.map(e=>new ExpectedTextMatcher(e));let i=0,s=0;for(;i<o.length&&s<r.length;)o[i].matches(r[s])&&++i,++s;return{received:r,matches:i===o.length}}throw this.createStacklessError("Unknown expect matcher: "+n)}generateSimpleDomNode(e){const t=this.querySelector(this.parseSelector(e),this.document.documentElement,!0);if(t)return generateSimpleDomNode(this,t)}selectorForSimpleDomNodeId(e){return selectorForSimpleDomNodeId(this,e)}},autoClosingTags=new Set(["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","MENUITEM","META","PARAM","SOURCE","TRACK","WBR"]),booleanAttributes=new Set(["checked","selected","disabled","readonly","multiple"]);function oneLine(e){return e.replace(/\n/g,"").replace(/\t/g,"")}var eventType=new Map([["auxclick","mouse"],["click","mouse"],["dblclick","mouse"],["mousedown","mouse"],["mouseeenter","mouse"],["mouseleave","mouse"],["mousemove","mouse"],["mouseout","mouse"],["mouseover","mouse"],["mouseup","mouse"],["mouseleave","mouse"],["mousewheel","mouse"],["keydown","keyboard"],["keyup","keyboard"],["keypress","keyboard"],["textInput","keyboard"],["touchstart","touch"],["touchmove","touch"],["touchend","touch"],["touchcancel","touch"],["pointerover","pointer"],["pointerout","pointer"],["pointerenter","pointer"],["pointerleave","pointer"],["pointerdown","pointer"],["pointerup","pointer"],["pointermove","pointer"],["pointercancel","pointer"],["gotpointercapture","pointer"],["lostpointercapture","pointer"],["focus","focus"],["blur","focus"],["drag","drag"],["dragstart","drag"],["dragend","drag"],["dragover","drag"],["dragenter","drag"],["dragleave","drag"],["dragexit","drag"],["drop","drag"],["wheel","wheel"],["deviceorientation","deviceorientation"],["deviceorientationabsolute","deviceorientation"],["devicemotion","devicemotion"]]),kHoverHitTargetInterceptorEvents=new Set(["mousemove"]),kTapHitTargetInterceptorEvents=new Set(["pointerdown","pointerup","touchstart","touchend","touchcancel"]),kMouseHitTargetInterceptorEvents=new Set(["mousedown","mouseup","pointerdown","pointerup","click","auxclick","dblclick","contextmenu"]),kAllHitTargetInterceptorEvents=new Set([...kHoverHitTargetInterceptorEvents,...kTapHitTargetInterceptorEvents,...kMouseHitTargetInterceptorEvents]);function cssUnquote(e){if(!(e=e.substring(1,e.length-1)).includes("\\"))return e;const t=[];let n=0;for(;n<e.length;)"\\"===e[n]&&n+1<e.length&&n++,t.push(e[n++]);return t.join("")}function createTextMatcher(e,t){if("/"===e[0]&&e.lastIndexOf("/")>0){const t=e.lastIndexOf("/"),n=new RegExp(e.substring(1,t),e.substring(t+1));return{matcher:e=>n.test(e.full),kind:"regex"}}const n=t?JSON.parse.bind(JSON):cssUnquote;let r=!1;if(e.length>1&&'"'===e[0]&&'"'===e[e.length-1]?(e=n(e),r=!0):t&&e.length>1&&'"'===e[0]&&'"'===e[e.length-2]&&"i"===e[e.length-1]?(e=n(e.substring(0,e.length-1)),r=!1):t&&e.length>1&&'"'===e[0]&&'"'===e[e.length-2]&&"s"===e[e.length-1]?(e=n(e.substring(0,e.length-1)),r=!0):e.length>1&&"'"===e[0]&&"'"===e[e.length-1]&&(e=n(e),r=!0),e=normalizeWhiteSpace(e),r){if(t)return{kind:"strict",matcher:t=>t.normalized===e};return{matcher:t=>!e&&!t.immediate.length||t.immediate.some(t=>normalizeWhiteSpace(t)===e),kind:"strict"}}return e=e.toLowerCase(),{kind:"lax",matcher:t=>t.normalized.toLowerCase().includes(e)}}var ExpectedTextMatcher=class{constructor(e){if(this._normalizeWhiteSpace=e.normalizeWhiteSpace,this._ignoreCase=e.ignoreCase,this._string=e.matchSubstring?void 0:this.normalize(e.string),this._substring=e.matchSubstring?this.normalize(e.string):void 0,e.regexSource){const t=new Set((e.regexFlags||"").split(""));!1===e.ignoreCase&&t.delete("i"),!0===e.ignoreCase&&t.add("i"),this._regex=new RegExp(e.regexSource,[...t].join(""))}}matches(e){return this._regex||(e=this.normalize(e)),void 0!==this._string?e===this._string:void 0!==this._substring?e.includes(this._substring):!!this._regex&&!!this._regex.test(e)}normalize(e){return e?(this._normalizeWhiteSpace&&(e=normalizeWhiteSpace(e)),this._ignoreCase&&(e=e.toLocaleLowerCase()),e):e}};function deepEquals(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!deepEquals(e[n],t[n]))return!1;return!0}if(e instanceof RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let e=0;e<n.length;++e)if(!t.hasOwnProperty(n[e]))return!1;for(const r of n)if(!deepEquals(e[r],t[r]))return!1;return!0}return"number"==typeof e&&"number"==typeof t&&(isNaN(e)&&isNaN(t))}

},{}],57:[function(require,module,exports){
var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],58:[function(require,module,exports){
(function (setImmediate,clearImmediate){(function (){
var nextTick=require("process/browser.js").nextTick,apply=Function.prototype.apply,slice=Array.prototype.slice,immediateIds={},nextImmediateId=0;function Timeout(e,t){this._id=e,this._clearFn=t}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(e){e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},exports.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},exports._unrefActive=exports.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},exports.setImmediate="function"==typeof setImmediate?setImmediate:function(e){var t=nextImmediateId++,i=!(arguments.length<2)&&slice.call(arguments,1);return immediateIds[t]=!0,nextTick(function(){immediateIds[t]&&(i?e.apply(null,i):e.call(null),exports.clearImmediate(t))}),t},exports.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(e){delete immediateIds[e]};

}).call(this)}).call(this,require("timers").setImmediate,require("timers").clearImmediate)
},{"process/browser.js":57,"timers":58}],59:[function(require,module,exports){
"use strict";function encodeReserved(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function encodeUnreserved(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function encodeValue(e,n,r){return n="+"===e||"#"===e?encodeReserved(n):encodeUnreserved(n),r?encodeUnreserved(r)+"="+n:n}function isDefined(e){return null!=e}function isKeyOperator(e){return";"===e||"&"===e||"?"===e}function getValues(e,n,r,t){var o=e[r],s=[];if(isDefined(o)&&""!==o)if("string"==typeof o||"number"==typeof o||"boolean"==typeof o)o=o.toString(),t&&"*"!==t&&(o=o.substring(0,parseInt(t,10))),s.push(encodeValue(n,o,isKeyOperator(n)?r:null));else if("*"===t)Array.isArray(o)?o.filter(isDefined).forEach(function(e){s.push(encodeValue(n,e,isKeyOperator(n)?r:null))}):Object.keys(o).forEach(function(e){isDefined(o[e])&&s.push(encodeValue(n,o[e],e))});else{var u=[];Array.isArray(o)?o.filter(isDefined).forEach(function(e){u.push(encodeValue(n,e))}):Object.keys(o).forEach(function(e){isDefined(o[e])&&(u.push(encodeUnreserved(e)),u.push(encodeValue(n,o[e].toString())))}),isKeyOperator(n)?s.push(encodeUnreserved(r)+"="+u.join(",")):0!==u.length&&s.push(u.join(","))}else";"===n?isDefined(o)&&s.push(encodeUnreserved(r)):""!==o||"&"!==n&&"?"!==n?""===o&&s.push(""):s.push(encodeUnreserved(r)+"=");return s}function parseTemplate(e){var n=["+","#",".","/",";","?","&"];return{expand:function(r){return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(e,t,o){if(t){var s=null,u=[];if(-1!==n.indexOf(t.charAt(0))&&(s=t.charAt(0),t=t.substr(1)),t.split(/,/g).forEach(function(e){var n=/([^:\*]*)(?::(\d+)|(\*))?/.exec(e);u.push.apply(u,getValues(r,s,n[1],n[2]||n[3]))}),s&&"+"!==s){var i=",";return"?"===s?i="&":"#"!==s&&(i=s),(0!==u.length?s:"")+u.join(i)}return u.join(",")}return encodeReserved(o)})}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseTemplate=parseTemplate;

},{}],60:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"NIL",{enumerable:!0,get:function(){return _nil.default}}),Object.defineProperty(exports,"parse",{enumerable:!0,get:function(){return _parse.default}}),Object.defineProperty(exports,"stringify",{enumerable:!0,get:function(){return _stringify.default}}),Object.defineProperty(exports,"v1",{enumerable:!0,get:function(){return _v.default}}),Object.defineProperty(exports,"v3",{enumerable:!0,get:function(){return _v2.default}}),Object.defineProperty(exports,"v4",{enumerable:!0,get:function(){return _v3.default}}),Object.defineProperty(exports,"v5",{enumerable:!0,get:function(){return _v4.default}}),Object.defineProperty(exports,"validate",{enumerable:!0,get:function(){return _validate.default}}),Object.defineProperty(exports,"version",{enumerable:!0,get:function(){return _version.default}});var _v=_interopRequireDefault(require("./v1.js")),_v2=_interopRequireDefault(require("./v3.js")),_v3=_interopRequireDefault(require("./v4.js")),_v4=_interopRequireDefault(require("./v5.js")),_nil=_interopRequireDefault(require("./nil.js")),_version=_interopRequireDefault(require("./version.js")),_validate=_interopRequireDefault(require("./validate.js")),_stringify=_interopRequireDefault(require("./stringify.js")),_parse=_interopRequireDefault(require("./parse.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./nil.js":63,"./parse.js":64,"./stringify.js":68,"./v1.js":69,"./v3.js":70,"./v4.js":72,"./v5.js":73,"./validate.js":74,"./version.js":75}],61:[function(require,module,exports){
"use strict";function md5(d){if("string"==typeof d){const t=unescape(encodeURIComponent(d));d=new Uint8Array(t.length);for(let m=0;m<t.length;++m)d[m]=t.charCodeAt(m)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(d),8*d.length))}function md5ToHexEncodedArray(d){const t=[],m=32*d.length;for(let e=0;e<m;e+=8){const m=d[e>>5]>>>e%32&255,f=parseInt("0123456789abcdef".charAt(m>>>4&15)+"0123456789abcdef".charAt(15&m),16);t.push(f)}return t}function getOutputLength(d){return 14+(d+64>>>9<<4)+1}function wordsToMd5(d,t){d[t>>5]|=128<<t%32,d[getOutputLength(t)-1]=t;let m=1732584193,e=-271733879,f=-1732584194,n=271733878;for(let t=0;t<d.length;t+=16){const i=m,r=e,g=f,h=n;m=md5ff(m,e,f,n,d[t],7,-680876936),n=md5ff(n,m,e,f,d[t+1],12,-389564586),f=md5ff(f,n,m,e,d[t+2],17,606105819),e=md5ff(e,f,n,m,d[t+3],22,-1044525330),m=md5ff(m,e,f,n,d[t+4],7,-176418897),n=md5ff(n,m,e,f,d[t+5],12,1200080426),f=md5ff(f,n,m,e,d[t+6],17,-1473231341),e=md5ff(e,f,n,m,d[t+7],22,-45705983),m=md5ff(m,e,f,n,d[t+8],7,1770035416),n=md5ff(n,m,e,f,d[t+9],12,-1958414417),f=md5ff(f,n,m,e,d[t+10],17,-42063),e=md5ff(e,f,n,m,d[t+11],22,-1990404162),m=md5ff(m,e,f,n,d[t+12],7,1804603682),n=md5ff(n,m,e,f,d[t+13],12,-40341101),f=md5ff(f,n,m,e,d[t+14],17,-1502002290),m=md5gg(m,e=md5ff(e,f,n,m,d[t+15],22,1236535329),f,n,d[t+1],5,-165796510),n=md5gg(n,m,e,f,d[t+6],9,-1069501632),f=md5gg(f,n,m,e,d[t+11],14,643717713),e=md5gg(e,f,n,m,d[t],20,-373897302),m=md5gg(m,e,f,n,d[t+5],5,-701558691),n=md5gg(n,m,e,f,d[t+10],9,38016083),f=md5gg(f,n,m,e,d[t+15],14,-660478335),e=md5gg(e,f,n,m,d[t+4],20,-405537848),m=md5gg(m,e,f,n,d[t+9],5,568446438),n=md5gg(n,m,e,f,d[t+14],9,-1019803690),f=md5gg(f,n,m,e,d[t+3],14,-187363961),e=md5gg(e,f,n,m,d[t+8],20,1163531501),m=md5gg(m,e,f,n,d[t+13],5,-1444681467),n=md5gg(n,m,e,f,d[t+2],9,-51403784),f=md5gg(f,n,m,e,d[t+7],14,1735328473),m=md5hh(m,e=md5gg(e,f,n,m,d[t+12],20,-1926607734),f,n,d[t+5],4,-378558),n=md5hh(n,m,e,f,d[t+8],11,-2022574463),f=md5hh(f,n,m,e,d[t+11],16,1839030562),e=md5hh(e,f,n,m,d[t+14],23,-35309556),m=md5hh(m,e,f,n,d[t+1],4,-1530992060),n=md5hh(n,m,e,f,d[t+4],11,1272893353),f=md5hh(f,n,m,e,d[t+7],16,-155497632),e=md5hh(e,f,n,m,d[t+10],23,-1094730640),m=md5hh(m,e,f,n,d[t+13],4,681279174),n=md5hh(n,m,e,f,d[t],11,-358537222),f=md5hh(f,n,m,e,d[t+3],16,-722521979),e=md5hh(e,f,n,m,d[t+6],23,76029189),m=md5hh(m,e,f,n,d[t+9],4,-640364487),n=md5hh(n,m,e,f,d[t+12],11,-421815835),f=md5hh(f,n,m,e,d[t+15],16,530742520),m=md5ii(m,e=md5hh(e,f,n,m,d[t+2],23,-995338651),f,n,d[t],6,-198630844),n=md5ii(n,m,e,f,d[t+7],10,1126891415),f=md5ii(f,n,m,e,d[t+14],15,-1416354905),e=md5ii(e,f,n,m,d[t+5],21,-57434055),m=md5ii(m,e,f,n,d[t+12],6,1700485571),n=md5ii(n,m,e,f,d[t+3],10,-1894986606),f=md5ii(f,n,m,e,d[t+10],15,-1051523),e=md5ii(e,f,n,m,d[t+1],21,-2054922799),m=md5ii(m,e,f,n,d[t+8],6,1873313359),n=md5ii(n,m,e,f,d[t+15],10,-30611744),f=md5ii(f,n,m,e,d[t+6],15,-1560198380),e=md5ii(e,f,n,m,d[t+13],21,1309151649),m=md5ii(m,e,f,n,d[t+4],6,-145523070),n=md5ii(n,m,e,f,d[t+11],10,-1120210379),f=md5ii(f,n,m,e,d[t+2],15,718787259),e=md5ii(e,f,n,m,d[t+9],21,-343485551),m=safeAdd(m,i),e=safeAdd(e,r),f=safeAdd(f,g),n=safeAdd(n,h)}return[m,e,f,n]}function bytesToWords(d){if(0===d.length)return[];const t=8*d.length,m=new Uint32Array(getOutputLength(t));for(let e=0;e<t;e+=8)m[e>>5]|=(255&d[e/8])<<e%32;return m}function safeAdd(d,t){const m=(65535&d)+(65535&t);return(d>>16)+(t>>16)+(m>>16)<<16|65535&m}function bitRotateLeft(d,t){return d<<t|d>>>32-t}function md5cmn(d,t,m,e,f,n){return safeAdd(bitRotateLeft(safeAdd(safeAdd(t,d),safeAdd(e,n)),f),m)}function md5ff(d,t,m,e,f,n,i){return md5cmn(t&m|~t&e,d,t,f,n,i)}function md5gg(d,t,m,e,f,n,i){return md5cmn(t&e|m&~e,d,t,f,n,i)}function md5hh(d,t,m,e,f,n,i){return md5cmn(t^m^e,d,t,f,n,i)}function md5ii(d,t,m,e,f,n,i){return md5cmn(m^(t|~e),d,t,f,n,i)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=md5;exports.default=_default;

},{}],62:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const randomUUID="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var _default={randomUUID:randomUUID};exports.default=_default;

},{}],63:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default="00000000-0000-0000-0000-000000000000";exports.default=_default;

},{}],64:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _validate=_interopRequireDefault(require("./validate.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function parse(e){if(!(0,_validate.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}var _default=parse;exports.default=_default;

},{"./validate.js":74}],65:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;exports.default=_default;

},{}],66:[function(require,module,exports){
"use strict";let getRandomValues;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=rng;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}

},{}],67:[function(require,module,exports){
"use strict";function f(e,t,r,o){switch(e){case 0:return t&r^~t&o;case 1:return t^r^o;case 2:return t&r^t&o^r&o;case 3:return t^r^o}}function ROTL(e,t){return e<<t|e>>>32-t}function sha1(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,n=Math.ceil(o/16),s=new Array(n);for(let t=0;t<n;++t){const r=new Uint32Array(16);for(let o=0;o<16;++o)r[o]=e[64*t+4*o]<<24|e[64*t+4*o+1]<<16|e[64*t+4*o+2]<<8|e[64*t+4*o+3];s[t]=r}s[n-1][14]=8*(e.length-1)/Math.pow(2,32),s[n-1][14]=Math.floor(s[n-1][14]),s[n-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<n;++e){const o=new Uint32Array(80);for(let t=0;t<16;++t)o[t]=s[e][t];for(let e=16;e<80;++e)o[e]=ROTL(o[e-3]^o[e-8]^o[e-14]^o[e-16],1);let n=r[0],a=r[1],l=r[2],c=r[3],u=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),s=ROTL(n,5)+f(r,a,l,c)+u+t[r]+o[e]>>>0;u=c,c=l,l=ROTL(a,30)>>>0,a=n,n=s}r[0]=r[0]+n>>>0,r[1]=r[1]+a>>>0,r[2]=r[2]+l>>>0,r[3]=r[3]+c>>>0,r[4]=r[4]+u>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=sha1;exports.default=_default;

},{}],68:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,exports.unsafeStringify=unsafeStringify;var _validate=_interopRequireDefault(require("./validate.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const byteToHex=[];for(let e=0;e<256;++e)byteToHex.push((e+256).toString(16).slice(1));function unsafeStringify(e,t=0){return(byteToHex[e[t+0]]+byteToHex[e[t+1]]+byteToHex[e[t+2]]+byteToHex[e[t+3]]+"-"+byteToHex[e[t+4]]+byteToHex[e[t+5]]+"-"+byteToHex[e[t+6]]+byteToHex[e[t+7]]+"-"+byteToHex[e[t+8]]+byteToHex[e[t+9]]+"-"+byteToHex[e[t+10]]+byteToHex[e[t+11]]+byteToHex[e[t+12]]+byteToHex[e[t+13]]+byteToHex[e[t+14]]+byteToHex[e[t+15]]).toLowerCase()}function stringify(e,t=0){const o=unsafeStringify(e,t);if(!(0,_validate.default)(o))throw TypeError("Stringified UUID is invalid");return o}var _default=stringify;exports.default=_default;

},{"./validate.js":74}],69:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _rng=_interopRequireDefault(require("./rng.js")),_stringify=require("./stringify.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}let _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(e,s,t){let n=s&&t||0;const l=s||new Array(16);let c=(e=e||{}).node||_nodeId,o=void 0!==e.clockseq?e.clockseq:_clockseq;if(null==c||null==o){const s=e.random||(e.rng||_rng.default)();null==c&&(c=_nodeId=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==o&&(o=_clockseq=16383&(s[6]<<8|s[7]))}let r=void 0!==e.msecs?e.msecs:Date.now(),u=void 0!==e.nsecs?e.nsecs:_lastNSecs+1;const i=r-_lastMSecs+(u-_lastNSecs)/1e4;if(i<0&&void 0===e.clockseq&&(o=o+1&16383),(i<0||r>_lastMSecs)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=r,_lastNSecs=u,_clockseq=o;const _=(1e4*(268435455&(r+=122192928e5))+u)%4294967296;l[n++]=_>>>24&255,l[n++]=_>>>16&255,l[n++]=_>>>8&255,l[n++]=255&_;const a=r/4294967296*1e4&268435455;l[n++]=a>>>8&255,l[n++]=255&a,l[n++]=a>>>24&15|16,l[n++]=a>>>16&255,l[n++]=o>>>8|128,l[n++]=255&o;for(let e=0;e<6;++e)l[n+e]=c[e];return s||(0,_stringify.unsafeStringify)(l)}var _default=v1;exports.default=_default;

},{"./rng.js":66,"./stringify.js":68}],70:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _v=_interopRequireDefault(require("./v35.js")),_md=_interopRequireDefault(require("./md5.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const v3=(0,_v.default)("v3",48,_md.default);var _default=v3;exports.default=_default;

},{"./md5.js":61,"./v35.js":71}],71:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.URL=exports.DNS=void 0,exports.default=v35;var _stringify=require("./stringify.js"),_parse=_interopRequireDefault(require("./parse.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function stringToBytes(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}const DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8";exports.DNS=DNS;const URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(e,t,r){function n(e,n,s,i){var o;if("string"==typeof e&&(e=stringToBytes(e)),"string"==typeof n&&(n=(0,_parse.default)(n)),16!==(null===(o=n)||void 0===o?void 0:o.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(n),u.set(e,n.length),(u=r(u))[6]=15&u[6]|t,u[8]=63&u[8]|128,s){i=i||0;for(let e=0;e<16;++e)s[i+e]=u[e];return s}return(0,_stringify.unsafeStringify)(u)}try{n.name=e}catch(e){}return n.DNS=DNS,n.URL=URL,n}exports.URL=URL;

},{"./parse.js":64,"./stringify.js":68}],72:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _native=_interopRequireDefault(require("./native.js")),_rng=_interopRequireDefault(require("./rng.js")),_stringify=require("./stringify.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function v4(e,r,t){if(_native.default.randomUUID&&!r&&!e)return _native.default.randomUUID();const n=(e=e||{}).random||(e.rng||_rng.default)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,r){t=t||0;for(let e=0;e<16;++e)r[t+e]=n[e];return r}return(0,_stringify.unsafeStringify)(n)}var _default=v4;exports.default=_default;

},{"./native.js":62,"./rng.js":66,"./stringify.js":68}],73:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _v=_interopRequireDefault(require("./v35.js")),_sha=_interopRequireDefault(require("./sha1.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const v5=(0,_v.default)("v5",80,_sha.default);var _default=v5;exports.default=_default;

},{"./sha1.js":67,"./v35.js":71}],74:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _regex=_interopRequireDefault(require("./regex.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function validate(e){return"string"==typeof e&&_regex.default.test(e)}var _default=validate;exports.default=_default;

},{"./regex.js":65}],75:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _validate=_interopRequireDefault(require("./validate.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function version(e){if(!(0,_validate.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}var _default=version;exports.default=_default;

},{"./validate.js":74}],76:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deepMerge=deepMerge,exports.getConfigs=getConfigs,exports.getRemoteConfigs=getRemoteConfigs,exports.init=init,exports.setPropertyConfig=setPropertyConfig;var _uuid=require("uuid"),_constants=require("../utils/constants"),_storage=_interopRequireDefault(require("../utils/storage")),_request=require("../http/request");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const USER_AGENT_BOT_HINT="Katalon_Bot";let trafficAgentConfigs={};function getSession(){let e=_storage.default.getFromSessionStorage(_constants.LOCAL_STORAGE.SESSION_KEY);return e||(e=(0,_uuid.v4)(),_storage.default.setToSessionStorage(_constants.LOCAL_STORAGE.SESSION_KEY,e)),`${_constants.SESSION_PREFIX}${e}`}function init(){if(navigator.userAgent.includes(USER_AGENT_BOT_HINT))return void(trafficAgentConfigs={isBot:!0});const e=trafficAgentConfigs;e.session&&e.session.startsWith(_constants.SESSION_PREFIX)||(e.session=getSession()),e.enabled=!1,e.subSession=(0,_uuid.v4)(),e.clientCode=null,e.customFilter=null,trafficAgentConfigs=e,window.trafficAgentSessionData={lastHoverActions:{},lastHover:null,lastView:null,importantClasses:new Set},_storage.default.getFromLocalStorage(_constants.LOCAL_STORAGE.DEVICE_KEY)||_storage.default.setToLocalStorage(_constants.LOCAL_STORAGE.DEVICE_KEY,(0,_uuid.v4)())}function getConfigs(){return trafficAgentConfigs}function setPropertyConfig(e,t){trafficAgentConfigs[e]=t}function mergeConfigs(e){const t={...trafficAgentConfigs,...e};trafficAgentConfigs=t}function deepMerge(e,t){for(const n in t)t[n]instanceof Object&&n in e&&Object.assign(t[n],deepMerge(e[n],t[n]));return Object.assign(e||{},t),e}function getRemoteConfigs(e){const t={enabled:!1,sampling_rate:100,collector:{css:!1,action_data:!1,hover:!1,smart:!1,smart_text:!0,interactive_role:!1},context_enabled:!1,context_collector:{text_length:40,max_dom_context:20},filter:{action_data:!0}};return new Promise(n=>{(0,_request.get)((0,_constants.REMOTE_CONFIG)(e)).then(e=>{const{data:s}=e;if(s){const e=deepMerge(t,s);n(e)}else n(t)}).catch(()=>{n(t)})}).then(e=>(mergeConfigs(e),e))}

},{"../http/request":88,"../utils/constants":103,"../utils/storage":113,"uuid":60}],77:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=filterContextData;var _regexDataFilter=_interopRequireDefault(require("./regexDataFilter"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const defaultFilters=[new _regexDataFilter.default],FILTER_FIELDS=["text_content"];function filterContextData(e){const{dom_context:t}=e;t&&t.forEach(e=>{FILTER_FIELDS.forEach(t=>{const r=e[t];if(r)for(const o of defaultFilters){const[a,i]=o.filter(r);if(i)return void(e[t]=a)}})})}

},{"./regexDataFilter":86}],78:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _filterResult=_interopRequireDefault(require("./filterResult"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class Filter{shouldApply(){return!0}apply(){return new _filterResult.default}}var _default=Filter;exports.default=_default;

},{"./filterResult":80}],79:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeAllTrafficAgentFilters=exports.initDefaultFilter=exports.filterService=exports.addTrafficAgentFilter=void 0;var _regExFilter=_interopRequireDefault(require("./regExFilter")),_filterService=_interopRequireDefault(require("./filterService")),_constants=require("../utils/constants"),_inputElementFilter=_interopRequireDefault(require("./inputElementFilter")),_katalonClassFilter=_interopRequireDefault(require("./katalonClassFilter"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}let filterService={};exports.filterService=filterService;const initDefaultFilter=()=>{const e=new _filterService.default;e.addActionFilter(new _katalonClassFilter.default),e.addActionFilter(new _inputElementFilter.default),e.addActionFilter(new _regExFilter.default(Object.values(_constants.DEFAULT_EXCLUDING_REGEX))),exports.filterService=filterService=e};exports.initDefaultFilter=initDefaultFilter;const addTrafficAgentFilter=e=>{filterService.addActionFilter(e)};exports.addTrafficAgentFilter=addTrafficAgentFilter;const removeAllTrafficAgentFilters=()=>{filterService.removeAllActionFilters()};exports.removeAllTrafficAgentFilters=removeAllTrafficAgentFilters;

},{"../utils/constants":103,"./filterService":81,"./inputElementFilter":82,"./katalonClassFilter":83,"./regExFilter":85}],80:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class FilterResult{constructor({sourceAction:t,filterMethod:e,transformedData:r}){this.sourceAction=t,this.filterMethod=e,this.transformedData=r}}var _default=FilterResult;exports.default=_default;

},{}],81:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _constants=require("../utils/constants"),_regexDataFilter=_interopRequireDefault(require("./regexDataFilter"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}class FilterService{constructor(){this.actionFilters=[],this.rawDataFilters=[new _regexDataFilter.default]}addActionFilter(t){this.actionFilters.push(t)}removeAllActionFilters(){this.actionFilters=[]}filterAction(t){let e=t;return this.actionFilters.filter(t=>t.shouldApply(e)).forEach(t=>{const r=t.apply(e);if(r.filterMethod===_constants.FILTER_METHOD.EXCLUDE||r.filterMethod===_constants.FILTER_METHOD.TRANSFORM){const t={...e};t.action_data=r.transformedData,e=t}}),e}filterRawData(t){for(let e=0;e<this.rawDataFilters.length;e+=1){const[r,i]=this.rawDataFilters[e].filter(t);if(i)return`<${r}>`}return t}}var _default=FilterService;exports.default=_default;

},{"../utils/constants":103,"./regexDataFilter":86}],82:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _constants=require("../utils/constants"),_filter=_interopRequireDefault(require("./filter")),_filterResult=_interopRequireDefault(require("./filterResult")),_utils=require("./utils");function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}class InputElementFilter extends _filter.default{constructor(){super(),this.lstElementAttribute=_constants.INPUT_EXCLUDED_ATTRIBUTE,this.lstAttributeValue=_constants.INPUT_EXCLUDED_ATTRIBUTE_VALUE}shouldApply(t){const{action:e}=t;return e===_constants.UI_ACTION.INPUT}apply(t){const{target_element:e,action_target:r}=t,s=e||(0,_utils.getElement)(r);if(!s)return new _filterResult.default({sourceAction:t,filterMethod:_constants.FILTER_METHOD.ALLOW});return(()=>{for(let t=0;t<this.lstElementAttribute.length;t+=1){const e=this.lstElementAttribute[t],r=s.getAttribute(e);if(this.lstAttributeValue.some(t=>t===r))return!0}return!1})()?new _filterResult.default({sourceAction:t,filterMethod:_constants.FILTER_METHOD.EXCLUDE,transformedData:_constants.DEFAULT_TRANSFORM_DATA}):new _filterResult.default({sourceAction:t,filterMethod:_constants.FILTER_METHOD.ALLOW})}}var _default=InputElementFilter;exports.default=_default;

},{"../utils/constants":103,"./filter":78,"./filterResult":80,"./utils":87}],83:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _constants=require("../utils/constants"),_filter=_interopRequireDefault(require("./filter")),_filterResult=_interopRequireDefault(require("./filterResult")),_utils=require("./utils");function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}class KatalonClassFilter extends _filter.default{constructor(){super(),this.attributeName=_constants.ELEMENT_ATTRIBUTE.CLAZZ,this.attributeValue=_constants.ATTRIBUTE_VALUE.KATALON_EXCLUDED}shouldApply(t){const{action:e}=t;return e===_constants.UI_ACTION.INPUT}apply(t){const{target_element:e,action_target:r}=t,s=e||(0,_utils.getElement)(r);if(!s)return new _filterResult.default({sourceAction:t,filterMethod:_constants.FILTER_METHOD.ALLOW});return(()=>{const t=s.getAttribute(this.attributeName);return!!t&&t.includes(this.attributeValue)})()?new _filterResult.default({sourceAction:t,filterMethod:_constants.FILTER_METHOD.EXCLUDE,transformedData:_constants.DEFAULT_TRANSFORM_DATA}):new _filterResult.default({sourceAction:t,filterMethod:_constants.FILTER_METHOD.ALLOW})}}var _default=KatalonClassFilter;exports.default=_default;

},{"../utils/constants":103,"./filter":78,"./filterResult":80,"./utils":87}],84:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class RawDataFilter{redactValue(){}filter(e){}}exports.default=RawDataFilter;

},{}],85:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _constants=require("../utils/constants"),_filter=_interopRequireDefault(require("./filter")),_filterResult=_interopRequireDefault(require("./filterResult"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class RegExFilter extends _filter.default{constructor(e){super(),this.lstRegex=e}shouldApply(e){const{action:t}=e;return t===_constants.UI_ACTION.INPUT}shouldExclude(e){return this.lstRegex.some(t=>new RegExp(t).test(e))}apply(e){const{action_data:t}=e;return this.shouldExclude(t)?new _filterResult.default({sourceAction:e,filterMethod:_constants.FILTER_METHOD.EXCLUDE,transformedData:_constants.DEFAULT_TRANSFORM_DATA}):new _filterResult.default({sourceAction:e,filterMethod:_constants.FILTER_METHOD.ALLOW})}}var _default=RegExFilter;exports.default=_default;

},{"../utils/constants":103,"./filter":78,"./filterResult":80}],86:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _constants=require("../utils/constants"),_rawDataFilter=_interopRequireDefault(require("./rawDataFilter"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}const REGEX={SOCIAL_NUMBER:_constants.DEFAULT_EXCLUDING_REGEX.socialNumber,EMAIL:_constants.DEFAULT_EXCLUDING_REGEX.simpleEmail,IPV4:_constants.DEFAULT_EXCLUDING_REGEX.ipv4,IPV6:_constants.DEFAULT_EXCLUDING_REGEX.ipv6,PHONE_NUMBER:_constants.DEFAULT_EXCLUDING_REGEX.phoneNumber,ZIP_CODE:_constants.DEFAULT_EXCLUDING_REGEX.zipCode,VISA_CARD:_constants.DEFAULT_EXCLUDING_REGEX.visaCard,MASTER_CARD:_constants.DEFAULT_EXCLUDING_REGEX.masterCard,AMERICAN_EXPRESS_CARD:_constants.DEFAULT_EXCLUDING_REGEX.americanExpressCard,DINER_CLUB_CARD:_constants.DEFAULT_EXCLUDING_REGEX.dinerClubCard,DISCOVER_CARD:_constants.DEFAULT_EXCLUDING_REGEX.discoverCard,JCB_CARD:_constants.DEFAULT_EXCLUDING_REGEX.jcbCard};class RegexDataFilter extends _rawDataFilter.default{redactValue(){}filter(t){const E=`${t}`;for(const[t,e]of Object.entries(REGEX))if(e.test(E))return[t,!0];return[t,!1]}}exports.default=RegexDataFilter;

},{"../utils/constants":103,"./rawDataFilter":84}],87:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getElement=void 0;const getElementByXpath=e=>document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,getElement=e=>{if(!e||0===e.length)return null;const{xpath:t}=e[0];return getElementByXpath(t)};exports.getElement=getElement;

},{}],88:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.post=exports.get=void 0;var _axios=_interopRequireDefault(require("axios")),_constants=require("../utils/constants");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const request=_axios.default.create({baseURL:_constants.BASE_URL}),post=(e,t)=>request.post(e,t);exports.post=post;const get=(e,t)=>request.get(e,{params:t});exports.get=get;

},{"../utils/constants":103,"axios":2}],89:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isSelect2Available=exports.isKendoSliderAvailable=exports.isJQueryAvailable=exports.enableAppFeatures=void 0;var _select=require("./select2"),_kendoSlider=require("./kendoSlider"),_commons=require("../utils/commons");const isJQueryAvailable=()=>!!window.jQuery;exports.isJQueryAvailable=isJQueryAvailable;const isSelect2Available=()=>isJQueryAvailable()&&!!window.jQuery.fn.select2;exports.isSelect2Available=isSelect2Available;const isKendoSliderAvailable=()=>!!document.querySelector(".k-slider");exports.isKendoSliderAvailable=isKendoSliderAvailable;const enableAppFeatures=()=>{isSelect2Available()&&((0,_select.enableSelect2Tracking)(),(0,_commons.getSessionData)().select2Enabled=!0),(0,_kendoSlider.enableKendoSliderTracking)()};exports.enableAppFeatures=enableAppFeatures;

},{"../utils/commons":102,"./kendoSlider":90,"./select2":92}],90:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isKendoSlider=exports.enableKendoSliderTracking=void 0;var _processor=require("../processor/processor"),_page=require("../utils/page"),_constants=require("../utils/constants");const processKendoSlider=(e,r)=>{const t=e.getAttribute("aria-valuenow"),s=e.getAttribute("aria-valuemin"),n=e.getAttribute("aria-valuemax");r.value=Number(t),r.min=Number(s),r.max=Number(n),r.step=1,(0,_processor.createLastAction)({action:_constants.UI_ACTION.INPUT_SLIDER,actionTarget:[(0,_page.getElementKey)(r)],actionData:t,targetElement:r})},findSlider=e=>{if(e.classList.contains("k-draghandle"))return{handle:e,track:e.closest(".k-slider-track")};let r=e;if(r.classList.contains("k-slider")||(r=e.closest(".k-slider")),!r)return{};return{handle:r.querySelector(".k-draghandle"),track:r.querySelector(".k-slider-track")}},enableKendoSliderTracking=()=>{document.addEventListener("click",e=>{const{target:r}=e,{handle:t,track:s}=findSlider(r);t&&s&&processKendoSlider(t,s)},!1)};exports.enableKendoSliderTracking=enableKendoSliderTracking;const isKendoSlider=e=>!!e.closest("kendo-slider");exports.isKendoSlider=isKendoSlider;

},{"../processor/processor":97,"../utils/constants":103,"../utils/page":110}],91:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.handlers=void 0,exports.startListener=startListener;var _page=require("../utils/page"),_form=require("../utils/form"),_commons=require("../utils/commons"),_processor=require("../processor/processor"),_constants=require("../utils/constants"),_config=require("../config/config"),_element=require("../utils/element"),_storage=_interopRequireDefault(require("../utils/storage")),_logging=_interopRequireDefault(require("../utils/logging")),_uploadService=_interopRequireDefault(require("../uploader/uploadService")),_filterConfig=require("../filter/filterConfig"),_kendoSlider=require("./kendoSlider");function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}let ongoingInput=null;const handlers={};function trackPageEvents(t){const e=(0,_config.getConfigs)();document.addEventListener("input",(0,_commons.suppressException)(t=>{if(t instanceof InputEvent){const e=t.target,n=(0,_page.getElementKey)(e),o=(0,_form.getFormElement)(e),s="password"===e.type?"":e.value;ongoingInput&&ongoingInput.targetElement!==e&&(0,_processor.createLastAction)(ongoingInput),ongoingInput={action:_constants.UI_ACTION.INPUT,actionTarget:[n],actionData:s,targetElement:e,form:o}}else{const e=t.target;if(e&&"select"===(0,_page.getTagName)(e)){const t=(0,_page.getElementKey)(e);(0,_processor.createLastAction)({action:_constants.UI_ACTION.SELECT,actionTarget:[t],actionData:Array.from(e.selectedOptions).map(t=>t.value),targetElement:e})}}}),!0);const n=(0,_commons.suppressException)(t=>{if(ongoingInput&&ongoingInput.targetElement!==t.target&&((0,_processor.createLastAction)(ongoingInput),ongoingInput=null),t.ctrlKey||t.metaKey||t.shiftKey||!t.isTrusted||(t=>{const e=t.target,n=(0,_page.getTagName)(e);return"select"===n||"option"===n||"optgroup"===n||("input"===n?e.labels&&0!==e.labels.length&&0===t.detail:!!(0,_kendoSlider.isKendoSlider)(e))})(t))return;const e=t.target;let n=e,o=null;for(;n;){const t=(0,_page.getTagName)(n);if(["a","button","svg"].includes(t)){o=n;break}n=n.parentElement}o||(o=e);const s=(0,_page.getElementKey)(o);ongoingInput||((0,_commons.getSessionData)().lastClickElement=e,(0,_processor.createLastAction)({action:_constants.UI_ACTION.CLICK,actionTarget:[s],actionData:null,targetElement:o}))});handlers[_constants.UI_ACTION.CLICK]=n,document.addEventListener("click",n,!0),document.addEventListener("submit",(0,_commons.suppressException)(t=>{const e=t.target,n=(0,_page.getElementKey)(e);(0,_processor.createLastAction)({action:_constants.UI_ACTION.SUBMIT,actionTarget:[n],actionData:null,targetElement:e})}),!0),document.addEventListener("keydown",(0,_commons.suppressException)(t=>{"Enter"===t.key&&ongoingInput&&"textarea"!==(0,_page.getTagName)(ongoingInput.targetElement)&&((0,_processor.createLastAction)(ongoingInput),ongoingInput=null)}),!0),!0===e.collector.hover&&!1!==(t&&t.hover)&&document.addEventListener("mouseenter",(0,_commons.suppressException)(t=>{const e=Date.now(),n=t.target;if(n===document)return;const o=(0,_element.elementContainsHover)(n),s=(0,_page.getElementKey)(n),a=(0,_processor.createLastAction)({timestamp:e,action:_constants.UI_ACTION.HOVER,actionTarget:[s],actionData:null,targetElement:n}),{action_id:r}=a;(0,_commons.getSessionData)().lastHoverActions[r]=a;const i=(0,_element.findParentHover)(r,n);a.parent_action=i,o&&n.setAttribute(`data-${_constants.SESSION_PREFIX}last-action-id`,r)}),!0),function(){const t=window.MutationObserver||window.WebKitMutationObserver;function e(t,e){e.split(" ").forEach(e=>{""!==e&&t.add(e)})}function n(t,e){const{classList:o}=e;for(const e of o)t.add(e);const{children:s}=e;for(const e of s)n(t,e)}function o(t,e){for(const o of e){const{nodeType:e}=o;if(1===e){n(t,o)}}}function s(){const{origin:t,pathname:e,hash:n}=window.location;return`${t}${e}${n}`}let a=s();new t((0,_commons.suppressException)(t=>{const n=new Set,r=new Set;for(const s of t){const{type:t}=s;if("attributes"===t){const{target:t}=s,{oldValue:o}=s,a=t.className;o&&e(n,o),a&&e(r,a)}else if("childList"===t){const{removedNodes:t}=s;o(n,t);const{addedNodes:e}=s;o(r,e)}}n.forEach(t=>{r.has(t)||(0,_commons.getSessionData)().importantClasses.add(t)}),r.forEach(t=>{n.has(t)||(0,_commons.getSessionData)().importantClasses.add(t)});const i=s();a!==i&&(a=i,(0,_processor.createLastAction)({action:_constants.UI_ACTION.VIEW}))})).observe(document,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["style","class","value"]})}()}function shouldStartAgent(){const{enabled:t,sampling_rate:e}=(0,_config.getConfigs)();let n=!0;const o=_storage.default.getFromSessionStorage(_constants.LOCAL_STORAGE.SAMPLING_KEY);return null===o?("number"==typeof e&&e>=0&&e<=100&&(n=100*Math.random()<=e),_storage.default.setToSessionStorage(_constants.LOCAL_STORAGE.SAMPLING_KEY,n)):n="true"===o,t&&n}async function startAgent(t,e,n){if(await(0,_config.getRemoteConfigs)(t),shouldStartAgent()){const o=(0,_config.getConfigs)();o&&o.filter&&!o.filter.action_data&&(0,_filterConfig.removeAllTrafficAgentFilters)(),setTimeout(()=>{_uploadService.default.init(),(0,_config.setPropertyConfig)("clientCode",t),(0,_config.setPropertyConfig)("customFilter",n),(0,_processor.createLastAction)({action:_constants.UI_ACTION.VIEW}),trackPageEvents(e)},0)}}async function startListener(t,e,...n){const o=(0,_config.getConfigs)();o&&o.isBot||((0,_logging.default)(`Starting TrafficAgent for client code: ${t}`),await startAgent(t,e,n))}exports.handlers=handlers;

},{"../config/config":76,"../filter/filterConfig":79,"../processor/processor":97,"../uploader/uploadService":99,"../utils/commons":102,"../utils/constants":103,"../utils/element":105,"../utils/form":106,"../utils/logging":108,"../utils/page":110,"../utils/storage":113,"./kendoSlider":90}],92:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.enableSelect2Tracking=void 0;var _constants=require("../utils/constants"),_listener=require("./listener"),_commons=require("../utils/commons"),_logging=_interopRequireDefault(require("../utils/logging"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const isHandled=e=>{const{target:t}=e,{lastClickElement:n}=(0,_commons.getSessionData)();return n===t},enableSelect2Tracking=()=>{const e=Event.prototype.stopPropagation;Event.prototype.stopPropagation=function(){try{if("mousedown"===this.type&&this.target.closest(".select2-container")&&!isHandled(this)){const e=_listener.handlers[_constants.UI_ACTION.CLICK];e&&e(this)}}catch(e){(0,_logging.default)(e)}return e.call(this)}};exports.enableSelect2Tracking=enableSelect2Tracking;

},{"../utils/commons":102,"../utils/constants":103,"../utils/logging":108,"./listener":91}],93:[function(require,module,exports){
"use strict";var _config=require("./config/config"),_filterConfig=require("./filter/filterConfig"),_listener=require("./listener/listener"),_appFeatures=require("./listener/appFeatures");const isSanboxEnv=document.currentScript.src.includes("VM"),isInsideIframe=window.self!==window.top,start=e=>{if(window.trafficAgentRunning||isSanboxEnv||isInsideIframe)console.warn("Traffic Agent already running");else{if(window.trafficAgentRunning=!0,(0,_config.init)(),(0,_filterConfig.initDefaultFilter)(),e)return(0,_listener.startListener)(e),void(0,_appFeatures.enableAppFeatures)();window.trafficAgentRunning=!1,console.warn("Client code is required to start Traffic Agent")}};window.startTrafficAgent=start,window.addTrafficAgentFilter=_filterConfig.addTrafficAgentFilter;let clientCode=document.currentScript.getAttribute("client-code");if(!clientCode){clientCode=new URL(document.currentScript.src).searchParams.get("clientCode")}clientCode&&start(clientCode);

},{"./config/config":76,"./filter/filterConfig":79,"./listener/appFeatures":89,"./listener/listener":91}],94:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _commons=require("../../utils/commons"),_page=require("../../utils/page");const Regex={number:/^[-+]?\d+([.,]\d+)?$/};function typeOf(e){return Regex.number.test(e)?"number":"string"}function searchParams(){const e=new URLSearchParams(window.location.search),s={};for(const[a,r]of e)s[a]=typeOf(r);return s}function all(){const e={},s=searchParams();return(0,_commons.isEmptyObject)(s)||(e.search_params=s),e}function children(e){const s=[];for(const a of e.children){const e={tag_name:(0,_page.getTagName)(a)};"string"==typeof a.className&&(e.class_name=a.className),s.push(e)}return s}function self(e){return"string"==typeof e.className?{class_name:e.className}:{}}const Collectors={searchParams:searchParams,all:all,children:children,self:self};var _default=Collectors;exports.default=_default;

},{"../../utils/commons":102,"../../utils/page":110}],95:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildTargeAttributes=exports.buildExtraField=void 0;var _config=require("../../config/config"),_constants=require("../../utils/constants"),_element=require("../../utils/element"),_input=require("../../utils/input"),_login_detector=require("../../utils/login_detector"),_page=require("../../utils/page"),_roleUtils=require("../../utils/playwright/roleUtils"),_processor=require("../processor"),_collectors=_interopRequireDefault(require("./collectors"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const isPasswordInput=e=>!!e.hasAttribute(_constants.ELEMENT_ATTRIBUTE.TYPE)&&e.getAttribute(_constants.ELEMENT_ATTRIBUTE.TYPE)===_constants.ATTRIBUTE_VALUE.PASSWORD,processLoginFormProperty=(e,t)=>{const r=e[t];if(r&&r.xpath&&r.element){const{xpath:e,element:o}=r;return{[t.charAt(0)]:{xpath:e,css:(0,_element.getCssSelector)(o)}}}return{}},buildLoginFormLocator=(e=null)=>{let t={};try{t=(0,_login_detector.getLoginForm)(e)}catch(e){}if(t){let e={};if(e={...e,...processLoginFormProperty(t,"form")},e={...e,...processLoginFormProperty(t,"username")},e={...e,...processLoginFormProperty(t,"password")},e={...e,...processLoginFormProperty(t,"submit_button")},Object.keys(e).length>0)return{login:e}}return null},buildElementProperties=e=>{const t={},r=(0,_config.getConfigs)().collector;return t[_constants.Selectors.xpath]=(0,_page.getElementKey)(e),r&&r[_constants.Selectors.css]&&e&&(t[_constants.Selectors.css]=(0,_element.getCssSelector)(e)),r&&!0===r[_constants.Selectors.smart]&&(0,_processor.buildSmartSelector)(t,e),t},buildTargeAttributes=(e,t)=>{let r=(0,_page.getExtraAttributes)(t);return e===_constants.UI_ACTION.INPUT&&(r={...r,...(0,_input.getInputMetadata)(t)}),r};exports.buildTargeAttributes=buildTargeAttributes;const buildRoleContext=(e,t,r)=>{try{const o=(0,_roleUtils.getInteractiveAriaRole)(r),s=!!o;let l=null;if(!s){const e=(0,_roleUtils.getNearestInteractiveAriaRole)(r);if(e){const{element:r,role:o}=e;if(r){const e=buildElementProperties(r);e.a11y_role=o,e.self={tag_name:(0,_page.getTagName)(r)},"string"==typeof r.className&&(e.self.class_name=r.className),e.children=_collectors.default.children(r),e.target_attributes=buildTargeAttributes(t,r),l=e}}}const n={a11y_role:o,is_interactive:s};return l&&(n.parent_element=l),{...e,...n}}catch(e){return console.log("Error when generating extra role field",e),{}}},buildLabelField=e=>{const t=e.control;let r=null;if(t){const e=(0,_roleUtils.getInteractiveAriaRole)(t);(r=buildElementProperties(t)).a11y_role=e}return r},buildExtraField=e=>{let t={};const r=(0,_config.getConfigs)().collector,{action:o,target_element:s}=e;if(o===_constants.UI_ACTION.VIEW&&(t={...buildLoginFormLocator(),page_title:document.title}),o!==_constants.UI_ACTION.VIEW&&o!==_constants.UI_ACTION.HOVER&&r.interactive_role){if("label"===s.tagName.toLowerCase()){const e=buildLabelField(s);t=e?{...t,inputField:e}:buildRoleContext(t,o,s)}else t=buildRoleContext(t,o,s)}return s&&o===_constants.UI_ACTION.INPUT&&isPasswordInput(s)&&(t={...t,...buildLoginFormLocator(s)}),s&&o===_constants.UI_ACTION.INPUT_SLIDER&&(t={...t,min:s.min,max:s.max,step:s.step}),t};exports.buildExtraField=buildExtraField;

},{"../../config/config":76,"../../utils/constants":103,"../../utils/element":105,"../../utils/input":107,"../../utils/login_detector":109,"../../utils/page":110,"../../utils/playwright/roleUtils":111,"../processor":97,"./collectors":94}],96:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendActionContext=void 0;var _config=require("../config/config"),_eventContext=require("../uploader/eventContext"),_uploadService=_interopRequireDefault(require("../uploader/uploadService")),_roleUtils=require("../utils/playwright/roleUtils"),_processor=require("./processor"),_contextDataFilter=_interopRequireDefault(require("../filter/contextDataFilter"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const sendActionContext=({url:e,actionId:t,timestamp:r,targetElement:o})=>{if(!1===(0,_config.getConfigs)().context_enabled)return;const n=(0,_roleUtils.generate)(o),i=(0,_processor.getMeta)(),l=new _eventContext.EventContext(r,e,t,n);(0,_contextDataFilter.default)(l),_uploadService.default.upload({...i,...l})};exports.sendActionContext=sendActionContext;

},{"../config/config":76,"../filter/contextDataFilter":77,"../uploader/eventContext":98,"../uploader/uploadService":99,"../utils/playwright/roleUtils":111,"./processor":97}],97:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildSmartSelector=buildSmartSelector,exports.createLastAction=createLastAction,exports.getMeta=void 0;var _uuid=require("uuid"),_config=require("../config/config"),_commons=require("../utils/commons"),_constants=require("../utils/constants"),_element=require("../utils/element"),_page=require("../utils/page"),_storage=_interopRequireDefault(require("../utils/storage")),_filterConfig=require("../filter/filterConfig"),_extra=require("./builder/extra"),_uploadService=_interopRequireDefault(require("../uploader/uploadService")),_collectors=_interopRequireDefault(require("./builder/collectors")),_editor=require("../utils/editor"),_contextProcessor=require("./contextProcessor"),_eventContext=require("../uploader/eventContext");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function addToSendQueue(e){delete e.hovers,delete e.tracked,delete e.sent_count,_uploadService.default.upload(e)}const getMeta=()=>{const e=(0,_config.getConfigs)();return{version:_constants.TRACK_VERSION,origin:window.location.hostname,device:_storage.default.getFromLocalStorage(_constants.LOCAL_STORAGE.DEVICE_KEY),session:e.session,sub_session:e.subSession}};exports.getMeta=getMeta;const doFilter=e=>_filterConfig.filterService.filterAction(e);function sendLastAction(e){if(e){if(e.action!==_constants.UI_ACTION.HOVER&&e.action!==_constants.UI_ACTION.VIEW){const{hovers:t}=e;if(t)for(const e of t)e.eventType=_eventContext.EventType.TRAFFIC,e.tracked=!0,addToSendQueue(e)}e.eventType=_eventContext.EventType.TRAFFIC,addToSendQueue(e)}}const REFINE_KEYS=new Set(["data"]);function refineAction(e){REFINE_KEYS.forEach(t=>{(0,_commons.isEmptyObject)(e[t])&&delete e[t]})}function buildSmartSelector(e,t){return e[_constants.Selectors.smart]=(0,_element.getPlaywrightSelectors)(t),e}function createLastAction({timestamp:e,action:t,actionTarget:n,actionData:o,targetElement:r,editor:s}){return(0,_commons.executeWithTimeout)(a=>{if(!s&&(t===_constants.UI_ACTION.CLICK||t===_constants.UI_ACTION.INPUT)){const e=(0,_editor.checkEditor)({targetElement:r,action:t});if(e.skip||"textarea"!==(0,_page.getTagName)(e.target)&&createLastAction({action:e.action,timestamp:e.timestamp,targetElement:e.target,actionTarget:[(0,_page.getElementKey)(e.target)],editor:!0}),e.retarget&&(r=e.retarget,n=[(0,_page.getElementKey)(e.retarget)]),e.skipFlowing)return null}const i=(0,_config.getConfigs)().collector;e||(e=Date.now());const c=(0,_uuid.v4)(),l={},{origin:_,pathname:u,hash:d}=window.location,g=`${_}${u}${d}`;t!==_constants.UI_ACTION.VIEW&&(l.children=_collectors.default.children(r),l.self=_collectors.default.self(r)),n&&(n=n.filter(e=>e.length>0),(n=[...new Set(n)]).sort(),n.length>0&&(l[_constants.Selectors.xpath]=n[0]),i&&i[_constants.Selectors.css]&&t!==_constants.UI_ACTION.HOVER&&r&&(l[_constants.Selectors.css]=(0,_element.getCssSelector)(r)),i&&!0===i[_constants.Selectors.smart]&&t!==_constants.UI_ACTION.HOVER&&buildSmartSelector(l,r),t!==_constants.UI_ACTION.VIEW&&(l.children=_collectors.default.children(r)),r&&(l.target_attributes=(0,_extra.buildTargeAttributes)(t,r)));let f={...getMeta(),timestamp:e,url:g,page_text:null,action:t,action_target:[l],action_data:o,action_id:c,data:{..._collectors.default.all()},target_element:r};i&&Object.keys(i).forEach(e=>{!0!==i[e]&&delete f[e]}),f=doFilter(f),a.check();const m=(0,_extra.buildExtraField)(f);if(Object.keys(m).length>0&&(f.extra=m),t!==_constants.UI_ACTION.HOVER&&delete f.target_element,t===_constants.UI_ACTION.CLICK){const e=(0,_element.findHovers)(r);if(i&&!0===i[_constants.Selectors.smart])for(const t of e)buildSmartSelector(t.action_target,t.target_element),delete t.target_element;if(e.length>0){const t=e[e.length-1].action_target;t.length>0&&n.length>0&&t[0]===n[0]&&e.splice(-1)}f.hovers=e,(0,_commons.getSessionData)().lastHoverActions={}}return refineAction(f),t!==_constants.UI_ACTION.HOVER&&(sendLastAction(f),t!==_constants.UI_ACTION.VIEW&&(a.check(),(0,_contextProcessor.sendActionContext)({url:g,timestamp:e,actionId:c,targetElement:r}))),f},_constants.DEFAULT_TIME_OUT)}

},{"../config/config":76,"../filter/filterConfig":79,"../uploader/eventContext":98,"../uploader/uploadService":99,"../utils/commons":102,"../utils/constants":103,"../utils/editor":104,"../utils/element":105,"../utils/page":110,"../utils/storage":113,"./builder/collectors":94,"./builder/extra":95,"./contextProcessor":96,"uuid":60}],98:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventType=exports.EventContext=exports.DomElement=void 0;const EventType={TRAFFIC:"TRAFFIC",CONTEXT:"CONTEXT"};exports.EventType=EventType;class DomElement{constructor(){this.tag_name=void 0,this.is_target=!1,this.role=void 0,this.text_content=void 0,this.class_name=void 0}}exports.DomElement=DomElement;class EventContext{constructor(t,e,o,s){this.event_type=EventType.CONTEXT,this.timestamp=t,this.action_id=`context-${o}`,this.url=e,this.traffic_action_id=o,this.dom_context=s}}exports.EventContext=EventContext;

},{}],99:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _config=require("../config/config"),_uploadWorker=_interopRequireDefault(require("./uploadWorker"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const uploader=new _uploadWorker.default;function upload(e){const{clientCode:o}=(0,_config.getConfigs)(),t={clientCode:o};uploader.upload({action:e,configs:t})}function init(){uploader.setupUploadInterval()}var _default={upload:upload,init:init};exports.default=_default;

},{"../config/config":76,"./uploadWorker":100}],100:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _dexie=_interopRequireDefault(require("dexie/dist/dexie.min")),_uploader=require("./uploader");function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}const db=new _dexie.default("katalon");async function saveAction(t){await db.actions.add({id:t.action.action_id,payload:t,created_at:Date.now(),try_count:0})}async function getActions(){return db.actions.orderBy("created_at").limit(3).toArray()}async function deleteBulkAction(t){await db.actions.bulkDelete(t)}async function increaseTryCount(t){await db.actions.update(t.id,{try_count:t.try_count+1})}async function handleSendActionResult(t){const e=t.filter(t=>"fulfilled"===t.status).map(t=>t.value.id);await deleteBulkAction(e);const a=t.filter(t=>"rejected"===t.status&&(!t.reason.isRetryable||t.reason.action.try_count>=2)).map(t=>t.reason.action.id);await deleteBulkAction(a);const n=t.filter(t=>"rejected"===t.status&&t.reason.try_count<2).map(t=>t.reason);await Promise.allSettled(n.map(increaseTryCount))}db.version(1).stores({actions:"id, created_at"}),db.open();const UPLOAD_INTERVAL=500;class Uploader{constructor(){this.uploading=!1,this.uploadInterval=null}async startUpload(){if(this.uploading)return;this.uploading=!0;const t=await getActions();0!==t.length?(await Promise.allSettled(t.map(async t=>{const{payload:e}=t;try{return await(0,_uploader.trackAction)(e.action,e.configs),t}catch(e){const a={action:t,isRetryable:(0,_uploader.isRetryable)(e)};return Promise.reject(a)}})).then(async t=>{await handleSendActionResult(t)}),this.uploading=!1):this.uploading=!1}async setupUploadInterval(){null!==this.uploadInterval&&clearInterval(this.uploadInterval),this.uploadInterval=setInterval(()=>{this.uploading||this.startUpload()},UPLOAD_INTERVAL)}upload(t){setTimeout(async()=>{await saveAction(t)},0)}}exports.default=Uploader;

},{"./uploader":101,"dexie/dist/dexie.min":54}],101:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.trackAction=exports.isRetryable=void 0;var _request=require("../http/request"),_constants=require("../utils/constants");const trackAction=(t,e)=>{const{clientCode:r}=e,s=(0,_constants.TRACKING_ACTION)(r);return(0,_request.post)(s,{client_code:r,...t})};exports.trackAction=trackAction;const isRetryable=t=>{if(!t||"AxiosError"!==t.name)return!1;const{response:e}=t;if(!e)return!1;const{status:r}=e;return 0===r||408===r||429===r||r>=500};exports.isRetryable=isRetryable;

},{"../http/request":88,"../utils/constants":103}],102:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.executeWithTimeout=executeWithTimeout,exports.getSessionData=getSessionData,exports.isEmptyObject=isEmptyObject,exports.suppressException=suppressException;var _logging=_interopRequireDefault(require("./logging"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getSessionData(){return window.trafficAgentSessionData}function suppressException(e){return function(){try{return e.apply(null,arguments)}catch(e){(0,_logging.default)(e)}return null}}function isEmptyObject(e){return 0===Object.keys(e).length}function executeWithTimeout(e,t){const n=Date.now();return e({check(){if(Date.now()-n>t)throw Error(`Function exceeded timeout of ${t}ms`);return!1}})}

},{"./logging":108}],103:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UI_ACTION=exports.TRACK_VERSION=exports.TRACKING_ACTION=exports.Selectors=exports.SESSION_PREFIX=exports.REMOTE_CONFIG=exports.LOCAL_STORAGE=exports.INPUT_EXCLUDED_ATTRIBUTE_VALUE=exports.INPUT_EXCLUDED_ATTRIBUTE=exports.FILTER_METHOD=exports.ELEMENT_ATTRIBUTE=exports.DEFAULT_TRANSFORM_DATA=exports.DEFAULT_TIME_OUT=exports.DEFAULT_EXCLUDING_REGEX=exports.BASE_URL=exports.ATTRIBUTE_VALUE=exports.APIS=void 0;var _urlTemplate=require("url-template");const TRACK_VERSION=54;exports.TRACK_VERSION=54;const BASE_URL="https://kip.katalon.com";exports.BASE_URL=BASE_URL;const APIS={TRACK_ACTION_TEMPLATE:(0,_urlTemplate.parseTemplate)("/v1/{clientCode}"),REMOTE_CONFIG_TEMPLATE:(0,_urlTemplate.parseTemplate)("/traffic-agent/{clientCode}/config.json")};exports.APIS=APIS;const TRACKING_ACTION=E=>{return APIS.TRACK_ACTION_TEMPLATE.expand({clientCode:E})};exports.TRACKING_ACTION=TRACKING_ACTION;const REMOTE_CONFIG=E=>APIS.REMOTE_CONFIG_TEMPLATE.expand({clientCode:E});exports.REMOTE_CONFIG=REMOTE_CONFIG;const LOCAL_STORAGE={DEVICE_KEY:"katalon_traffic_agent_device",SESSION_KEY:"katalon_traffic_agent_session",SAMPLING_KEY:"katalon_traffic_agent_sampling"};exports.LOCAL_STORAGE=LOCAL_STORAGE;const UI_ACTION={VIEW:"view",CLICK:"click",INPUT:"input",HOVER:"hover",SUBMIT:"submit",SELECT:"select",INPUT_SLIDER:"input_slider"};exports.UI_ACTION=UI_ACTION;const SESSION_PREFIX="traffic-agent-";exports.SESSION_PREFIX=SESSION_PREFIX;const FILTER_METHOD={EXCLUDE:"EXCLUDE",TRANSFORM:"TRANSFORM",ALLOW:"ALLOW"};exports.FILTER_METHOD=FILTER_METHOD;const DEFAULT_EXCLUDING_REGEX={socialNumber:/^(?!0{3})(?!6{3})[0-8]\d{2}-(?!0{2})\d{2}-(?!0{4})\d{4}$/,simpleEmail:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ipv4:/(\b25[0-5]|\b2[0-4][0-9]|\b[01]?[0-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}/,ipv6:/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/,phoneNumber:/^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\s\\.]?[0-9]{4,6}$/,zipCode:/^[0-9]{5}(?:-[0-9]{4})?$/,visaCard:/4\d{3}[-\s]?\d{4}[-\s]?\d{4}[-\s]?\d{4}/,masterCard:/5[1-5]\d{2}[-\s]?\d{4}[-\s]?\d{4}[-\s]?\d{4}/,americanExpressCard:/3[47]\d{2}[-\s]?\d{6}[-\s]?\d{5}/,dinerClubCard:/^3(?:0[0-5]|[68]\d)\d{11}$/,discoverCard:/6(?:011|5\d{2})[-\s]?\d{4}[-\s]?\d{4}[-\s]?\d{4}/,jcbCard:/^(?:2131|1800|35\d{3})\d{11}$/};exports.DEFAULT_EXCLUDING_REGEX=DEFAULT_EXCLUDING_REGEX;const ELEMENT_ATTRIBUTE={TYPE:"type",AUTOCOMPLETE:"autocomplete",CLAZZ:"class"};exports.ELEMENT_ATTRIBUTE=ELEMENT_ATTRIBUTE;const ATTRIBUTE_VALUE={PASSWORD:"password",CREDIT_CARD_NUMBER:"cc-number",CREDIT_CARD_EXP:"cc-exp",CREDIT_CARD_CVC:"cc-csc",KATALON_EXCLUDED:"katalon-excluded"};exports.ATTRIBUTE_VALUE=ATTRIBUTE_VALUE;const INPUT_EXCLUDED_ATTRIBUTE=[ELEMENT_ATTRIBUTE.TYPE,ELEMENT_ATTRIBUTE.AUTOCOMPLETE];exports.INPUT_EXCLUDED_ATTRIBUTE=INPUT_EXCLUDED_ATTRIBUTE;const INPUT_EXCLUDED_ATTRIBUTE_VALUE=[ATTRIBUTE_VALUE.PASSWORD,ATTRIBUTE_VALUE.CREDIT_CARD_NUMBER,ATTRIBUTE_VALUE.CREDIT_CARD_EXP,ATTRIBUTE_VALUE.CREDIT_CARD_CVC];exports.INPUT_EXCLUDED_ATTRIBUTE_VALUE=INPUT_EXCLUDED_ATTRIBUTE_VALUE;const DEFAULT_TRANSFORM_DATA=null;exports.DEFAULT_TRANSFORM_DATA=null;const Selectors={css:"css",xpath:"xpath",smart:"smart"};exports.Selectors=Selectors;const DEFAULT_TIME_OUT=500;exports.DEFAULT_TIME_OUT=500;

},{"url-template":59}],104:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkEditor=checkEditor;var _roleUtils=require("./playwright/roleUtils"),_constants=require("./constants"),_element=require("./element"),_page=require("./page"),_commons=require("./commons");let currentEditor=null,hasEditAction=!1;const resetState=()=>{currentEditor=null,hasEditAction=!1},isSelect2=t=>{const{select2Enabled:e}=(0,_commons.getSessionData)();if(!e)return!1;const{targetElement:r,action:i}=t;if(i===_constants.UI_ACTION.CLICK){const t=r.closest(".select2-selection");return!!t&&t.role===_roleUtils.Role.COMBOBOX}return!1};function checkEditor(t){const{targetElement:e}=t,r=isSelect2(t)?null:(0,_roleUtils.findEditor)(e);if(!currentEditor&&r===e&&("textarea"===(0,_page.getTagName)(r)||"input"===(0,_page.getTagName)(r))){return{skip:!0,skipFlowing:(0,_element.isChildOf)(r,currentEditor)}}if(!currentEditor)return currentEditor=r,hasEditAction=t.action===_constants.UI_ACTION.INPUT,{skip:!0,retarget:r,skipFlowing:!!r};const i=(0,_element.isChildOf)(r,currentEditor);if(r!==currentEditor&&!i){if(hasEditAction){const t={timestamp:Date.now(),action:_constants.UI_ACTION.INPUT,target:currentEditor,skip:!1};return resetState(),currentEditor=r,t}return resetState(),currentEditor=r,{skip:!0,skipFlowing:!!r}}return hasEditAction||t.action!==_constants.UI_ACTION.INPUT||(hasEditAction=!0),{skip:!0,skipFlowing:!0}}

},{"./commons":102,"./constants":103,"./element":105,"./page":110,"./playwright/roleUtils":111}],105:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.elementContainsHover=elementContainsHover,exports.findHovers=findHovers,exports.findParentHover=findParentHover,exports.getCssSelector=getCssSelector,exports.getPlaywrightSelectors=getPlaywrightSelectors,exports.isChildOf=isChildOf;var _finder=require("@medv/finder"),_commons=require("./commons"),_logging=_interopRequireDefault(require("./logging")),_constants=require("./constants"),_selectorGenerator=_interopRequireDefault(require("./playwright/selectorGenerator")),_config=require("../config/config");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const PSEUDO_HOVER_CLASS_LENGTH=":hover".length,ALLOWED_ATTRIBUTES=new Set(["id","class","name","for","type","role","disabled","readonly","checked","selected","multiple","required"]);function getCssSelector(e){const t=[];if(e&&e.nodeType)try{const r=(0,_finder.finder)(e,{attr:(e,t)=>ALLOWED_ATTRIBUTES.has(e)});t.push(r)}catch(e){(0,_logging.default)(e)}return t}function getPlaywrightSelectors(e){const{collector:{smart_text:t}}=(0,_config.getConfigs)();try{const r=(0,_selectorGenerator.default)(),{selectors:n}=r.generateSelector(e,{timeout:1e3,multiple:!0,noText:!t}),o=(0,_selectorGenerator.default)(!0),{selectors:s}=o.generateSelector(e,{timeout:1e3,multiple:!0});if(n&&s){const e=new Set,t=[];return[...n,...s].forEach(r=>{e.has(r)||(e.add(r),t.push(r))}),t}return n||s}catch(e){(0,_logging.default)(e)}return[]}function elementContainsHover(e){if(e.hasAttribute(`data-${_constants.SESSION_PREFIX}hoverable`))return!0;const t=document.styleSheets;for(const r in t)try{const n=t[r].rules||t[r].cssRules;for(const t in n)try{const{selectorText:r}=n[t];if(r&&r.includes(":hover")){const t=r.split(",");for(let r of t)if(r){const t=(r=r.trim()).lastIndexOf(":hover");if(t>=0&&t<r.length-PSEUDO_HOVER_CLASS_LENGTH){const n=r.substring(0,t);if(e.matches(n))return e.setAttribute(`data-${_constants.SESSION_PREFIX}hoverable`,!0),!0}}}}catch(e){(0,_logging.default)(e)}}catch(e){(0,_logging.default)(e)}return!1}function findParentHover(e,t){if(t){let r=t.parentElement;for(;r;){const t=r.getAttribute(`data-${_constants.SESSION_PREFIX}last-action-id`);if(t&&t!==e){const e=(0,_commons.getSessionData)().lastHoverActions[t];if(e)return e}r=r.parentElement}}return null}function findHovers(e){let t=[];let r=findParentHover(null,e);for(;r&&!r.tracked;)t=[{...r,parent_action:null},...t],r=r.parent_action;return t}function isChildOf(e,t){let r=e;for(;r;){if(r===t)return!0;r=r.parentElement}return!1}

},{"../config/config":76,"./commons":102,"./constants":103,"./logging":108,"./playwright/selectorGenerator":112,"@medv/finder":1}],106:[function(require,module,exports){
"use strict";function getTagName(e){return e.tagName.toLowerCase()}function getFormElement(e){let t=e;for(;t;){if("form"===getTagName(t))return t;t=t.parentElement}return null}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFormElement=getFormElement;

},{}],107:[function(require,module,exports){
"use strict";function getInputMetadata(t){const e={};t.placeholder&&(e.place_holder=t.placeholder),t.autocomplete&&(e.autocomplete=t.autocomplete);const a=t&&t.labels&&t.labels[0];return a&&a.textContent&&(e.label=a.textContent),t.dataset&&0!==Object.keys(t.dataset).length&&(e.custom_data_attr={...t.dataset}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getInputMetadata=getInputMetadata;

},{}],108:[function(require,module,exports){
"use strict";function log(...e){window.location.hostname.includes("localhost")||window.trafficAgentLoggingEnabled?console.log.apply(null,e):window.trafficListenerLastLogMessage=e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default=log;exports.default=_default;

},{}],109:[function(require,module,exports){
"use strict";function getElementXPath(e){if(e===document.body)return`//${String(e.tagName).toLowerCase()}`;let t=0;const n=e.parentNode.childNodes;for(let r=0;r<n.length;r+=1){const o=n[r];if(o===e)return`${getElementXPath(e.parentNode)}/${String(e.tagName).toLowerCase()}[${t+1}]`;1===o.nodeType&&o.tagName===e.tagName&&(t+=1)}return null}function getLoginForm(e=null){const t=e||document.querySelector("[type=password]");if(t){const e=t.form;if(e){if(e.querySelectorAll("[type=password]").length>1)return{};const n=Array.from(e.querySelectorAll("input[type=text], input[type=email], input[type=tel]")).filter(e=>!e.hidden&&e.offsetWidth>1&&e.offsetHeight>1);if(n&&n.length>=1){const r=n[0];let o=e.querySelectorAll("[type=submit]");return o=o&&o.length>0?o[0]:(o=e.querySelectorAll("button"))[o.length-1],{form:{xpath:getElementXPath(e),element:e},username:{xpath:getElementXPath(r),element:r},password:{xpath:getElementXPath(t),element:t},submit_button:{xpath:getElementXPath(o),element:o}}}}}return{}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLoginForm=getLoginForm;

},{}],110:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getElementKey=getElementKey,exports.getExtraAttributes=getExtraAttributes,exports.getTagName=getTagName;var _filterConfig=require("../filter/filterConfig");function getTagName(t){return t.tagName.toLowerCase()}function getXPath(t){const e=getTagName(t);if(!t.parentElement)return`//${e}`;let r=0;const i=t&&t.parentElement&&t.parentElement.children;if(!i)return null;for(let a=0;a<i.length;a+=1){const n=i[a];if(getTagName(n)===e&&(r+=1),n===t){let i;return i="svg"===e?"*[name()='svg']":e,`${getXPath(t.parentElement)}/${i}[${r}]`}}return null}function getElementKey(t){return getXPath(t).toLowerCase()}const TAGS_TO_COLLECT_ATTRIBUTES=["th","button","a","link"];function getExtraAttributes(t){const e={};t.hasAttribute("title")&&(e.title=_filterConfig.filterService.filterRawData(t.getAttribute("title"))),t.hasAttribute("type")&&(e.type=t.getAttribute("type"),"submit"===e.type&&t.hasAttribute("value")&&(e.value=t.getAttribute("value"))),t.hasAttribute("name")&&(e.name=t.getAttribute("name")),t.hasAttribute("href")&&(e.href=t.getAttribute("href")),t.hasAttribute("data-testid")&&(e["data-testid"]=t.getAttribute("data-testid")),t.hasAttribute("id")&&(e.id=t.getAttribute("id"));const r=getTagName(t);return!getXPath(t).includes("td")&&TAGS_TO_COLLECT_ATTRIBUTES.includes(r)&&(e.text=_filterConfig.filterService.filterRawData(t.innerText)),"select"===r&&(e.multiple=t.multiple),e}

},{"../filter/filterConfig":79}],111:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Role=void 0,exports.findEditor=findEditor,exports.generate=generate,exports.getInteractiveAriaRole=getInteractiveAriaRole,exports.getNearestInteractiveAriaRole=getNearestInteractiveAriaRole,exports.getParentByRole=getParentByRole;var _injectedScript=require("playwright-core/lib/utils/injectedScript"),_eventContext=require("../../uploader/eventContext"),_config=require("../../config/config");const Role={TEXTBOX:"textbox",CODE:"code",COMBOBOX:"combobox"};exports.Role=Role;const getinjectedScript=()=>new((0,_injectedScript.InjectedScript)())(window,!1,"javascript","testId",1,"chrome",[]),validInteractiveAriaRoles=["button","checkbox","combobox","input","label","link","menu","menuitem","menuitemcheckbox","menuitemradio","option","progressbar","radio","searchbox","select","slider","spinbutton","switch","tab","textbox","tree","treeitem"];function getImplicitInteractiveAriaRole(e,t){const{elementSafeTagName:n,kImplicitRoleByTagName:i}=e.utils,r=i[n(t)]&&i[n(t)](t)||"";return r||"A"!==n(t)?r||"LABEL"!==n(t)?r:"label":"link"}function getInteractiveAriaRole(e){const t=getinjectedScript(),{getExplicitAriaRole:n}=t.utils,i=n(e);if(i&&validInteractiveAriaRoles.includes(i))return i;const r=getImplicitInteractiveAriaRole(t,e);return r&&validInteractiveAriaRoles.includes(r)?r:e instanceof HTMLElement&&e.isContentEditable?"textbox":null}function getNearestInteractiveAriaRole(e){let t=e;for(;t;){const e=getInteractiveAriaRole(t);if(e)return{element:t,role:e};t=t.parentElement}return null}function getParentByRole(e,t){let n=e;for(;n;){if(getInteractiveAriaRole(n)===t)return n;n=n.parentElement}return null}function reduceTextContent(e){const t=(0,_config.getConfigs)().context_collector.text_length||40;return(e=e.trim())?e.length>t?`${e.slice(0,t)}...`:e:""}function renderTag(e,t,n,i){let r="div";const o=new _eventContext.DomElement;switch(t){case"button":r="button";break;case"link":r="a";break;case"textbox":r="input";break;case"label":r="label";break;default:r="div"}return o.class_name=i||void 0,o.role=t,o.tag_name=r,o.is_target=n,o}function generate(e){const t=getinjectedScript(),n=getNearestInteractiveAriaRole(t.retarget(e,"follow-label")||e);if(!n)return null;const i=n.element,r=[];let o=i;for(;o;)r.push(o),o=o.parentElement;const l=[];let c=!1;const a=e=>{if(e.nodeType===Node.TEXT_NODE){if(!c&&e.nodeValue){const t=reduceTextContent(e.nodeValue);if(t){const e=new _eventContext.DomElement;e.text_content=t,l.push(e),c=!0}}return!1}if(e.nodeType===Node.ELEMENT_NODE){let n=!1;const o=e;if("SCRIPT"===o.nodeName||"STYLE"===o.nodeName||"NOSCRIPT"===o.nodeName)return!1;const s=r.includes(o);if(s||t.utils.isElementVisible(o)){const t=getInteractiveAriaRole(o);if(t){const r=o===i,{className:a}=o,u=renderTag(e,t,r,a);if(u.element=e,l.push(u),c=!1,r&&(n=!0),!s||r)return n}if(!n&&!t||s){const e=c;for(let e=o.firstChild;e;e=e.nextSibling)if(n=a(e))return n;c=e}}}return!1};a(t.document.body);let s=[];const u=(0,_config.getConfigs)().context_collector.max_dom_context||20;return(s=l.length>u?l.slice(-u):l).map(e=>{const n=e;if(!n.text_content&&n.element){const{element:e}=n;let i=e.textContent;i&&(i=i.trim()),i||(i=t.utils.getElementAccessibleName(e,!1)),i||(i="");const r=reduceTextContent(t.utils.escapeHTML(i));n.text_content=r,delete n.element}return n})}function strictGetRole(e,t){const{getExplicitAriaRole:n}=e.utils,i=n(t);if(i&&validInteractiveAriaRoles.includes(i))return i;const r=getImplicitInteractiveAriaRole(e,t);if(r&&validInteractiveAriaRoles.includes(r))return r;if(t instanceof HTMLElement){const e=t.getAttribute("role"),n="true"===t.getAttribute("contenteditable");if(e===Role.TEXTBOX||e===Role.CODE||n)return"textbox"}return null}function findParentByRole(e,t,n){let i=t;for(;i;){if(strictGetRole(e,i)===n)return i;i=i.parentElement}return null}function findEditor(e){return findParentByRole(getinjectedScript(),e,Role.TEXTBOX)}

},{"../../config/config":76,"../../uploader/eventContext":98,"playwright-core/lib/utils/injectedScript":56}],112:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _injectedScript=require("playwright-core/lib/utils/injectedScript");const SelectorGenerator=(0,_injectedScript.InjectedScript)();function createEngineWithTimeTracking(e,t){return{queryAll:(n,r)=>{if(Date.now()>=t)throw new Error(`queryAll(${r}) exceeded timeout`);return e.queryAll(n,r)}}}const originalGenerateSelector=SelectorGenerator.prototype.generateSelector;SelectorGenerator.prototype.generateSelector=function(e,t){if(this._originalEngines||(this._originalEngines=new Map(this._engines)),t&&t.timeout){const{timeout:e}=t,n=Date.now()+e;for(const[e,t]of this._originalEngines)this._engines.get(e)&&this._engines.set(e,createEngineWithTimeTracking(t,n))}else for(const[e,t]of this._originalEngines)this._engines.set(e,t);return originalGenerateSelector.call(this,e,t)};const ignoredEngineNames=["text","text:light","internal:label","internal:text","internal:has-text","internal:has-not-text"],ignoredEngines=ignoredEngineNames.map(e=>({name:e,engine:{queryAll:()=>[]}})),getPlaywrightSelectorGenerator=(e=!1)=>{const t=new SelectorGenerator(window,!1,"javascript","testId",1,"chrome",e?ignoredEngines:[]);if(e){const e=t._engines.get("internal:attr");e&&t._engines.set("internal:attr",{queryAll:(n,r)=>{const i=t.utils.parseAttributeSelector(r,!0);return 1!==i.attributes.length||["alt","title","placeholder","value"].includes(i.attributes[0].name)?[]:e.queryAll(n,r)}})}return t};var _default=getPlaywrightSelectorGenerator;exports.default=_default;

},{"playwright-core/lib/utils/injectedScript":56}],113:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _commons=require("./commons");function getFromSessionStorageAsJson(e){const o=sessionStorage.getItem(e);return o?JSON.parse(o):null}function setToSessionStorageAsJson(e,o){const s=o?JSON.stringify(o):null;sessionStorage.setItem(e,s)}function getFromSessionStorage(e){return sessionStorage.getItem(e)}function setToSessionStorage(e,o){return sessionStorage.setItem(e,o)}function removeFromSessionStorage(e){sessionStorage.removeItem(e)}function getFromLocalStorage(e){return localStorage.getItem(e)}function setToLocalStorage(e,o){return localStorage.setItem(e,o)}var _default={getFromSessionStorageAsJson:getFromSessionStorageAsJson,setToSessionStorageAsJson:(0,_commons.suppressException)(setToSessionStorageAsJson),getFromSessionStorage:getFromSessionStorage,setToSessionStorage:(0,_commons.suppressException)(setToSessionStorage),getFromLocalStorage:getFromLocalStorage,setToLocalStorage:(0,_commons.suppressException)(setToLocalStorage),removeFromSessionStorage:removeFromSessionStorage};exports.default=_default;

},{"./commons":102}]},{},[93]);
