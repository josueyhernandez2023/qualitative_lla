!function(e){"use strict";var t,n=function(){return ol.__string_rec(this,"")},a=a||{};function i(e,t){var n=Object.create(e);for(var a in t)n[a]=t[a];return t.toString!==Object.prototype.toString&&(n.toString=t.toString),n}var r=function(e,t){this.r=new RegExp(e,t.split("u").join(""))};r.__name__=!0,r.prototype={match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&e>=0&&e<this.r.m.length)return this.r.m[e];throw new rl("EReg::matched")}};var o=function(){};o.__name__=!0,o.substr=function(e,t,n){if(null==n)n=e.length;else if(n<0){if(0!=t)return"";n=e.length+n}return e.substr(t,n)},o.remove=function(e,t){var n=e.indexOf(t);return-1!=n&&(e.splice(n,1),!0)},o.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var s=function(){};s.__name__=!0,s.has=function(e,t){for(var n=ul(e);n.hasNext();)if(n.next()==t)return!0;return!1},s.exists=function(e,t){for(var n=ul(e);n.hasNext();)if(t(n.next()))return!0;return!1},s.fold=function(e,t,n){for(var a=ul(e);a.hasNext();)n=t(a.next(),n);return n},s.find=function(e,t){for(var n=ul(e);n.hasNext();){var a=n.next();if(t(a))return a}return null};var l=function(){};l.__name__=!0,l.main=function(){var e=window.BinkiesSettings.IntegrationSettings,t={},n={text:{style:{fontSize:16,padding:"0px 0px 4px 0px",color:"#5a5a5a",borderWidth:"0px 0px 2px 0px",border:"2px solid white"}},active:{text:{style:{color:"#0780EE",borderWidth:"0px 0px 2px 0px",border:"2px solid #0780EE"}}},hover:{text:{style:{color:"#5a5a5a",borderWidth:"0px 0px 2px 0px",border:"2px solid #5a5a5a"}}}},a={id:"gotoroutebutton",settings:{route:"fullscreen",styles:[t,{imageScale:.8,imageSource:{id:"constant",settings:{value:e.IntegrationUrlPath+"/content/FullscreenButton.svg"}},hover:{imageSource:{id:"constant",settings:{value:e.IntegrationUrlPath+"/content/FullscreenButton_hover.svg"}}}}]}},i={id:"gotoroutebutton",settings:{route:"fullscreen/creditcardcomparison",styles:[t,{imageSource:{id:"constant",settings:{value:e.IntegrationUrlPath+"/content/SizeWize.svg"}},hover:{imageSource:{id:"constant",settings:{value:e.IntegrationUrlPath+"/content/SizeWize_hover.svg"}}}}]}},r={id:"gotoroutebutton",settings:{route:"",styles:[t,{imageSource:{id:"constant",settings:{value:e.IntegrationUrlPath+"/content/close.svg"}},hover:{imageSource:{id:"constant",settings:{value:e.IntegrationUrlPath+"/content/close-hover.svg"}}}}]}},o={id:"loadingbar",settings:{backgroundColor:"#ccc",progressColor:"#0780EE"}},s={id:"hand",settings:{imageSource:e.IntegrationUrlPath+"/content/finger.png",circleColor:"#0780EE"}},l=[{bookmark:"front"},{bookmark:"right"},{bookmark:"back"},{bookmark:"left"}],u={id:"gallery",settings:{type:"image",bookmarks:l,distanceBetweenItems:"12px",bookmarkStyles:[{imageScale:.8,aspectRatio:{width:100,height:100}}]}},d={id:"inlinebox",settings:{direction:"horizontal",alignment:"center",components:[u]}},c={id:"integrationplayer",settings:{galleryBookmarks:l,galleryBookmarkWidth:100,galleryBookmarkHeight:100,navigation:{id:"justviewing",settings:{}}}},h={id:"route",settings:{routes:[{route:"",component:c},{route:"fullscreen",component:c},{route:"fullscreen/creditcardcomparison",component:{id:"integrationplayer",settings:{galleryBookmarks:l,galleryBookmarkWidth:100,galleryBookmarkHeight:100,navigation:{id:"comparison",settings:{}}}}}]}},_={id:"stylepane",settings:{style:{background:"white"}}},g={id:"image",settings:{imageSource:{id:"constant",settings:{value:e.IntegrationUrlPath+"/content/logo.svg"}}}},v={id:"conditional",settings:{condition:{id:"mediaquerymatch",settings:{maxWidth:"520px"}},ifFalse:{id:"grid",settings:{rows:["1fr"],columns:["130px","1fr","80px","50px"],areas:[{row:0,column:0,width:4,height:1,component:_},{row:0,column:0,width:1,height:1,component:g,style:{padding:"3px 0px 3px 8px"}},{row:0,column:1,width:1,height:1,component:{id:"navigationbuttons",settings:{distanceBetweenItems:"12px",buttons:[{route:"fullscreen",buttonStyles:[{text:{content:{id:"constant",settings:{value:"Ver el teléfono"}}}},n]},{route:"fullscreen/creditcardcomparison",buttonStyles:[{text:{content:{id:"constant",settings:{value:"Compara el tamaño"}}}},n]}]}}},{row:0,column:3,width:1,height:1,component:r,style:{padding:"10px"}}]}},ifTrue:{id:"grid",settings:{rows:["1fr"],columns:["76px","1fr","40px","36px"],areas:[{row:0,column:0,width:4,height:1,component:_},{row:0,column:0,width:1,height:1,component:g,style:{padding:"3px 0px 3px 3px"}},{row:0,column:1,width:1,height:1,component:{id:"navigationbuttons",settings:{distanceBetweenItems:"10px",buttons:[{route:"fullscreen",buttonStyles:[{text:{content:{id:"constant",settings:{value:"Teléfono"}}}},n]},{route:"fullscreen/creditcardcomparison",buttonStyles:[{text:{content:{id:"constant",settings:{value:"Comparar"}}}},n]}]}}},{row:0,column:3,width:1,height:1,component:r,style:{padding:"10px 10px 10px 0px"}}]}}}},b={id:"grid",settings:{rows:["50px","1fr","70px","8px"],columns:["1fr","50px"],areas:[{row:0,column:0,width:2,height:1,component:v},{row:1,column:0,width:2,height:4,component:h,type:"canvas"},{row:1,column:0,width:2,height:1,component:s,type:"scene"},{row:2,column:0,width:2,height:1,component:d},{row:3,column:0,width:2,height:1,component:o,style:{padding:"3px 0px 0px 0px"}}]}},f={id:"mediaquerymatch",settings:{maxWidth:"960px"}};window.BinkiesIntegrationConfiguration={ContentIdentifierProvider:{id:"regex",settings:{value:{id:"fromjavascript",settings:{attributePath:{id:"constant",settings:{value:"location.href"}}}},regex:"(?:device-code\\/)([^\\?/#]+)"}},ComparisonContentIdentifierProvider:{id:"constant",settings:{value:"credit-card-2024"}},Settings:e,Features:[{Id:"GoogleAnalytics",Settings:{category:"Binkies",events:["IntegrationDisplayMode","IntegrationLoaded","ContentLoaded","Engaged","ContentFound","EnterFullscreen","RouteChanged"]}},{Id:"Root",Settings:{targetElement:{id:"constant",settings:{value:{id:"constant",settings:{value:"lla-device-pdp .mat-grid-tile-content"}}}},fullscreenBackgroundColor:"rgba(255, 255, 255, 0.85)",component:{id:"layout",settings:{onPageLayouts:[{enabled:{id:"mediaquerymatch",settings:{minWidth:"961px"}},component:{id:"grid",settings:{rows:["1fr","55px","2px"],columns:["55px","1fr","55px"],areas:[{row:0,column:0,width:3,height:3,component:h,type:"canvas"},{row:0,column:0,width:3,height:1,component:s,type:"scene"},{row:1,column:1,width:1,height:1,style:{padding:"5px 0px"},component:d},{row:1,column:2,width:1,height:1,style:{padding:"5px"},component:a},{row:1,column:0,width:1,height:1,style:{padding:"5px"},component:i},{row:2,column:0,width:3,height:1,component:o}]}}},{enabled:f,component:{id:"grid",settings:{rows:["1fr","55px","2px"],columns:["55px","1fr","55px"],areas:[{row:0,column:0,width:3,height:3,component:h,type:"canvas"},{row:0,column:0,width:3,height:1,component:s,type:"scene"},{row:0,column:2,width:2,height:1,component:{id:"gotoroutebutton",settings:{route:"fullscreen",styles:[t,{imageScale:1.5,imageSource:{id:"constant",settings:{value:e.IntegrationUrlPath+"/content/hint-es.svg"}}}]}},style:{padding:"15px 0 0 0"}},{row:0,column:1,width:1,height:1,style:{padding:"5px 0px"},component:{id:"gotoroutebutton",settings:{route:"fullscreen",styles:[t]}}},{row:1,column:1,width:1,height:1,style:{padding:"5px 0px"},component:d},{row:1,column:2,width:1,height:1,style:{padding:"5px"},component:a},{row:1,column:0,width:1,height:1,style:{padding:"5px"},component:i},{row:2,column:0,width:3,height:1,component:o}]}}}],behindButtonLayouts:[{enabled:{id:"constant",settings:{value:!0}},component:{id:"grid",settings:{rows:["1fr","70px","5px"],columns:["1fr","50px"],areas:[{row:1,column:1,width:1,height:1,component:{id:"gotoroutebutton",settings:{route:"fullscreen",styles:[t,{imageSource:{id:"constant",settings:{value:e.IntegrationUrlPath+"/content/FullscreenButton_hover.svg"}}}]}},style:{padding:"5px"}},{row:2,column:0,width:3,height:1,component:o}]}}}],fullscreenLayouts:[{enabled:{id:"activestateis",settings:{State:"loading"}},component:{id:"grid",settings:{columns:["50px","1fr","2fr","1fr","50px"],rows:["50px","1fr","200px","12px","1fr","150px"],areas:[{row:0,column:0,width:5,height:1,component:v},{row:2,column:2,width:1,height:1,component:{id:"inlinebox",settings:{direction:"horizontal",alignment:"center",components:[{id:"image",settings:{imageSource:{id:"constant",settings:{value:e.IntegrationUrlPath+"/content/loading-animation.svg"}}}}]}},style:{padding:"15px"}},{row:3,column:2,width:1,height:1,component:o}]}}},{enabled:{id:"mediaquerymatch",settings:{maxHeight:"700px",minAspectRatio:"4/5"}},component:{id:"grid",settings:{rows:["50px","1fr","8px"],columns:["70px","1fr","50px"],areas:[{row:0,column:0,width:3,height:1,component:v},{row:1,column:0,width:3,height:3,component:h,type:"canvas"},{row:1,column:1,width:1,height:2,component:s,type:"scene"},{row:1,column:0,width:1,height:1,component:{id:"inlinebox",settings:{direction:"vertical",alignment:"center",components:[u]}},style:{padding:"0 0 0 8px"}},{row:2,column:0,width:3,height:1,component:o,style:{padding:"3px 0px 0px 0px"}}]}}},{enabled:{id:"mediaquerymatch",settings:{maxHeight:"700px",maxAspectRatio:"4/5"}},component:b},{enabled:{id:"mediaquerymatch",settings:{minHeight:"701px"}},component:b}]}}}},{Id:"NavigationFocus",Settings:{disableNavigation:f}},{Id:"Crossfader",Settings:{}}],IntegrationDisplayMode:{id:"conditional",settings:{condition:{id:"or",settings:{conditions:[{id:"connectionspeedis",settings:{connectionSpeed:"low"}},{id:"elementexists",settings:{value:{id:"cssselector",settings:{selector:{id:"constant",settings:{value:'[class="bundle"]'}}}}}}]}},ifTrue:{id:"constant",settings:{value:"behindbutton"}},ifFalse:{id:"constant",settings:{value:"onpage"}}}}},new kt},Math.__name__=!0;var u=function(){};u.__name__=!0,u.isObject=function(e){if(null==e)return!1;var t=typeof e;return"string"==t||"object"==t&&null==e.__enum__||"function"==t&&null!=(e.__name__||e.__ename__)};var d=function(){};d.__name__=!0,d.string=function(e){return ol.__string_rec(e,"")},d.parseInt=function(e){var t=parseInt(e,!e||"0"!=e[0]||"x"!=e[1]&&"X"!=e[1]?10:16);return isNaN(t)?null:t};var c=function(){};c.__name__=!0,c.startsWith=function(e,t){return e.length>=t.length&&0==e.lastIndexOf(t,0)},c.endsWith=function(e,t){var n=t.length,a=e.length;return a>=n&&e.indexOf(t,a-n)==a-n},c.replace=function(e,t,n){return e.split(t).join(n)};var h=function(){};h.__name__=!0,h.prototype={SetValue:function(e){this.Value=e}};var _=function(e){this.contentQueue=e,this.ContentQueueToSceneItemObserver=new g(this)};_.__name__=!0,_.prototype={_updatedisplayableProductColor:function(){return null==this.contentQueue||null==this.contentQueue.DisplayableProductColor?null:this.contentQueue.DisplayableProductColor},_updateReady:function(){return null!=this.displayableProductColor&&(!!this.displayableProductColor.Color.ReadyForCustomer&&this.displayableProductColor.Color.LoadState==L.Loaded)},_updateComposition:function(){return this.Ready?this.displayableProductColor.Product.Composition:this.Composition},_updateOptionUId:function(){return this.Ready?this.displayableProductColor.Color.OptionUId:this.OptionUId},_updateProductUId:function(){return this.Ready?this.displayableProductColor.Color.ProductUId:this.ProductUId}};var g=function(e){var t=this;this.state_displayableProductColor=!1,this.state_Ready=!1,this.state_Composition=!1,this.state_OptionUId=!1,this.state_ProductUId=!1;var n=function(){e.displayableProductColor=e._updatedisplayableProductColor(),t.state_displayableProductColor=!0},a=function(){e.Ready=e._updateReady(),t.state_Ready=!0},i=function(){e.Composition=e._updateComposition(),t.state_Composition=!0},r=function(){e.OptionUId=e._updateOptionUId(),t.state_OptionUId=!0},o=function(){e.ProductUId=e._updateProductUId(),t.state_ProductUId=!0},s=function(e,a){t.state_displayableProductColor=b.ScheduleCallback(t.state_displayableProductColor,n)},l=function(e,n){t.state_Ready=b.ScheduleCallback(t.state_Ready,a)},u=function(e,n){t.state_Ready=b.ScheduleCallback(t.state_Ready,a)},d=function(e,n){t.state_OptionUId=b.ScheduleCallback(t.state_OptionUId,r)},c=function(e,n){t.state_ProductUId=b.ScheduleCallback(t.state_ProductUId,o)},h=function(e,n){null!=e&&(Ie.HiddenForget(e,"ReadyForCustomer",l),Ie.HiddenForget(e,"LoadState",u),Ie.HiddenForget(e,"OptionUId",d),Ie.HiddenForget(e,"ProductUId",c)),null!=n&&(Ie.HiddenObserve(n,"ReadyForCustomer",l),Ie.HiddenObserve(n,"LoadState",u),Ie.HiddenObserve(n,"OptionUId",d),Ie.HiddenObserve(n,"ProductUId",c)),t.state_Ready=b.ScheduleCallback(t.state_Ready,a),t.state_OptionUId=b.ScheduleCallback(t.state_OptionUId,r),t.state_ProductUId=b.ScheduleCallback(t.state_ProductUId,o)},_=function(e,n){t.state_Composition=b.ScheduleCallback(t.state_Composition,i)},g=function(e,n){null!=e&&Ie.HiddenForget(e,"Composition",_),null!=n&&Ie.HiddenObserve(n,"Composition",_),t.state_Composition=b.ScheduleCallback(t.state_Composition,i)};Ie.HiddenObserve(e,"contentQueue",(function(e,a){null!=e&&Ie.HiddenForget(e,"DisplayableProductColor",s),null!=a&&Ie.HiddenObserve(a,"DisplayableProductColor",s),t.state_displayableProductColor=b.ScheduleCallback(t.state_displayableProductColor,n)})),Ie.HiddenObserve(e,"displayableProductColor",(function(e,n){null!=e&&(Ie.HiddenForget(e,"Color",h),Ie.HiddenForget(e,"Product",g)),null!=n&&(Ie.HiddenObserve(n,"Color",h),Ie.HiddenObserve(n,"Product",g)),t.state_Ready=b.ScheduleCallback(t.state_Ready,a),t.state_Composition=b.ScheduleCallback(t.state_Composition,i),t.state_OptionUId=b.ScheduleCallback(t.state_OptionUId,r),t.state_ProductUId=b.ScheduleCallback(t.state_ProductUId,o)})),Ie.HiddenObserve(e,"Ready",(function(e,n){t.state_Composition=b.ScheduleCallback(t.state_Composition,i),t.state_OptionUId=b.ScheduleCallback(t.state_OptionUId,r),t.state_ProductUId=b.ScheduleCallback(t.state_ProductUId,o)})),Ie.HiddenObserve(e,"Composition",(function(e,n){t.state_Composition=b.ScheduleCallback(t.state_Composition,i)})),Ie.HiddenObserve(e,"OptionUId",(function(e,n){t.state_OptionUId=b.ScheduleCallback(t.state_OptionUId,r)})),Ie.HiddenObserve(e,"ProductUId",(function(e,n){t.state_ProductUId=b.ScheduleCallback(t.state_ProductUId,o)})),n(),a(),i(),r(),o()};g.__name__=!0;var v=function(){this.listeners=[],this.firing=!1};v.__name__=!0,v.prototype={Register:function(e){this.firing?(null==this.listenersToRegister&&(this.listenersToRegister=[]),this.listenersToRegister.push(e)):this.listeners.push(e)},Fire:function(e){this.firing=!0;for(var t=0,n=this.listeners.length;t<n;)this.listeners[t++](e);if(this.firing=!1,null!=this.listenersToDeregister){for(var a=0,i=this.listenersToDeregister;a<i.length;)o.remove(this.listeners,i[a++]);this.listenersToDeregister=null}if(null!=this.listenersToRegister){for(var r=0,s=this.listenersToRegister;r<s.length;)this.listeners.push(s[r++]);this.listenersToRegister=null}}};var b=function(){};b.__name__=!0,b.ScheduleCallback=function(e,t){return 1==e?(0==b.callbacks.length&&(f.UpdateComputedProperties=!0),b.callbacks.push(t),!1):(null==e&&window.console.exception("Computed property setter loop detected."),!1)},b.UpdateComputedProperties=function(){for(var e=0;e!=b.callbacks.length;)b.callbacks[e](),++e;b.callbacks.length=0};var f=function(){};f.__name__=!0,f.Update=function(e){f.requestId=window.requestAnimationFrame(f.Update),f.ElapsedTime=.001*(e-f.lastUpdateTime),f.TotalElapsedTime=.001*e,f.lastUpdateTime=e,f.nextFrameEvent.Fire(f.ElapsedTime),f.UpdateComputedProperties&&(b.UpdateComputedProperties(),f.UpdateComputedProperties=!1),f.afterComputedPropertiesUpdated.Fire(f.ElapsedTime),f.FrameId++};var p=function(){this.SceneItems=[]};p.__name__=!0,p.prototype={SetSceneItems:function(e){this.SceneItems=e}};var m=function(){};m.__name__=!0,m.InsertSort=function(e,t){if(!(e.length<=1))for(var n=0,a=e.length;n<a;)for(var i=n++,r=e[i],o=-1,s=0,l=i+1;s<l;){var u=i-s++-1,d=e[u];if(-1==u||t(r,d)>=0){i!=(o=u+1)&&(e[o]=r);break}e[u+1]=d}};var S={__name__:!0},C=function(e,t){if(this.generatedCount=0,this.length<1)throw new rl("Length of the unique string must be larger than 0");this.alphabet=e,this.length=t};C.__name__=!0,C.prototype={Get:function(){for(var e="",t=this.generatedCount;t>=0;){var n=t%this.alphabet.length;e=this.alphabet[n]+e,t=((t-n)/this.alphabet.length|0)-1}var a=e;if(null!=this.length){var i=a,r=this.length-i.length;if(r>0){for(var o=this.alphabet[0],s=[],l=0;l<r;)++l,s.push(o);i=s.join("")+i}else if(r<0)throw new rl("Out of unique identifiers!");a=i}return this.generatedCount++,a}};var y=function(e){$.AddListener("bookmarkclicked",(function(t,n){e.OnBookmarkClicked(t,n)})),$.AddListener("contentloaded",(function(t,n){e.OnContentLoaded(t,n)})),$.AddListener("contentswitched",(function(t,n){e.OnContentSwitched(t,n)})),$.AddListener("contentfound",(function(t,n){e.OnContentFound(t,n)})),$.AddListener("contentnotfound",(function(t,n){e.OnContentNotFound(t,n)})),$.AddListener("driverinfo",(function(t,n){e.OnDriverInfo(t,n)})),$.AddListener("engaged",(function(t,n){e.OnEngaged(t,n)})),$.AddListener("enterfullscreen",(function(t,n){e.OnEnterFullscreen(t,n)})),$.AddListener("leavefullscreen",(function(t,n){e.OnLeaveFullscreen(t,n)})),$.AddListener("integrationloaded",(function(t,n){e.OnIntegrationLoaded(t,n)})),$.AddListener("supports3d",(function(t,n){e.OnSupports3D(t,n)})),$.AddListener("resetnavigation",(function(t,n){e.OnResetNavigation(t,n)})),$.AddListener("routechanged",(function(t,n){e.OnRouteChanged(t,n)})),$.AddListener("canshare",(function(t,n){e.OnCanShare(t,n)})),$.AddListener("sharestarted",(function(t,n){e.OnShareStarted(t,n)})),$.AddListener("sharecompleted",(function(t,n){e.OnShareCompleted(t,n)})),$.AddListener("linkfollowed",(function(t,n){e.OnLinkFollowed(t,n)})),$.AddListener("integrationdisplaymode",(function(t,n){e.OnIntegrationDisplayMode(t,n)})),$.AddListener("testvariant",(function(t,n){e.OnTestVariant(t,n)})),$.AddListener("flipperclicked",(function(t,n){e.OnFlipperClicked(t,n)}))};y.__name__=!0;var k=function(e,t){if(null==e&&(e=100),this.messageQueue=[],null==t)throw new rl("Argument null exception. Parameter: decoratee");this.timeout=e,this.decoratee=t};k.__name__=!0,k.prototype={TryToSendMessages:function(e){null!=this.timeoutHandle&&window.clearTimeout(this.timeoutHandle),this.timeoutHandle=window.setTimeout(dl(this,this.OnTimeout),this.timeout);for(var t=0;t<e.length;)this.messageQueue.push(e[t++]);return!0},OnTimeout:function(){this.timeoutHandle=null,this.decoratee.TryToSendMessages(this.messageQueue),this.messageQueue.length=0}};var V=function(e,t){if(null==e&&(e=1e3),null==t)throw new rl("Argument null exception. Parameter: decoratee");this.decoratee=t,this.timeout=e};V.__name__=!0,V.prototype={TryToSendMessages:function(e){var t=this,n=this.decoratee.TryToSendMessages(e);return n||window.setTimeout((function(){return t.TryToSendMessages(e)}),this.timeout),n}};var H=function(e,t){null==e&&(e=12e5),this.CanSend=!0;var n=this;if(null==t)throw new rl("Argument null exception. Parameter: decoratee");this.timeout=e,this.decoratee=t,window.setTimeout((function(){return n.CanSend=!1}),e)};H.__name__=!0,H.prototype={TryToSendMessages:function(e){return!!this.CanSend&&this.decoratee.TryToSendMessages(e)}};var O=function(e,t,n){if(tl.IsNullOrWhiteSpace(e))throw new rl("Value cannot be null or whitespace. Parameter name: accessKey");if(tl.IsNullOrWhiteSpace(t))throw new rl("Value cannot be null or whitespace. Parameter name: viewId");if(null==n)throw new rl("Argument null exception. Parameter: endpoint");this.accessKey=e,this.viewId=t,this.endpoint=n,this.startTimestamp=(new Date).getTime(),new y(this)};O.__name__=!0,O.prototype={OnBookmarkClicked:function(e,t){this.QueueMessage("BookmarkClicked",{Name:e.Name},t)},OnContentLoaded:function(e,t){},OnContentSwitched:function(e,t){this.QueueMessage("ContentSwitched",{ProductUId:e.ProductUId,OptionUId:e.OptionUId},t)},OnContentFound:function(e,t){},OnContentNotFound:function(e,t){},OnDriverInfo:function(e,t){var n={};null!=e.DriverInfo&&(n={Antialias:e.DriverInfo.Antialias,Renderer:e.DriverInfo.Renderer,WebGLVersion:e.DriverInfo.WebGLVersion}),this.QueueMessage("DriverInfo",n,t)},OnEngaged:function(e,t){this.QueueMessage("Engaged",{},t)},OnEnterFullscreen:function(e,t){this.QueueMessage("EnterFullscreen",{},t)},OnLeaveFullscreen:function(e,t){this.QueueMessage("LeaveFullscreen",{},t)},OnIntegrationLoaded:function(e,t){this.QueueMessage("IntegrationLoaded",{},t)},OnSupports3D:function(e,t){this.QueueMessage("Supports3D",{Supported:e.Supported,Reason:e.Reason},t)},OnResetNavigation:function(e,t){},OnRouteChanged:function(e,t){this.QueueMessage("RouteChanged",{Route:e.Route},t)},OnCanShare:function(e,t){this.QueueMessage("CanShare",{},t)},OnShareStarted:function(e,t){this.QueueMessage("ShareStarted",{},t)},OnShareCompleted:function(e,t){this.QueueMessage("ShareCompleted",{},t)},OnLinkFollowed:function(e,t){this.QueueMessage("LinkFollowed",{Href:e.Href},t)},OnIntegrationDisplayMode:function(e,t){this.QueueMessage("IntegrationDisplayMode",{IntegrationDisplayMode:e.IntegrationDisplayMode},t)},OnTestVariant:function(e,t){this.QueueMessage("TestVariant",{TestVariant:e.TestVariantName},t)},OnFlipperClicked:function(e,t){this.QueueMessage("FlipperClicked",{Direction:e.Direction},t)},QueueMessage:function(e,t,n){var a=t;a.MessageType=e,a.AccessKey=this.accessKey,a.ViewId=this.viewId,a.TimeSinceStart=n-this.startTimestamp,a.Salt=1e5+Math.floor(9e5*Math.random()),this.endpoint.TryToSendMessages([{data:a,timestamp:n}])}};var w=function(e,t){this.CanSend=!0,this.statsUrl=e,this.token=t,this.CanSend=!(tl.IsNullOrWhiteSpace(e)||tl.IsNullOrWhiteSpace(t))};w.__name__=!0,w.prototype={TryToSendMessages:function(e){if(!this.CanSend)return!1;this.CanSend=!1;for(var t=this.CreateRequest(),n=new Array(e.length),a=0,i=e.length;a<i;){var r=a++;n[r]={Body:JSON.stringify(e[r].data)}}return t.send(JSON.stringify(n)),!0},CreateRequest:function(){var e=this,t=new XMLHttpRequest;return t.onreadystatechange=function(){4==t.readyState&&(200!=t.status&&201!=t.status||(e.CanSend=!0))},t.withCredentials=!0,t.open("POST",this.statsUrl,!0),t.setRequestHeader("Content-Type","application/vnd.microsoft.servicebus.json"),t.setRequestHeader("Authorization",this.token),t}};var F=function(e){this.contentItems=[],this.contentIds=[],this.ProductUId=e.productUId,this.OptionUId=e.optionUId,this.ReadyForCustomer=!tl.IsNullOrWhiteSpace(e.path),this.ColorObserver=new x(this)};F.__name__=!0,F.prototype={_updateLoadState:function(){if(0==this.contentItems.length)return L.NotLoaded;for(var e=0,t=0,n=!0,a=0,i=this.contentItems;a<i.length;){var r=i[a];if(++a,r.LoadState==L.NotLoaded)return L.NotLoaded;if(0==r.TotalSizeInBytes&&r.LoadState!=L.Loaded)return L.Loading(0);e+=r.BytesDownloaded,t+=r.TotalSizeInBytes,r.LoadState!=L.Loaded&&(n=!1)}return n?L.Loaded:L.Loading(t>0?e/t:0)},AddContentId:function(e){-1==this.contentIds.indexOf(e)&&this.contentIds.push(e)},SetContentItems:function(e){if(0!=this.contentItems.length)throw new rl("Only allowed to set content items once");for(var t=0;t<e.length;){var n=e[t];++t,-1==this.contentItems.indexOf(n)&&this.contentItems.push(n)}},StartLoadingIfReadyForCustomer:function(){if(this.ReadyForCustomer)for(var e=0,t=this.contentItems;e<t.length;)t[e++].StartLoading()}};var x=function(e){var t=this;this.state_LoadState=!1;var n=function(){e.LoadState=e._updateLoadState(),t.state_LoadState=!0},a=function(e,a){t.state_LoadState=b.ScheduleCallback(t.state_LoadState,n)},i=function(e,a){t.state_LoadState=b.ScheduleCallback(t.state_LoadState,n)},r=function(e,a){t.state_LoadState=b.ScheduleCallback(t.state_LoadState,n)};Ie.HiddenObserve(e,"contentItems",(function(e,o){null!=e&&(Ie.HiddenForget(e,"LoadState",a),Ie.HiddenForget(e,"TotalSizeInBytes",i),Ie.HiddenForget(e,"BytesDownloaded",r)),null!=o&&(Ie.HiddenObserve(o,"LoadState",a),Ie.HiddenObserve(o,"TotalSizeInBytes",i),Ie.HiddenObserve(o,"BytesDownloaded",r)),t.state_LoadState=b.ScheduleCallback(t.state_LoadState,n)})),n()};x.__name__=!0;var D=function(e,t,n,a,i){this.BytesDownloaded=0,this.TotalSizeInBytes=0,this.LoadState=L.NotLoaded,this.supportsCompression=i,this.filename=e,this.path=t,this.TrackProgress=n,this.completedCallback=a};D.__name__=!0,D.prototype={GetXHRObject:function(e){var t=this,n=null,a=new XMLHttpRequest;return a.onprogress=function(e){var a=e.total;null!=n&&(0==a||a>n)&&(a=n),(e.lengthComputable||0!=a)&&(t.BytesDownloaded=e.loaded,t.TotalSizeInBytes=a,t.LoadState=L.Loading(e.loaded/a))},a.onreadystatechange=function(){if(2==a.readyState){var e=a.getResponseHeader("x-ms-meta-contentlength");null!=e&&(n=d.parseInt(e))}},a.onload=function(n){t.LoadState!=L.Loaded&&200==a.status&&e(a.response)},a},StartLoading:function(){if(this.LoadState==L.NotLoaded){this.LoadState=L.Loading(0);var e=tl.IsNullOrWhiteSpace(this.path)?this.filename:this.path+"/"+this.filename;this.supportsCompression&&(D.BrowserSupportsBrotli&&0==e.indexOf("https:")?e+=".br":e+=".gz"),this.OnStartLoading(e)}},OnStartLoading:function(e){},OnCompleted:function(){this.LoadState=L.Loaded,null!=this.completedCallback&&this.completedCallback(this)}};var P=function(e,t,n,a){D.call(this,e,t,n,a,!0)};P.__name__=!0,P.__super__=D,P.prototype=i(D.prototype,{OnStartLoading:function(e){var t=this;D.prototype.OnStartLoading.call(this,e);var n=this.GetXHRObject((function(e){t.Composition=Do._a(e),t.OnCompleted()}));n.open("GET",e,!0),n.responseType="arraybuffer",n.send()}});var A=function(){};A.__name__=!0,A.CreateAllImageContentItems=function(e){for(var t=0,n=e.Textures;t<n.length;){var a=[n[t]];++t;var i=G.Map.get(a[0]);null==i&&(-1==a[0].Path.toLowerCase().indexOf("sparklenoisemap.png")&&(i=new N(a[0].Path,null,!0,function(e){return function(t){e[0].Image=t.ImageElement}}(a)),G.Map.set(a[0],i)))}};var I=function(e,t,n){this.productColorProvider=e,this.contentManipulator=n,D.BrowserSupportsBrotli=t,this.ContentDownloaderObserver=new T(this)};I.__name__=!0,I.prototype={_updateDownloadContent:function(){var e=this;if(null==this.productColorProvider||null==this.productColorProvider.ProductColor||null==this.productColorProvider.ProductColor.Product)return!1;if(null==this.productColorProvider||null==this.productColorProvider.ProductColor||null==this.productColorProvider.ProductColor.Color)return!1;var t=this.productColorProvider.ProductColor.Product,n=this.productColorProvider.ProductColor.Color;if(!n.ReadyForCustomer)return!1;if(null!=t.scene){if(0==n.contentItems.length){var a=W.GatherContentItemsForOptionId(t,n.OptionUId);n.SetContentItems(a)}n.StartLoadingIfReadyForCustomer()}else t.scene=new P("scene.mdm",t.Path+"/7",!0,(function(a){e.contentManipulator.process(t,a.Composition),t.Composition=a.Composition,W.AddGeometriesToScene(t),A.CreateAllImageContentItems(t.Composition);var i=W.GatherContentItemsForOptionId(t,n.OptionUId);n.SetContentItems(i),n.StartLoadingIfReadyForCustomer()})),t.geometry=new P("geometry.mdm",t.Path+"/7",!0,(function(e){W.AddGeometriesToScene(t)})),t.scene.StartLoading(),t.geometry.StartLoading();return!0}};var T=function(e){var t=this;this.state_DownloadContent=!1;var n=function(){e.DownloadContent=e._updateDownloadContent(),t.state_DownloadContent=!0},a=function(e,a){t.state_DownloadContent=b.ScheduleCallback(t.state_DownloadContent,n)},i=function(e,a){t.state_DownloadContent=b.ScheduleCallback(t.state_DownloadContent,n)},r=function(e,a){t.state_DownloadContent=b.ScheduleCallback(t.state_DownloadContent,n)},o=function(e,o){null!=e&&(Ie.HiddenForget(e,"scene",a),Ie.HiddenForget(e,"Path",i),Ie.HiddenForget(e,"Composition",r)),null!=o&&(Ie.HiddenObserve(o,"scene",a),Ie.HiddenObserve(o,"Path",i),Ie.HiddenObserve(o,"Composition",r)),t.state_DownloadContent=b.ScheduleCallback(t.state_DownloadContent,n)},s=function(e,a){t.state_DownloadContent=b.ScheduleCallback(t.state_DownloadContent,n)},l=function(e,a){t.state_DownloadContent=b.ScheduleCallback(t.state_DownloadContent,n)},u=function(e,a){t.state_DownloadContent=b.ScheduleCallback(t.state_DownloadContent,n)},d=function(e,a){null!=e&&(Ie.HiddenForget(e,"ReadyForCustomer",s),Ie.HiddenForget(e,"contentItems",l),Ie.HiddenForget(e,"OptionUId",u)),null!=a&&(Ie.HiddenObserve(a,"ReadyForCustomer",s),Ie.HiddenObserve(a,"contentItems",l),Ie.HiddenObserve(a,"OptionUId",u)),t.state_DownloadContent=b.ScheduleCallback(t.state_DownloadContent,n)},c=function(e,a){null!=e&&(Ie.HiddenForget(e,"Product",o),Ie.HiddenForget(e,"Color",d)),null!=a&&(Ie.HiddenObserve(a,"Product",o),Ie.HiddenObserve(a,"Color",d)),t.state_DownloadContent=b.ScheduleCallback(t.state_DownloadContent,n)};Ie.HiddenObserve(e,"productColorProvider",(function(e,a){null!=e&&Ie.HiddenForget(e,"ProductColor",c),null!=a&&Ie.HiddenObserve(a,"ProductColor",c),t.state_DownloadContent=b.ScheduleCallback(t.state_DownloadContent,n)})),n()};T.__name__=!0;var M=function(e,t,n){this.contentIdHistory=[],this.productColorHistory=[],this.contentIdentifierProvider=e,this.contentSettingsProvider=t,this.productRepository=null!=n?n:new U,this.nextFrameHandler=new Se,Ie.HiddenObserve(this.contentIdentifierProvider,"Value",dl(this,this.ObserveIdentifier),!0),this.ContentQueueObserver=new R(this)};M.__name__=!0,M.prototype={_updateLoadState:function(){return null==this.LoadingProductColor||null==this.LoadingProductColor.Color?null:this.LoadingProductColor.Color.LoadState},_updateLatestProductColor:function(){var e=this.productColorHistory;return e[e.length-1]},_updateLoadingProductColor:function(){var e=this.productColorHistory[this.productColorHistory.length-1];return null!=e&&2==e.Color.LoadState._hx_index?e:null},_updateDisplayableProductColor:function(){for(var e=1,t=this.productColorHistory.length+1;e<t;){var n=this.productColorHistory[this.productColorHistory.length-e++];if(null==n||!n.Color.ReadyForCustomer)return null;if(n.Color.LoadState==L.Loaded)return n}return null},ObserveIdentifier:function(e,t){var n=this;this.nextFrameHandler.SetCallback((function(){var e=n.productColorHistory.length;if(null!=t){var a=n.productRepository.FindExistingProductColor(t);n.productColorHistory.splice(e,1,a),n.contentIdHistory.splice(e,1,t),null==a&&n.contentSettingsProvider.Request(t,(function(i){null!=i.productUId?$.Fire("contentfound",new ne(t)):$.Fire("contentnotfound",new ie(t)),a=n.productRepository.AddContentSettings(t,i),n.productColorHistory.splice(e,1,a),n.contentIdHistory.splice(e,1,t)}))}else n.productColorHistory.push(null),n.contentIdHistory.push(null)}))}};var R=function(e){var t=this;this.state_LoadState=!1,this.state_LatestProductColor=!1,this.state_LoadingProductColor=!1,this.state_DisplayableProductColor=!1;var n=function(){e.LoadState=e._updateLoadState(),t.state_LoadState=!0},a=function(){e.LatestProductColor=e._updateLatestProductColor(),t.state_LatestProductColor=!0},i=function(){e.LoadingProductColor=e._updateLoadingProductColor(),t.state_LoadingProductColor=!0},r=function(){e.DisplayableProductColor=e._updateDisplayableProductColor(),t.state_DisplayableProductColor=!0},o=function(e,a){t.state_LoadState=b.ScheduleCallback(t.state_LoadState,n)},s=function(e,a){null!=e&&Ie.HiddenForget(e,"LoadState",o),null!=a&&Ie.HiddenObserve(a,"LoadState",o),t.state_LoadState=b.ScheduleCallback(t.state_LoadState,n)},l=function(e,n){t.state_LoadingProductColor=b.ScheduleCallback(t.state_LoadingProductColor,i),t.state_DisplayableProductColor=b.ScheduleCallback(t.state_DisplayableProductColor,r)},u=function(e,n){t.state_DisplayableProductColor=b.ScheduleCallback(t.state_DisplayableProductColor,r)},d=function(e,n){null!=e&&(Ie.HiddenForget(e,"LoadState",l),Ie.HiddenForget(e,"ReadyForCustomer",u)),null!=n&&(Ie.HiddenObserve(n,"LoadState",l),Ie.HiddenObserve(n,"ReadyForCustomer",u)),t.state_LoadingProductColor=b.ScheduleCallback(t.state_LoadingProductColor,i),t.state_DisplayableProductColor=b.ScheduleCallback(t.state_DisplayableProductColor,r)};Ie.HiddenObserve(e,"LoadingProductColor",(function(e,a){null!=e&&Ie.HiddenForget(e,"Color",s),null!=a&&Ie.HiddenObserve(a,"Color",s),t.state_LoadState=b.ScheduleCallback(t.state_LoadState,n)})),Ie.HiddenObserve(e,"productColorHistory",(function(e,n){null!=e&&Ie.HiddenForget(e,"Color",d),null!=n&&Ie.HiddenObserve(n,"Color",d),t.state_LatestProductColor=b.ScheduleCallback(t.state_LatestProductColor,a),t.state_LoadingProductColor=b.ScheduleCallback(t.state_LoadingProductColor,i),t.state_DisplayableProductColor=b.ScheduleCallback(t.state_DisplayableProductColor,r)})),n(),a(),i(),r()};R.__name__=!0;var N=function(e,t,n,a){D.call(this,e,t,n,a,!1)};N.__name__=!0,N.__super__=D,N.prototype=i(D.prototype,{OnStartLoading:function(e){var t=this;D.prototype.OnStartLoading.call(this,e),this.ImageElement=window.document.createElement("img");var n=this.GetXHRObject((function(e){var n=URL.createObjectURL(e);t.ImageElement.onload=function(e){URL.revokeObjectURL(n),t.OnCompleted()},t.ImageElement.src=n}));n.open("GET",e,!0),n.responseType="blob",n.send(null)}});var L=a["binkies.content.LoadState"]={__ename__:!0,__constructs__:["NotLoaded","Loaded","Loading"],NotLoaded:{_hx_index:0,__enum__:"binkies.content.LoadState",toString:n},Loaded:{_hx_index:1,__enum__:"binkies.content.LoadState",toString:n},Loading:(t=function(e){return{_hx_index:2,progress:e,__enum__:"binkies.content.LoadState",toString:n}},t.__params__=["progress"],t)},E=function(){this.manipulators=[],this.manipulators.push(new X)};E.__name__=!0,E.prototype={Add:function(e){this.manipulators.push(e)},process:function(e,t){for(var n=0,a=this.manipulators;n<a.length;)a[n++].process(e,t)}};var B=function(e){this.Colors=[],this.UId=e.productUId,this.Path=e.path};B.__name__=!0,B.prototype={FindOrCreateColor:function(e,t,n){if(n.productUId!=this.UId)return null;tl.IsNullOrWhiteSpace(this.Path)&&(this.Path=n.path);for(var a=this.Colors,i=[],r=0;r<a.length;){var o=a[r];++r,o.OptionUId==n.optionUId&&i.push(o)}var s=i[0];return null==s&&(s=new F(n),this.Colors.push(s)),s.AddContentId(t),s}};var W=function(){};W.__name__=!0,W.GatherContentItemsForOptionId=function(e,t){var n=[];return n.push(e.scene),n.push(e.geometry),W.AddImageContentItemsForOptionId(e,n,t),n},W.AddImageContentItemsForOptionId=function(e,t,n){for(var a=e.Composition,i=a.Options,r=[],o=0;o<i.length;){var s=i[o];++o,s.UID==n&&r.push(s)}for(var l=r[0],u=0,d=a.Nodes.length;u<d;){var c=[u++],h=null==l?null:il.firstWhere(l.NodeOverrides,function(e){return function(t){return t.NodeIndex==e[0]}}(c)),_=W.GetRenderableAtIndex(a,c[0]);null!=_&&(Io.IsHidden(h)||W.AddImageContentItemsForMaterial(t,Io.GetMaterialIndex(h,_),a))}},W.GetRenderableAtIndex=function(e,t){var n=e.Nodes[t];if(null==n)return null;switch(n.content){case 1:return e.Models[n.contentIndex];case 5:return e.Decals[n.contentIndex];default:return null}},W.AddImageContentItemsForMaterial=function(e,t,n){var a=n.Materials[t];if(null!=a){var i,r,o,s=a.Maps;for(var l in s)i=void 0,r=void 0,o=void 0,r=a.Maps[l],null!=(o=n.Textures[r])&&(null!=(i=G.Map.get(o))&&e.push(i))}},W.AddGeometriesToScene=function(e){if(null!=e.scene&&e.scene.LoadState==L.Loaded&&null!=e.geometry&&e.geometry.LoadState==L.Loaded)for(var t=0,n=e.geometry.Composition.Geometries;t<n.length;)e.Composition.Geometries.push(n[t++])};var U=function(){this.products=[]};U.__name__=!0,U.prototype={FindExistingProductColor:function(e){for(var t=0,n=this.products;t<n.length;){var a=n[t];++t;for(var i=0,r=a.Colors;i<r.length;){var o=r[i];if(++i,-1!=o.contentIds.indexOf(e))return{Product:a,Color:o}}}return null},AddContentSettings:function(e,t){var n=this.FindOrCreateProduct(e,t);return{Product:n,Color:n.FindOrCreateColor(n,e,t)}},FindOrCreateProduct:function(e,t){for(var n=this.products,a=[],i=0;i<n.length;){var r=n[i];++i;for(var o,s=null==t.productUId,l=r.Colors,u=[],d=0;d<l.length;){var c=l[d];++d,-1!=c.contentIds.indexOf(e)&&u.push(c)}if(s&&u.length>0)o=!0;else{var h=r.UId==t.productUId;o=!(null!=t.path||!h)||h&&r.Path==t.path}o&&a.push(r)}var _=a[0];return null==_&&(_=new B(t),this.products.push(_)),_}};var G=function(){};G.__name__=!0;var X=function(){this.absoluteUrlTester=new RegExp("^(?:[a-z]+:)?//")};X.__name__=!0,X.prototype={process:function(e,t){for(var n=e.Path+"/7",a=0,i=t.Textures;a<i.length;){var r=i[a];++a,this.absoluteUrlTester.test(r.Path)||(r.Path=n+"/"+r.Path)}}};var Y=function(e){this.contentQueue=e,this.LatestProductColorAdapterObserver=new z(this)};Y.__name__=!0,Y.prototype={_updateProductColor:function(){return this.contentQueue.LatestProductColor}};var z=function(e){var t=this;this.state_ProductColor=!1;var n=function(){e.ProductColor=e._updateProductColor(),t.state_ProductColor=!0},a=function(e,a){t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)};Ie.HiddenObserve(e,"contentQueue",(function(e,i){null!=e&&Ie.HiddenForget(e,"LatestProductColor",a),null!=i&&Ie.HiddenObserve(i,"LatestProductColor",a),t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)})),n()};z.__name__=!0;var Z=function(e){this.contentQueue=e,this.LoadingProductColorAdapterObserver=new Q(this)};Z.__name__=!0,Z.prototype={_updateProductColor:function(){return this.contentQueue.LoadingProductColor}};var Q=function(e){var t=this;this.state_ProductColor=!1;var n=function(){e.ProductColor=e._updateProductColor(),t.state_ProductColor=!0},a=function(e,a){t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)};Ie.HiddenObserve(e,"contentQueue",(function(e,i){null!=e&&Ie.HiddenForget(e,"LoadingProductColor",a),null!=i&&Ie.HiddenObserve(i,"LoadingProductColor",a),t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)})),n()};Q.__name__=!0;var j=function(e,t,n){this.decoratee=e,this.state=t,this.route=n,this.CanShowDecoratorObserver=new q(this)};j.__name__=!0,j.prototype={_updateProductColor:function(){return this.state.WantToShowContent.Value&&this.state.CanShowContent||this.route.ContainsFullscreen&&this.state.CanShowFullscreen?this.decoratee.ProductColor:null}};var q=function(e){var t=this;this.state_ProductColor=!1;var n=function(){e.ProductColor=e._updateProductColor(),t.state_ProductColor=!0},a=function(e,a){t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)},i=function(e,i){null!=e&&Ie.HiddenForget(e,"Value",a),null!=i&&Ie.HiddenObserve(i,"Value",a),t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)},r=function(e,a){t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)},o=function(e,a){t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)},s=function(e,a){t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)},l=function(e,a){t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)};Ie.HiddenObserve(e,"state",(function(e,a){null!=e&&(Ie.HiddenForget(e,"WantToShowContent",i),Ie.HiddenForget(e,"CanShowContent",r),Ie.HiddenForget(e,"CanShowFullscreen",o)),null!=a&&(Ie.HiddenObserve(a,"WantToShowContent",i),Ie.HiddenObserve(a,"CanShowContent",r),Ie.HiddenObserve(a,"CanShowFullscreen",o)),t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)})),Ie.HiddenObserve(e,"route",(function(e,a){null!=e&&Ie.HiddenForget(e,"ContainsFullscreen",s),null!=a&&Ie.HiddenObserve(a,"ContainsFullscreen",s),t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)})),Ie.HiddenObserve(e,"decoratee",(function(e,a){null!=e&&Ie.HiddenForget(e,"ProductColor",l),null!=a&&Ie.HiddenObserve(a,"ProductColor",l),t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)})),n()};q.__name__=!0;var K=function(e,t,n){this.decoratee=e,this.wantToShowContentValue=t,this.route=n,this.WantToShowDecoratorObserver=new J(this)};K.__name__=!0,K.prototype={_updateProductColor:function(){return this.wantToShowContentValue.Value||this.route.ContainsFullscreen?this.decoratee.ProductColor:null}};var J=function(e){var t=this;this.state_ProductColor=!1;var n=function(){e.ProductColor=e._updateProductColor(),t.state_ProductColor=!0},a=function(e,a){t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)},i=function(e,a){t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)},r=function(e,a){t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)};Ie.HiddenObserve(e,"wantToShowContentValue",(function(e,i){null!=e&&Ie.HiddenForget(e,"Value",a),null!=i&&Ie.HiddenObserve(i,"Value",a),t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)})),Ie.HiddenObserve(e,"route",(function(e,a){null!=e&&Ie.HiddenForget(e,"ContainsFullscreen",i),null!=a&&Ie.HiddenObserve(a,"ContainsFullscreen",i),t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)})),Ie.HiddenObserve(e,"decoratee",(function(e,a){null!=e&&Ie.HiddenForget(e,"ProductColor",r),null!=a&&Ie.HiddenObserve(a,"ProductColor",r),t.state_ProductColor=b.ScheduleCallback(t.state_ProductColor,n)})),n()};J.__name__=!0;var $=function(){};$.__name__=!0,$.AddListener=function(e,t){var n=e==$.currentEventBeingFired?$.listenersToAdd:$.listeners,a=n[e];null==a&&(a=[],n[e]=a),a.push(t)},$.RemoveListener=function(e,t){if(e==$.currentEventBeingFired){var n=$.listenersToRemove,a=n[e];null==a&&(a=[],n[e]=a),a.push(t)}else{var i=$.listeners[e];null!=i&&o.remove(i,t)}},$.Fire=function(e,t){var n=$.fireOnce[e];if(null!=n){if(n)return;$.fireOnce[e]=!0}var a=$.listeners[e];if(null!=a){for(var i=(new Date).getTime(),r=0;r<a.length;){var s=a[r];++r,$.currentListenerBeingCalled=s,s(t,i)}$.currentListenerBeingCalled=null,$.currentEventBeingFired=null;var l=$.listenersToRemove[e];if(null!=l){for(var u=0;u<l.length;)o.remove(a,l[u++]);l.length=0}var d=$.listenersToAdd[e];if(null!=d){for(var c=0;c<d.length;)a.push(d[c++]);d.length=0}}},$.MakeFireOnce=function(e){Object.prototype.hasOwnProperty.call($.fireOnce,e)||($.fireOnce[e]=!1)};var ee=function(e){this.Name=e};ee.__name__=!0;var te=function(){};te.__name__=!0;var ne=function(e){this.ContentIdentifier=e};ne.__name__=!0;var ae=function(e,t){this.ProductUId=e,this.OptionUId=t};ae.__name__=!0,ae.HandleContentSwitched=function(e,t){Object.prototype.hasOwnProperty.call(ae.handled,e.OptionUId)||(ae.handled[e.OptionUId]="true",$.Fire("contentloaded",new ae(e.ProductUId,e.OptionUId)))};var ie=function(e){this.ContentIdentifier=e};ie.__name__=!0;var re=function(e,t){this.ProductUId=e,this.OptionUId=t};re.__name__=!0;var oe=function(e){this.DriverInfo=e};oe.__name__=!0;var se=function(){};se.__name__=!0;var le=function(){};le.__name__=!0;var ue=function(e){this.Direction=e};ue.__name__=!0;var de=function(e){this.IntegrationDisplayMode=e};de.__name__=!0;var ce=function(){};ce.__name__=!0;var he=function(){};he.__name__=!0;var _e=function(e){this.Href=e};_e.__name__=!0;var ge=function(){};ge.__name__=!0;var ve=function(e){this.Route=e};ve.__name__=!0;var be=function(){};be.__name__=!0;var fe=function(){};fe.__name__=!0;var pe=function(e,t){this.Supported=e,this.Reason=t};pe.__name__=!0;var me=function(e){this.TestVariantName=e};me.__name__=!0;var Se=function(){};Se.__name__=!0,Se.prototype={SetCallback:function(e){null!=this.requestID&&window.cancelAnimationFrame(this.requestID),this.requestID=window.requestAnimationFrame(dl(this,this.animationFrame)),this.callback=e},animationFrame:function(e){this.callback(),this.requestID=null}};var Ce=function(e){this.eventListeners={Length:0};var t=this;this.converter=e,Ie.HiddenObserve(this,"VirtualDom",(function(e,n){null!=t.parent&&(null==e&&null!=n?t.root=He.Mount(n,t.converter,t.parent):null!=e&&null==n?He.Unmount(e,t.converter):He.Patch(e,n,t.converter))}),!1),this.ComponentObserver=new ke(this)};Ce.__name__=!0,Ce.prototype={_updateVirtualDom:function(){return null},get_IsMounted:function(){return null!=this.root&&null!=this.converter.GetRealNodeParent(this.root)},Created:function(){},BeforeMount:function(){},Mounted:function(){},BeforeUpdate:function(){},Updated:function(){},BeforeUnmount:function(){},Unmounted:function(){},BeforeRemount:function(){},Remounted:function(){},Mount:function(e,t){this.parent=e,this.root=He.Mount(this.VirtualDom,this.converter,e,t),this.Mounted()},Unmount:function(){He.Unmount(this.VirtualDom,this.converter),this.parent=null,this.Unmounted()},Remount:function(e,t){this.BeforeRemount(),He.Remount(this.VirtualDom,this.converter,e,t),this.parent=e,this.Remounted()},FireEvent:function(e,t,n){var a=this.eventListeners[e];null!=a&&a(t,n)},SetEventListener:function(e,t){var n=this.eventListeners,a=n[e];null==t?null!=a&&(n[e]=t,n.Length--):(null==a&&n.Length++,n[e]=t)},ClearEventListener:function(e){var t=this.eventListeners,n=null,a=t[e];null!=a&&(t[e]=n,t.Length--)}};var ye=function(e,t,n,a){null==a&&(a=Ve.Append);var i=this;this.targetProvider=e,this.componentToMount=t,this.insertMode=a,this.observer=n,null!=n&&n.SetCallback((function(){null!=i.targetProvider.Target&&(i.componentToMount.get_IsMounted()||i.Mount(null,i.targetProvider.Target))})),Ie.HiddenObserve(e,"Target",dl(this,this.Mount),!0)};ye.__name__=!0,ye.prototype={Mount:function(e,t){var n,a=this.insertMode;switch(a._hx_index){case 0:n=null;break;case 1:n=a.index;break;case 2:n=0}null==e&&null!=t?(this.componentToMount.Mount(t,n),null!=this.observer&&this.observer.Observe(t)):null!=e&&null==t?(null!=this.observer&&this.observer.Disconnect(),this.componentToMount.Unmount()):(this.componentToMount.Remount(t,n),null!=this.observer&&this.observer.Observe(t))}};var ke=function(e){var t=this;this.state_VirtualDom=!1;e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0};ke.__name__=!0;var Ve=a["binkies.flow.InsertMode"]={__ename__:!0,__constructs__:["Append","Insert","Prepend"],Append:{_hx_index:0,__enum__:"binkies.flow.InsertMode",toString:n},Insert:(t=function(e){return{_hx_index:1,index:e,__enum__:"binkies.flow.InsertMode",toString:n}},t.__params__=["index"],t),Prepend:{_hx_index:2,__enum__:"binkies.flow.InsertMode",toString:n}},He=function(){};He.__name__=!0,He.Mount=function(e,t,n,a){if(null==e)return null;var i=He.currentConverter;He.currentConverter=t;var r=He.CreateRealDom(e,n,a);return He.currentConverter=i,r},He.Unmount=function(e,t){null!=e&&(He.currentConverter=t,He.DestroyRealDom(e,!0))},He.Remount=function(e,t,n,a){if(null!=e){He.currentConverter=t;var i=e._rn;t.RemoveRealNodeFromParent(i),t.AddRealNodeToParent(i,n,a)}},He.Patch=function(e,t,n){if(null!=e&&null!=t){if(He.currentConverter=n,e.Tag!=t.Tag){var a=e._rn;return null==a&&(a=e._c.root),He.CreateRealDom(t,n.GetRealNodeParent(a),n.GetRealNodeIndexInParent(a)),void He.DestroyRealDom(e,!0)}He.PrivatePatch(e,t)}},He.PrivatePatch=function(e,t){var n,a,i,r,o,s=e._rn,l=e._c;if(t._rn=s,e._rn=null,t._c=l,e._c=null,null==t.Tag)e.Text!=t.Text&&He.currentConverter.SetText(s,t.Text);else if(null!=l)He.Update(l,e.Attributes,t.Attributes,He.SetComponentAttribute,He.RemoveComponentAttribute,He.UpdateComponentAttribute,!1),He.Update(l,e.Events,t.Events,He.AddComponentEventListener,He.RemoveComponentEventListener,He.ReplaceComponentEventListener,!0);else{He.Update(s,e.Attributes,t.Attributes,He.SetAttribute,He.RemoveAttribute,He.UpdateAttribute,!1),He.Update(s,e.Events,t.Events,He.AddEventListener,He.RemoveEventListener,He.ReplaceEventListener,!0),He.PrivatePatchChildren(e.Children,t.Children,s);var u=e.NamedChildren;for(var d in u)n=void 0,a=void 0,i=void 0,r=void 0,o=void 0,r=d,null!=(o=He.currentConverter.GetNamedChildConverter(r))&&(n=e.NamedChildren[r],a=t.NamedChildren[r],i=He.currentConverter,He.currentConverter=o,He.PrivatePatchChildren(n,a,s),He.currentConverter=i)}},He.PrivatePatchChildren=function(e,t,n){null==e&&(e=He.emptyArray),null==t&&(t=He.emptyArray);for(var a=0,i=0;a<e.length||i<t.length;){var r=e[a],o=t[i];null==r?(He.CreateRealDom(o,n),++i):null==o?(He.DestroyRealDom(r,!0),++a):r.Tag!=o.Tag?(He.CreateRealDom(o,n,i),++i):(He.PrivatePatch(r,o),++a,++i)}},He.Update=function(e,t,n,a,i,r,o){for(var s in t)l=void 0,u=void 0,d=void 0,u=t[l=s],d=n[l],null!=u&&(null==d?i(e,l,u):(o?u.hash!=d.hash:u!=d)&&r(e,l,u,d));var l,u,d,c,h;for(var s in n)c=void 0,h=void 0,null==t[h=s]&&(null!=(c=n[h])&&a(e,h,c))},He.CreateRealDom=function(e,t,n){if(null!=e.Tag){if(He.currentConverter.IsKnownTag(e.Tag)){var a=He.currentConverter.CreateRealNode(e.Tag,t);if(e._rn=a,He.currentConverter.AddRealNodeToParent(a,t,n),null==e.Tag)return null;if(He.SetValues(a,e.Attributes,He.SetAttribute),He.SetValues(a,e.Events,He.AddEventListener),null!=e.Children)for(var i=0,r=e.Children.length;i<r;)He.CreateRealDom(e.Children[i++],a,null);var o=e.NamedChildren;for(var s in o)d=void 0,c=void 0,d=s,null!=(c=He.currentConverter.GetNamedChildConverter(d))&&function(t){var n=e.NamedChildren[d],i=He.currentConverter;He.currentConverter=c;for(var r=0;r<n.length;){var o=n[r];r+=1,He.CreateRealDom(o,a,null)}He.currentConverter=i}();return a}var l=He.currentConverter.GetComponentClass(e.Tag);if(null==l)throw new rl("Encountered unknown tag: "+e.Tag);var u=new l;return He.SetValues(u,e.Attributes,He.SetComponentAttribute),He.SetValues(u,e.Events,He.AddComponentEventListener),u.Mount(t,n),e._c=u,u.root}var d,c,h=He.currentConverter.CreateTextNode(e.Text);return e._rn=h,He.currentConverter.AddRealNodeToParent(h,t,n),h},He.SetValues=function(e,t,n){for(var a in t)n(e,a,t[a])},He.DestroyRealDom=function(e,t){var n,a,i=e._rn,r=e._c;if(null!=i){t&&He.currentConverter.RemoveRealNodeFromParent(i);var o=e.Events;for(var s in o)a=void 0,a=s,He.RemoveEventListener(i,a,e.Events[a])}else if(null!=r){r.Unmount();var l=e.Events;for(var s in l)n=void 0,n=s,He.RemoveComponentEventListener(r,n,e.Events[n])}if(null!=e.Children)for(var u=0,d=e.Children;u<d.length;)He.DestroyRealDom(d[u++],!1)},He.SetComponentAttribute=function(e,t,n){e[t]=n},He.RemoveComponentAttribute=function(e,t,n){e[t]=null},He.UpdateComponentAttribute=function(e,t,n,a){e[t]=a},He.AddComponentEventListener=function(e,t,n){e.SetEventListener(t,n)},He.RemoveComponentEventListener=function(e,t,n){e.ClearEventListener(t)},He.ReplaceComponentEventListener=function(e,t,n,a){e.SetEventListener(t,a)},He.SetAttribute=function(e,t,n){He.currentConverter.SetAttribute(e,t,n)},He.RemoveAttribute=function(e,t,n){He.currentConverter.RemoveAttribute(e,t,n)},He.UpdateAttribute=function(e,t,n,a){He.currentConverter.UpdateAttribute(e,t,n,a)},He.AddEventListener=function(e,t,n){He.currentConverter.AddEventListener(e,t,n)},He.RemoveEventListener=function(e,t,n){He.currentConverter.RemoveEventListener(e,t,n)},He.ReplaceEventListener=function(e,t,n,a){He.currentConverter.ReplaceEventListener(e,t,n,a)};var Oe=function(e,t){this.Events={},this.NamedChildren={},this.Attributes={},this.Tag=e,this.Text=t};Oe.__name__=!0,Oe.CreateNode=function(e){return new Oe(e,null)},Oe.prototype={AddNode:function(e){var t=Oe.CreateNode(e);return this.AddChild(t),t},AddText:function(e){var t=new Oe(null,e);return this.AddChild(t),t},AddChild:function(e){null==this.children&&(this.children=[],this.Children=this.children),this.children.push(e)}};var we=function(){};we.__name__=!0,we.Clone=function(e){var t=new Oe(e.Tag,e.Text);if(null!=e.children)for(var n=0,a=e.children;n<a.length;)t.AddChild(we.Clone(a[n++]));var i,r,o=e.Attributes;for(var s in o)i=void 0,r=void 0,i=s,r=e.Attributes[i],t.Attributes[i]=r;var l,u,d=e.Events;for(var s in d)l=void 0,u=void 0,l=s,u=e.Events[l],t.Events[l]=u;if(null!=e.NamedChildren){var c=e.NamedChildren;for(var s in c)!function(n){for(var a=s,i=e.NamedChildren[a],r=[],o=0;o<i.length;){var l=i[o];o+=1,r.push(we.Clone(l))}t.NamedChildren[a]=r}()}return t};var Fe=function(){this.knownTags=["left","position","background-color"]};Fe.__name__=!0,Fe.prototype={GetComponentClass:function(e){return null},GetNamedChildConverter:function(e){return null},CreateRealNode:function(e,t){return{Tag:e,Parent:null}},CreateTextNode:function(e){return null},AddRealNodeToParent:function(e,t,n){e.Parent=t},RemoveRealNodeFromParent:function(e){e.Parent=null},GetRealNodeParent:function(e){return e.Parent},GetRealNodeIndexInParent:function(e){return null},SetAttribute:function(e,t,n){e.Parent.style.setProperty(e.Tag,n)},RemoveAttribute:function(e,t,n){e.Parent.style.setProperty(e.Tag,null)},UpdateAttribute:function(e,t,n,a){this.SetAttribute(e,t,a)},AddEventListener:function(e,t,n){},RemoveEventListener:function(e,t,n){},ReplaceEventListener:function(e,t,n,a){},SetText:function(e,t){},GetPlaceholderTag:function(){return"left"},IsKnownTag:function(e){return-1!=this.knownTags.indexOf(e)}};var xe=function(){this.svgTags=["svg","circle","g","text","path","polyline"],this.knownTags=["div","button","span","h1","h2","h3","h4","h5","h6","input","iframe","img","li","ul","ol","p","a","script","select","option","i","b","hr","br","svg","circle","g","text","path","polyline","style","label","link","canvas","table","thead","tbody","th","tr","td","nav","section","dl","dt","dd","progress","textarea"]};xe.__name__=!0,xe.RegisterComponent=function(e,t){var n=xe.registeredComponents;null!=cl[e]?n.setReserved(e,t):n.h[e]=t},xe.prototype={GetComponentClass:function(e){var t=xe.registeredComponents;return null!=cl[e]?t.getReserved(e):t.h[e]},GetNamedChildConverter:function(e){return"style"==e?xe.styleConverter:null},CreateRealNode:function(e,t){return this.svgTags.indexOf(e)>-1?window.document.createElementNS("http://www.w3.org/2000/svg",e):window.document.createElement(e)},CreateTextNode:function(e){return window.document.createTextNode(e)},AddRealNodeToParent:function(e,t,n){null==n?t.appendChild(e):t.insertBefore(e,t.childNodes[n])},RemoveRealNodeFromParent:function(e){var t=e.parentNode;null!=t&&t.removeChild(e)},GetRealNodeParent:function(e){return e.parentElement},GetRealNodeIndexInParent:function(e){var t=e.parentNode;if(null==t)return-1;for(var n=0,a=t.childNodes.length;n<a;){var i=n++;if(e==t.childNodes.item(i))return i}return-1},SetAttribute:function(e,t,n){if("INPUT"==e.nodeName||"BUTTON"==e.nodeName||"TEXTAREA"==e.nodeName){var a=e;switch(t.toLowerCase()){case"checked":a.checked=n;break;case"disabled":a.disabled=n;break;case"multiple":a.multiple=n;break;case"value":a.value=n;break;default:e.setAttribute(t,n)}}else e.setAttribute(t,n)},RemoveAttribute:function(e,t,n){if("INPUT"==e.nodeName){var a=e;switch(t.toLowerCase()){case"checked":a.checked=!1;break;case"value":a.value="";break;default:e.removeAttribute(t)}}else e.removeAttribute(t)},UpdateAttribute:function(e,t,n,a){this.SetAttribute(e,t,a)},AddEventListener:function(e,t,n){e["on"+t]=n},RemoveEventListener:function(e,t,n){e["on"+t]=null},ReplaceEventListener:function(e,t,n,a){e["on"+t]=a},SetText:function(e,t){e.textContent=t},GetPlaceholderTag:function(){return"div"},IsKnownTag:function(e){return-1!=this.knownTags.indexOf(e)}};var De=function(){Ce.call(this,De.htmlConverter)};De.__name__=!0,De.__super__=Ce,De.prototype=i(Ce.prototype,{AddStyleToHead:function(e){var t=window.document.createElement("style");return t.textContent=e,window.document.head.appendChild(t),t}});var Pe=function(e){var t=this;this.config=e,this.observer=new MutationObserver((function(e,n){null!=t.callback&&t.callback()}))};Pe.__name__=!0,Pe.prototype={Observe:function(e){this.observer.observe(e,this.config)},Disconnect:function(){this.observer.disconnect()},SetCallback:function(e){this.callback=e}};var Ae=function(){};Ae.__name__=!0,Ae.GetId=function(e){var t=e._id;return null==t&&(null!=e&&"object"==typeof e?(t=Ae.currentId++,e._id=t):t=e),t};var Ie=function(){};Ie.__name__=!0,Ie.HiddenObserve=function(e,t,n,a){null==a&&(a=!0);var i=e._o,r=null;if(null==i?(i={},e._o=i):r=i[t],null==r){r=[],i[t]=r;var o=e[t];Array.isArray(o)&&Ie.ObserveArray(o,r),Object.defineProperty(e,t,{get:function(){return o},set:function(e){if(o!=e){var t=o;if(o=e,Array.isArray(t)||Array.isArray(e))if(null==t){if(0==e.length)for(var n=0,a=r.length;n<a;)r[n++](null,null);for(var i=0,s=e.length;i<s;)for(var l=e[i++],u=0,d=r.length;u<d;)r[u++](null,l);Ie.ObserveArray(e,r)}else if(null==e){if(0==t.length)for(var c=0,h=r.length;c<h;)r[c++](null,null);for(var _=0,g=t.length;_<g;)for(var v=t[_++],b=0,f=r.length;b<f;)r[b++](v,null);Ie.ForgetArray(t,r)}else{for(var p=Math.max(e.length,t.length),m=0;m<p;)for(var S=m++,C=t[S],y=e[S],k=0,V=r.length;k<V;)r[k++](C,y);Ie.ForgetArray(t,r),Ie.ObserveArray(e,r)}else for(var H=t,O=e,w=0,F=r.length;w<F;)r[w++](H,O)}}})}if(r.push(n),a){var s=e[t];if(null==s)return;if(Array.isArray(s))for(var l=0,u=s.length;l<u;)n(null,s[l++]);else n(null,s)}},Ie.HiddenForget=function(e,t,n,a){null==a&&(a=!0);var i=e._o;if(null!=i){var r=i[t];if(null!=r&&(o.remove(r,n),a)){var s=e[t];if(null==s)return;if(Array.isArray(s))for(var l=0,u=s.length;l<u;)n(s[l++],null);else n(s,null)}}},Ie.ObserveArray=function(e,t){var n=e._l;if(null==n){n=[],e._l=n;var a=function(e,t){for(var a=0,i=n.length;a<i;)for(var r=n[a++],o=0,s=r.length;o<s;)r[o++](e,t)};e._push=e.push,e.push=function(t){var n=e._push(t);return a(null,t),n},e._pop=e.pop,e.pop=function(){var t=e._pop();return a(t,null),t},e._shift=e.shift,e.shift=function(){var t=e._shift();return a(t,null),t},e._unshift=e.unshift,e.unshift=function(t){e._unshift(t),a(null,t)},e._splice=e.splice,e.splice=function(t,n,i){for(var r=null,o=0,s=(r=null==i?e._splice(t,n):e._splice(t,n,i)).length;o<s;)a(r[o++],null);return null!=i&&a(null,i),r},e._sort=e.sort,e.sort=function(t){e._sort(t),a(null,null)},e._reverse=e.reverse,e.reverse=function(){e._reverse(),a(null,null)}}n.push(t)},Ie.ForgetArray=function(e,t){var n=e._l;null!=n&&o.remove(n,t)};var Te=function(e,t,n,a){null==a&&(a=0),null==n&&(n=0),null==t&&(t=0),null==e&&(e=0),this.R=e,this.G=t,this.B=n,this.A=a};Te.__name__=!0;var Me=function(e,t){this.contextRestoredEvent=new v,this.contextLostEvent=new v,this.CursorDown=!1,this.CursorY=0,this.CursorX=0;var n=this;this.Id=""+Me.nextId,Me.nextId++,this.contextLostEvent=new v,this.contextRestoredEvent=new v,this.Canvas=window.document.createElement("canvas"),this.Canvas.style.position="absolute",this.Canvas.style.top="0px",this.Canvas.style.bottom="0px",this.Canvas.style.left="0px",this.Canvas.style.right="0px",e.appendChild(this.Canvas),this.Canvas.addEventListener("webglcontextlost",dl(this,this.OnContextLost)),this.Canvas.addEventListener("webglcontextrestored",dl(this,this.OnContextRestored)),this.Canvas.addEventListener("mousedown",(function(e){n.CursorDown=!0})),window.addEventListener("mouseup",(function(e){n.CursorDown=!1})),this.Canvas.addEventListener("mousemove",(function(e){n.CursorX=e.offsetX,n.CursorY=e.offsetY})),this.Canvas.addEventListener("mouseleave",(function(e){n.CursorX=null,n.CursorY=null})),this.context=this.CreateContext(this.Canvas),this.RingTexture=new et(this),this.renderState=new Ke(this.context),this.ResourceState=new $e(this.context);for(var a=0;a<t.length;)this.context.getExtension(t[a++]);null==Me.AntiAliasEnabled&&(Me.AntiAliasEnabled=this.context.getContextAttributes().antialias),null==Me.DevicePixelRatio&&(Me.DevicePixelRatio=Math.min(Me.AntiAliasEnabled?window.devicePixelRatio:window.devicePixelRatio+1,3)),this.sensor=new ct,this.sensor.Attach(e),Ie.HiddenObserve(this.sensor,"Width",(function(e,t){n.EnsureCorrectBackbufferSize()}),!0),Ie.HiddenObserve(this.sensor,"Height",(function(e,t){n.EnsureCorrectBackbufferSize()}),!0)};Me.__name__=!0,Me.prototype={CreateContext:function(e){return sl.getContextWebGL(e,{alpha:!0,depth:!0,stencil:!1,antialias:this.GetAntiAliasingDesired(),premultipliedAlpha:!0,preserveDrawingBuffer:!1})},GetAntiAliasingDesired:function(){if("always"==Le.DesireAntiAliasing)return!0;if("never"==Le.DesireAntiAliasing)return!1;for(var e=window.navigator.userAgent.toLowerCase(),t=["sm-g930","sm-g935","sm-g950","sm-g955","sm-g960","sm-g965","sm-g970","sm-g973","sm-g975","sm-n950","sm-n960","sm-a530"],n=0;n<t.length;)if(-1!=e.indexOf(t[n++]))return!1;return!0},Clear:function(){var e=this.renderState;1!=e.depthWriteEnabled&&(e.depthWriteEnabled=!0,e.context.depthMask(!0)),515!=e.depthCompareMode&&(e.depthCompareMode=515,e.context.depthFunc(515)),this.context.clear(16640)},EnsureCorrectBackbufferSize:function(){var e=this.sensor.Width,t=this.sensor.Height,n=Math.round(e*Me.DevicePixelRatio),a=Math.round(t*Me.DevicePixelRatio);this.Canvas.width==n&&this.Canvas.height==a||(this.Canvas.style.width=e+"px",this.Canvas.style.height=t+"px",this.Canvas.width=n,this.Canvas.height=a,this.Width=n,this.Height=a,this.context.viewport(0,0,this.Width,this.Height))},OnContextLost:function(e){e.preventDefault(),this.RingTexture.Device=null,this.contextLostEvent.Fire(this)},OnContextRestored:function(e){var t=this;window.requestAnimationFrame((function(e){t.renderState.Reset(),t.ResourceState.Reset(),t.RingTexture.Device=t,t.contextRestoredEvent.Fire(t)}))},SetAlphaBlending:function(e){switch(e){case 0:this.renderState.SetBlendFactors(!1,1,0);var t=this.renderState;1!=t.depthWriteEnabled&&(t.depthWriteEnabled=!0,t.context.depthMask(!0)),515!=t.depthCompareMode&&(t.depthCompareMode=515,t.context.depthFunc(515));break;case 1:this.renderState.SetBlendFactors(!0,1,771);var n=this.renderState;0!=n.depthWriteEnabled&&(n.depthWriteEnabled=!1,n.context.depthMask(!1)),515!=n.depthCompareMode&&(n.depthCompareMode=515,n.context.depthFunc(515))}}};var Re=function(){};Re.__name__=!0;var Ne=function(){};Ne.__name__=!0,Ne.FindBooleanQueryParameter=function(e,t,n){var a=Ne.FindQueryParameter(e,t).toLowerCase();return"true"==a||"false"!=a&&n},Ne.FindStringQueryParameter=function(e,t,n){var a=Ne.FindQueryParameter(e,t);return""==a?n:a},Ne.FindQueryParameter=function(e,t){var n=e.search.indexOf(t);if(-1==n)return"";var a=e.search.indexOf("&",n);-1==a&&(a=e.search.length);var i=t.length+1;return o.substr(e.search,n+i,a-n-i)};var Le=function(){};Le.__name__=!0;var Ee=function(e){var t=this;this.Url=e,st.Load([e],(function(e){var n=new Int32Array(e[0]);t.Width=n[0],t.Height=n[1],t.Mipmaps=n[2],t.data=e[0]})),Ie.HiddenObserve(this,"texture",(function(e,t){Je.ReturnTexture(e)}),!0),this.FloatCubeTextureObserver=new Be(this)};Ee.__name__=!0,Ee.prototype={_updateLoaded:function(){return null!=this.texture},_updateDevice:function(){return null==this.World?null:this.World.Device},_updatetexture:function(){return null==this.Device||null==this.data?null:Je.GetOrCreateTexture(this.Device,"FloatTexture:"+this.Url,this)},FillTexture:function(e){var t=this.Device.context;t.bindTexture(34067,e);for(var n=12,a=0,i=this.Mipmaps;a<i;){var r=a++,o=this.Width/Math.pow(2,r)|0,s=this.Height/Math.pow(2,r)|0,l=o*s*4*4|0;t.texImage2D(34069,r,6408,o,s,0,6408,5126,new Float32Array(this.data,n+0*l)),t.texImage2D(34070,r,6408,o,s,0,6408,5126,new Float32Array(this.data,n+l)),t.texImage2D(34071,r,6408,o,s,0,6408,5126,new Float32Array(this.data,n+2*l)),t.texImage2D(34072,r,6408,o,s,0,6408,5126,new Float32Array(this.data,n+3*l)),t.texImage2D(34073,r,6408,o,s,0,6408,5126,new Float32Array(this.data,n+4*l)),t.texImage2D(34074,r,6408,o,s,0,6408,5126,new Float32Array(this.data,n+5*l)),n+=6*l}this.Device.context.texParameteri(34067,10242,33071),this.Device.context.texParameteri(34067,10243,33071),this.Device.context.texParameteri(34067,10240,9729),this.Mipmaps>1?this.Device.context.texParameteri(34067,10241,9987):this.Device.context.texParameteri(34067,10241,9729)}};var Be=function(e){var t=this;this.state_Loaded=!1,this.state_Device=!1,this.state_texture=!1;var n=function(){e.Loaded=e._updateLoaded(),t.state_Loaded=!0},a=function(){e.Device=e._updateDevice(),t.state_Device=!0},i=function(){e.texture=e._updatetexture(),t.state_texture=!0},r=function(e,n){t.state_Device=b.ScheduleCallback(t.state_Device,a)};Ie.HiddenObserve(e,"texture",(function(e,a){t.state_Loaded=b.ScheduleCallback(t.state_Loaded,n)})),Ie.HiddenObserve(e,"World",(function(e,n){null!=e&&Ie.HiddenForget(e,"Device",r),null!=n&&Ie.HiddenObserve(n,"Device",r),t.state_Device=b.ScheduleCallback(t.state_Device,a)})),Ie.HiddenObserve(e,"Device",(function(e,n){t.state_texture=b.ScheduleCallback(t.state_texture,i)})),Ie.HiddenObserve(e,"data",(function(e,n){t.state_texture=b.ScheduleCallback(t.state_texture,i)})),Ie.HiddenObserve(e,"Url",(function(e,n){t.state_texture=b.ScheduleCallback(t.state_texture,i)})),n(),a(),i()};Be.__name__=!0;var We=function(e){var t=this;this.Url=e,st.Load([e],(function(e){var n=new Int32Array(e[0]);t.Width=n[0],t.Height=n[1],t.data=e[0]})),Ie.HiddenObserve(this,"texture",(function(e,t){Je.ReturnTexture(e)}),!0),this.FloatTextureObserver=new Ue(this)};We.__name__=!0,We.prototype={_updateLoaded:function(){return null!=this.texture},_updateDevice:function(){return null==this.World?null:this.World.Device},_updatetexture:function(){return null==this.Device||null==this.data?null:Je.GetOrCreateTexture(this.Device,"FloatTexture:"+this.Url,this)},FillTexture:function(e){var t=this.Device.context;t.bindTexture(3553,e),t.texImage2D(3553,0,6408,this.Width,this.Height,0,6408,5126,new Float32Array(this.data,8)),this.Device.context.texParameteri(3553,10242,33071),this.Device.context.texParameteri(3553,10243,33071),this.Device.context.texParameteri(3553,10240,9728),this.Device.context.texParameteri(3553,10241,9728)}};var Ue=function(e){var t=this;this.state_Loaded=!1,this.state_Device=!1,this.state_texture=!1;var n=function(){e.Loaded=e._updateLoaded(),t.state_Loaded=!0},a=function(){e.Device=e._updateDevice(),t.state_Device=!0},i=function(){e.texture=e._updatetexture(),t.state_texture=!0},r=function(e,n){t.state_Device=b.ScheduleCallback(t.state_Device,a)};Ie.HiddenObserve(e,"texture",(function(e,a){t.state_Loaded=b.ScheduleCallback(t.state_Loaded,n)})),Ie.HiddenObserve(e,"World",(function(e,n){null!=e&&Ie.HiddenForget(e,"Device",r),null!=n&&Ie.HiddenObserve(n,"Device",r),t.state_Device=b.ScheduleCallback(t.state_Device,a)})),Ie.HiddenObserve(e,"Device",(function(e,n){t.state_texture=b.ScheduleCallback(t.state_texture,i)})),Ie.HiddenObserve(e,"data",(function(e,n){t.state_texture=b.ScheduleCallback(t.state_texture,i)})),Ie.HiddenObserve(e,"Url",(function(e,n){t.state_texture=b.ScheduleCallback(t.state_texture,i)})),n(),a(),i()};Ue.__name__=!0;var Ge=function(e){this.Data=e,this.Length=e.length,Ie.HiddenObserve(this,"buffer",(function(e,t){Je.ReturnBuffer(e)}),!0),this.IndexBufferObserver=new Xe(this)};Ge.__name__=!0,Ge.prototype={_updateDevice:function(){return null==this.Mesh?null:this.Mesh.Device},_updatebuffer:function(){return null==this.Device||null==this.Data?null:Je.GetOrCreateBuffer(this.Device,this.Data,!0)}};var Xe=function(e){var t=this;this.state_Device=!1,this.state_buffer=!1;var n=function(){e.Device=e._updateDevice(),t.state_Device=!0},a=function(){e.buffer=e._updatebuffer(),t.state_buffer=!0},i=function(e,a){t.state_Device=b.ScheduleCallback(t.state_Device,n)};Ie.HiddenObserve(e,"Mesh",(function(e,a){null!=e&&Ie.HiddenForget(e,"Device",i),null!=a&&Ie.HiddenObserve(a,"Device",i),t.state_Device=b.ScheduleCallback(t.state_Device,n)})),Ie.HiddenObserve(e,"Device",(function(e,n){t.state_buffer=b.ScheduleCallback(t.state_buffer,a)})),Ie.HiddenObserve(e,"Data",(function(e,n){t.state_buffer=b.ScheduleCallback(t.state_buffer,a)})),n(),a()};Xe.__name__=!0;var Ye=function(e,t){var n=this;this.UrlRGB=e,this.UrlM=t,ut.Load([e,t],(function(e){n.imageRGB=e[0],n.imageM=e[1],n.Width=n.imageRGB.width,n.Height=n.imageRGB.height})),Ie.HiddenObserve(this,"texture",(function(e,t){Je.ReturnTexture(e)}),!0),this.LightmapTextureObserver=new ze(this)};Ye.__name__=!0,Ye.prototype={_updateLoaded:function(){return null!=this.texture},_updateDevice:function(){return null==this.World?null:this.World.Device},_updatetexture:function(){return null==this.Device||null==this.imageRGB||null==this.imageM?null:Je.GetOrCreateTexture(this.Device,"LightmapTexture:"+this.UrlRGB+":"+this.UrlM,this)},FillTexture:function(e){var t=window.document.createElement("canvas");t.width=this.Width,t.height=this.Height;var n=t.getContext("2d",null);n.drawImage(this.imageM,0,0);var a=n.getImageData(0,0,this.Width,this.Height).data;n.drawImage(this.imageRGB,0,0);for(var i=n.getImageData(0,0,this.Width,this.Height),r=i.data,o=a.length,s=0;s<o;)r[s+3]=a[s],s+=4;var l=this.Device.context;l.bindTexture(3553,e),l.pixelStorei(37441,0),l.texImage2D(3553,0,6408,6408,5121,i),l.texParameteri(3553,10242,33071),l.texParameteri(3553,10243,33071),l.texParameteri(3553,10241,9729),l.texParameteri(3553,10240,9729)}};var ze=function(e){var t=this;this.state_Loaded=!1,this.state_Device=!1,this.state_texture=!1;var n=function(){e.Loaded=e._updateLoaded(),t.state_Loaded=!0},a=function(){e.Device=e._updateDevice(),t.state_Device=!0},i=function(){e.texture=e._updatetexture(),t.state_texture=!0},r=function(e,n){t.state_Device=b.ScheduleCallback(t.state_Device,a)};Ie.HiddenObserve(e,"texture",(function(e,a){t.state_Loaded=b.ScheduleCallback(t.state_Loaded,n)})),Ie.HiddenObserve(e,"World",(function(e,n){null!=e&&Ie.HiddenForget(e,"Device",r),null!=n&&Ie.HiddenObserve(n,"Device",r),t.state_Device=b.ScheduleCallback(t.state_Device,a)})),Ie.HiddenObserve(e,"Device",(function(e,n){t.state_texture=b.ScheduleCallback(t.state_texture,i)})),Ie.HiddenObserve(e,"imageRGB",(function(e,n){t.state_texture=b.ScheduleCallback(t.state_texture,i)})),Ie.HiddenObserve(e,"imageM",(function(e,n){t.state_texture=b.ScheduleCallback(t.state_texture,i)})),Ie.HiddenObserve(e,"UrlRGB",(function(e,n){t.state_texture=b.ScheduleCallback(t.state_texture,i)})),Ie.HiddenObserve(e,"UrlM",(function(e,n){t.state_texture=b.ScheduleCallback(t.state_texture,i)})),n(),a(),i()};ze.__name__=!0;var Ze=function(){Ie.HiddenObserve(this,"vertexShader",(function(e,t){Je.ReturnShader(e)}),!0),Ie.HiddenObserve(this,"fragmentShader",(function(e,t){Je.ReturnShader(e)}),!0),Ie.HiddenObserve(this,"program",(function(e,t){Je.ReturnProgram(e)}),!0),this.MaterialObserver=new Qe(this)};Ze.__name__=!0,Ze.prototype={_updateDevice:function(){return null==this.Renderable?null:this.Renderable.Device},_updateWorld:function(){return null==this.Renderable?null:this.Renderable.context},Draw:function(){var e=this.Device;if(null!=e){var t=e.ResourceState,n=this.program;t.currentProgram=n,t.context.useProgram(n),this.BindAttributes()&&(e.SetAlphaBlending(this.AlphaBlending),e.context.bindBuffer(34963,this.Renderable.Mesh.IndexBuffer.buffer),e.context.drawElements(4,this.Renderable.Mesh.IndexBuffer.Length,5123,0))}},BindAttributes:function(){return!1},_updateshaderCode:function(){return null},_updatevertexShaderCode:function(){return null!=this.shaderCode?this.shaderCode.VertexShader:null},_updatefragmentShaderCode:function(){return null!=this.shaderCode?this.shaderCode.FragmentShader:null},_updatevertexShader:function(){return null==this.Device||null==this.vertexShaderCode?null:Je.GetOrCreateShader(this.Device,this.vertexShaderCode,!0)},_updatefragmentShader:function(){return null==this.Device||null==this.fragmentShaderCode?null:Je.GetOrCreateShader(this.Device,this.fragmentShaderCode,!1)},_updateprogram:function(){return null==this.Device||null==this.vertexShader||null==this.fragmentShader?null:Je.GetOrCreateProgram(this.Device,this.vertexShader,this.fragmentShader)},_updateAlphaBlending:function(){return null}};var Qe=function(e){var t=this;this.state_Device=!1,this.state_World=!1,this.state_shaderCode=!1,this.state_vertexShaderCode=!1,this.state_fragmentShaderCode=!1,this.state_vertexShader=!1,this.state_fragmentShader=!1,this.state_program=!1,this.state_AlphaBlending=!1;var n=function(){e.Device=e._updateDevice(),t.state_Device=!0},a=function(){e.World=e._updateWorld(),t.state_World=!0},i=function(){e.vertexShaderCode=e._updatevertexShaderCode(),t.state_vertexShaderCode=!0},r=function(){e.fragmentShaderCode=e._updatefragmentShaderCode(),t.state_fragmentShaderCode=!0},o=function(){e.vertexShader=e._updatevertexShader(),t.state_vertexShader=!0},s=function(){e.fragmentShader=e._updatefragmentShader(),t.state_fragmentShader=!0},l=function(){e.program=e._updateprogram(),t.state_program=!0},u=function(e,a){t.state_Device=b.ScheduleCallback(t.state_Device,n)},d=function(e,n){t.state_World=b.ScheduleCallback(t.state_World,a)},c=function(e,n){t.state_vertexShaderCode=b.ScheduleCallback(t.state_vertexShaderCode,i)},h=function(e,n){t.state_fragmentShaderCode=b.ScheduleCallback(t.state_fragmentShaderCode,r)};Ie.HiddenObserve(e,"Renderable",(function(e,i){null!=e&&(Ie.HiddenForget(e,"Device",u),Ie.HiddenForget(e,"context",d)),null!=i&&(Ie.HiddenObserve(i,"Device",u),Ie.HiddenObserve(i,"context",d)),t.state_Device=b.ScheduleCallback(t.state_Device,n),t.state_World=b.ScheduleCallback(t.state_World,a)})),Ie.HiddenObserve(e,"shaderCode",(function(e,n){null!=e&&(Ie.HiddenForget(e,"VertexShader",c),Ie.HiddenForget(e,"FragmentShader",h)),null!=n&&(Ie.HiddenObserve(n,"VertexShader",c),Ie.HiddenObserve(n,"FragmentShader",h)),t.state_vertexShaderCode=b.ScheduleCallback(t.state_vertexShaderCode,i),t.state_fragmentShaderCode=b.ScheduleCallback(t.state_fragmentShaderCode,r)})),Ie.HiddenObserve(e,"Device",(function(e,n){t.state_vertexShader=b.ScheduleCallback(t.state_vertexShader,o),t.state_fragmentShader=b.ScheduleCallback(t.state_fragmentShader,s),t.state_program=b.ScheduleCallback(t.state_program,l)})),Ie.HiddenObserve(e,"vertexShaderCode",(function(e,n){t.state_vertexShader=b.ScheduleCallback(t.state_vertexShader,o)})),Ie.HiddenObserve(e,"fragmentShaderCode",(function(e,n){t.state_fragmentShader=b.ScheduleCallback(t.state_fragmentShader,s)})),Ie.HiddenObserve(e,"vertexShader",(function(e,n){t.state_program=b.ScheduleCallback(t.state_program,l)})),Ie.HiddenObserve(e,"fragmentShader",(function(e,n){t.state_program=b.ScheduleCallback(t.state_program,l)})),n(),a(),e.shaderCode=e._updateshaderCode(),t.state_shaderCode=!0,i(),r(),o(),s(),l(),e.AlphaBlending=e._updateAlphaBlending(),t.state_AlphaBlending=!0};Qe.__name__=!0;var je=function(e,t,n,a,i){if(this.IndexBuffer=null,this.Tangents=null,this.AmbientOcclusions=null,this.TextureCoordinates=null,this.Normals=null,this.Positions=null,this.IndexBuffer=new Ge(e),this.IndexBuffer.Mesh=this,this.Positions=new rt(0,t),this.Positions.Mesh=this,this.Normals=new rt(1,n),this.Normals.Mesh=this,this.TextureCoordinates=new rt(2,a),this.TextureCoordinates.Mesh=this,null==i){for(var r=[],o=0,s=this.Positions.Length;o<s;)++o,r.push(1);i=new Float32Array(r)}this.AmbientOcclusions=new rt(3,i),this.get_AmbientOcclusions().Mesh=this,this.Tangents=new rt(4,new Float32Array(it.GenerateTangentData(this.Positions.Data,this.Normals.Data,this.TextureCoordinates.Data,this.IndexBuffer.Data))),this.get_Tangents().Mesh=this,this.NumberOfVertices=t.length/3|0,this.NumberOfPrimitives=e.length/3|0,this.MeshObserver=new qe(this)};je.__name__=!0,je.prototype={_updateDevice:function(){return null==this.Renderable?null:this.Renderable.Device},get_AmbientOcclusions:function(){if(null==this.AmbientOcclusions){for(var e=[],t=0,n=this.Positions.Length;t<n;)++t,e.push(1);this.AmbientOcclusions=new rt(3,new Float32Array(e)),this.AmbientOcclusions.Mesh=this}return this.AmbientOcclusions},get_Tangents:function(){return null==this.Tangents&&(this.Tangents=new rt(4,new Float32Array(it.GenerateTangentData(this.Positions.Data,this.Normals.Data,this.TextureCoordinates.Data,this.IndexBuffer.Data))),this.Tangents.Mesh=this),this.Tangents}};var qe=function(e){var t=this;this.state_Device=!1;var n=function(){e.Device=e._updateDevice(),t.state_Device=!0},a=function(e,a){t.state_Device=b.ScheduleCallback(t.state_Device,n)};Ie.HiddenObserve(e,"Renderable",(function(e,i){null!=e&&Ie.HiddenForget(e,"Device",a),null!=i&&Ie.HiddenObserve(i,"Device",a),t.state_Device=b.ScheduleCallback(t.state_Device,n)})),n()};qe.__name__=!0;var Ke=function(e){this.context=e,this.Reset()};Ke.__name__=!0,Ke.prototype={Reset:function(){this.alphaBlendingEnabled=null,this.alphaSourceBlend=null,this.alphaDestinationBlend=null,this.depthWriteEnabled=null,this.depthCompareMode=null,this.culling=null,this.context.enable(2929);2!=this.culling&&(this.culling=2,this.context.enable(2884),this.context.frontFace(2304)),this.context.clearColor(0,0,0,0)},SetBlendFactors:function(e,t,n){if(this.alphaBlendingEnabled!=e){if(this.alphaBlendingEnabled=e,!e)return void this.context.disable(3042);this.context.enable(3042)}this.alphaSourceBlend==t&&this.alphaDestinationBlend==n||(this.alphaSourceBlend=t,this.alphaDestinationBlend=n,this.context.blendFunc(t,n))}};var Je=function(){};Je.__name__=!0,Je.GetOrCreateTexture=function(e,t,n){return Je.GetOrCreateResource(e,Je.textureCache,Je.textureClaims,t,(function(){var t=e.context.createTexture();return n.FillTexture(t),t}))},Je.ReturnTexture=function(e){Je.ReturnResource(e,Je.textureCache,Je.textureClaims,0)},Je.GetOrCreateShader=function(e,t,n){return Je.GetOrCreateResource(e,Je.shaderCache,Je.shaderClaims,t,(function(){var a=e.context.createShader(n?35633:35632);return e.context.shaderSource(a,t),e.context.compileShader(a),a._shaderId=""+Je.shaderId,Je.shaderId++,a}))},Je.ReturnShader=function(e){Je.ReturnResource(e,Je.shaderCache,Je.shaderClaims,1)},Je.GetOrCreateProgram=function(e,t,n){return Je.GetOrCreateResource(e,Je.programCache,Je.programClaims,t._shaderId+":"+n._shaderId,(function(){var a=e.context.createProgram();return e.context.attachShader(a,t),e.context.attachShader(a,n),e.context.linkProgram(a),a}))},Je.ReturnProgram=function(e){Je.ReturnResource(e,Je.programCache,Je.programClaims,2)},Je.GetOrCreateBuffer=function(e,t,n){var a=t._Id;return null==a&&(a=""+Je.bufferId,Je.bufferId++,t._Id=a),Je.GetOrCreateResource(e,Je.bufferCache,Je.bufferClaims,a,(function(){var a=n?34963:34962,i=e.context.createBuffer();return e.context.bindBuffer(a,i),e.context.bufferData(a,t,35044),i}))},Je.ReturnBuffer=function(e){Je.ReturnResource(e,Je.bufferCache,Je.bufferClaims,3)},Je.GetOrCreateResource=function(e,t,n,a,i){var r=e.Id+":"+a,o=t[r];return null==o?((o=i())._cacheId=r,o._device=e,t[r]=o,n[r]=1):n[r]=n[r]+1,o},Je.ReturnResource=function(e,t,n,a){if(null!=e){var i=e._cacheId,r=n[i];if(0==--r){var o=e._device.context;switch(a){case 0:o.deleteTexture(e);break;case 1:o.deleteShader(e);break;case 2:o.deleteProgram(e);break;case 3:o.deleteBuffer(e)}t[i]=null,n[i]=null}else n[i]=r}};var $e=function(e){this.context=e,this.Reset()};$e.__name__=!0,$e.prototype={Reset:function(){this.currentProgram=null,this.boundTextures=[],this.boundBuffers=[]}};var et=function(e){this.Width=128,this.Height=2,this.Device=e,Ie.HiddenObserve(this,"texture",(function(e,t){Je.ReturnTexture(e)}),!0),this.RingTextureObserver=new tt(this)};et.__name__=!0,et.prototype={_updateLoaded:function(){return null!=this.texture},_updatetexture:function(){return null==this.Device?null:Je.GetOrCreateTexture(this.Device,"RingTexture",this)},FillTexture:function(e){var t=this.Device.context;t.bindTexture(3553,e);for(var n=new Uint8Array(this.Width*this.Height*3),a=0,i=0,r=this.Height;i<r;){++i;for(var o=0,s=this.Width;o<s;){var l=o++;l<32||l>96?(n[3*a]=0,n[3*a+1]=0,n[3*a+2]=0):(n[3*a]=255,n[3*a+1]=255,n[3*a+2]=255),++a}}t.texImage2D(3553,0,6407,this.Width,this.Height,0,6407,5121,n),t.generateMipmap(3553),t.texParameteri(3553,10241,9987),t.texParameteri(3553,10240,9729),t.texParameteri(3553,10242,10497),t.texParameteri(3553,10243,10497)}};var tt=function(e){var t=this;this.state_Loaded=!1,this.state_texture=!1;var n=function(){e.Loaded=e._updateLoaded(),t.state_Loaded=!0},a=function(){e.texture=e._updatetexture(),t.state_texture=!0};Ie.HiddenObserve(e,"texture",(function(e,a){t.state_Loaded=b.ScheduleCallback(t.state_Loaded,n)})),Ie.HiddenObserve(e,"Device",(function(e,n){t.state_texture=b.ScheduleCallback(t.state_texture,a)})),n(),a()};tt.__name__=!0;var nt=function(e,t){this.Uri=e,this.isIndexBuffer=t,Ie.HiddenObserve(this,"buffer",(function(e,t){Je.ReturnBuffer(e)}),!0),this.UriBufferObserver=new at(this)};nt.__name__=!0,nt.prototype={_updateLoaded:function(){return null!=this.buffer},_updateDevice:function(){return null==this.DeviceProvider?null:this.DeviceProvider.Device},_updatebuffer:function(){return null==this.Device||null==this.Data?null:Je.GetOrCreateBuffer(this.Device,this.Data,this.isIndexBuffer)}};var at=function(e){var t=this;this.state_Loaded=!1,this.state_Device=!1,this.state_buffer=!1;var n=function(){e.Loaded=e._updateLoaded(),t.state_Loaded=!0},a=function(){e.Device=e._updateDevice(),t.state_Device=!0},i=function(){e.buffer=e._updatebuffer(),t.state_buffer=!0},r=function(e,n){t.state_Device=b.ScheduleCallback(t.state_Device,a)};Ie.HiddenObserve(e,"buffer",(function(e,a){t.state_Loaded=b.ScheduleCallback(t.state_Loaded,n)})),Ie.HiddenObserve(e,"DeviceProvider",(function(e,n){null!=e&&Ie.HiddenForget(e,"Device",r),null!=n&&Ie.HiddenObserve(n,"Device",r),t.state_Device=b.ScheduleCallback(t.state_Device,a)})),Ie.HiddenObserve(e,"Device",(function(e,n){t.state_buffer=b.ScheduleCallback(t.state_buffer,i)})),Ie.HiddenObserve(e,"Data",(function(e,n){t.state_buffer=b.ScheduleCallback(t.state_buffer,i)})),Ie.HiddenObserve(e,"isIndexBuffer",(function(e,n){t.state_buffer=b.ScheduleCallback(t.state_buffer,i)})),n(),a(),i()};at.__name__=!0;var it=function(){};it.__name__=!0,it.GenerateTangentData=function(e,t,n,a){for(var i=e.length/3|0,r=new Float32Array(i),o=new Float32Array(i),s=new Float32Array(i),l=new Float32Array(i),u=new Float32Array(i),d=new Float32Array(i),c=0;c<a.length;){var h=a[c],_=a[c+1],g=a[c+2],v=3*h,b=e[v],f=e[v+1],p=e[v+2],m=3*_,S=3*g,C=2*h,y=n[C],k=n[C+1],V=2*_,H=2*g,O=e[m]-b,w=e[m+1]-f,F=e[m+2]-p,x=e[S]-b,D=e[S+1]-f,P=e[S+2]-p,A=n[V]-y,I=n[V+1]-k,T=n[H]-y,M=n[H+1]-k,R=A*M-T*I,N=0==R?0:1/R,L=(M*O-I*x)*N,E=(M*w-I*D)*N,B=(M*F-I*P)*N,W=(A*x-T*O)*N,U=(A*D-T*w)*N,G=(A*P-T*F)*N;r[h]+=L,o[h]+=E,s[h]+=B,r[_]+=L,o[_]+=E,s[_]+=B,r[g]+=L,o[g]+=E,s[g]+=B,l[h]+=W,u[h]+=U,d[h]+=G,l[_]+=W,u[_]+=U,d[_]+=G,l[g]+=W,u[g]+=U,d[g]+=G,c+=3}for(var X=new Float32Array(3*i),Y=0,z=0,Z=0,Q=0,j=0,q=0,K=0;K<i;){var J=K++,$=3*J,ee=t[$],te=t[$+1],ne=t[$+2];Y=r[J],z=o[J],Z=s[J],Q=l[J],j=u[J],q=d[J];var ae=Y*ee+z*te+Z*ne;if(z-=te*ae,Z-=ne*ae,0!=(Y-=ee*ae)||0!=z||0!=Z){var ie=Math.sqrt(Y*Y+z*z+Z*Z);Y*=ie=0==ie?1:1/ie,z*=ie,Z*=ie}(te*Z-ne*z)*Q+(ne*Y-ee*Z)*j+(ee*z-te*Y)*q<0&&(Y*=-1,z*=-1,Z*=-1),X[3*J]=Y,X[3*J+1]=z,X[3*J+2]=Z}return X};var rt=function(e,t){var n;switch(this.Data=t,this.VertexSemantic=e,this.VertexSemantic){case 0:case 1:case 4:n=3;break;case 2:n=2;break;case 3:n=1}this.Length=t.length/n|0,Ie.HiddenObserve(this,"buffer",(function(e,t){Je.ReturnBuffer(e)}),!0),this.VertexBufferObserver=new ot(this)};rt.__name__=!0,rt.prototype={_updateDevice:function(){return null==this.Mesh?null:this.Mesh.Device},_updatebuffer:function(){return null==this.Device||null==this.Data?null:Je.GetOrCreateBuffer(this.Device,this.Data,!1)}};var ot=function(e){var t=this;this.state_Device=!1,this.state_buffer=!1;var n=function(){e.Device=e._updateDevice(),t.state_Device=!0},a=function(){e.buffer=e._updatebuffer(),t.state_buffer=!0},i=function(e,a){t.state_Device=b.ScheduleCallback(t.state_Device,n)};Ie.HiddenObserve(e,"Mesh",(function(e,a){null!=e&&Ie.HiddenForget(e,"Device",i),null!=a&&Ie.HiddenObserve(a,"Device",i),t.state_Device=b.ScheduleCallback(t.state_Device,n)})),Ie.HiddenObserve(e,"Device",(function(e,n){t.state_buffer=b.ScheduleCallback(t.state_buffer,a)})),Ie.HiddenObserve(e,"Data",(function(e,n){t.state_buffer=b.ScheduleCallback(t.state_buffer,a)})),n(),a()};ot.__name__=!0;var st=function(){};st.__name__=!0,st.Load=function(e,t,n){for(var a=[],i=e.length,r=0,o=e.length;r<o;){var s=[r++],l=lt.GetArrayBuffer(e[s[0]]);l.then(function(e){return function(n){i-=1,a[e[0]]=n,0==i&&t(a)}}(s)),l.catch((function(e){n()}))}};var lt=function(){};lt.__name__=!0,lt.GetArrayBuffer=function(e){return lt.PerformRequest(e,"GET","arraybuffer")},lt.PerformRequest=function(e,t,n){return new Promise((function(a,i){var r=new XMLHttpRequest;r.onload=function(){200==r.status?a(r.response):i(r.statusText)},r.onerror=function(){i("Network Error")},r.open(t,e,!0),r.responseType=n,r.send()}))};var ut=function(){};ut.__name__=!0,ut.Load=function(e,t,n){for(var a=[],i=e.length,r=!1,o=0;o<e.length;){var s=e[o++],l=new Image;a.push(l),l.onload=function(){0==(i-=1)&&t(a)},l.onerror=function(){r||(null!=n&&n(),r=!0)},l.crossOrigin="Anonymous",l.src=s}};var dt=function(e){if(!dt.initialized){var t=window.document.createElement("style");t.type="text/css",t.textContent="@keyframes "+dt.animationName+"{from{opacity:0;}to{opacity:0;}}",window.document.head.appendChild(t),dt.initialized=!0}this.callback=e,this.InitializeElements()};dt.__name__=!0,dt.prototype={InitializeElements:function(){this.resizeSensor=this.AppendChildDivElement(null,"animation: 1ms "+dt.animationName+"; opacity: 0;"+dt.divStyle),this.resizeSensor.className=dt.className,this.expand=this.AppendChildDivElement(this.resizeSensor,dt.divStyle),this.expandChild=this.AppendChildDivElement(this.expand,"width: 100000px; height: 100000px;"+dt.childDivStyle),this.shrink=this.AppendChildDivElement(this.resizeSensor,dt.divStyle),this.shrinkChild=this.AppendChildDivElement(this.shrink,"width: 200%; height: 200%;"+dt.childDivStyle),this.expand.addEventListener("scroll",dl(this,this.OnResize)),this.shrink.addEventListener("scroll",dl(this,this.OnResize)),null!=this.resizeSensor.style.getPropertyValue("animationName")&&this.resizeSensor.addEventListener("animationstart",dl(this,this.AnimationHandler))},Attach:function(e){null!=this.resizeSensor.parentElement&&this.resizeSensor.parentElement.removeChild(this.resizeSensor),null!=e&&(e.appendChild(this.resizeSensor),this.OnResize())},AnimationHandler:function(e){e.animationName==dt.animationName&&this.Reset()},OnResize:function(){if(this.Reset(),null!=this.resizeSensor&&null!=this.resizeSensor.parentElement){var e=window.getComputedStyle(this.resizeSensor.parentElement),t=this.resizeSensor.parentElement.clientWidth-d.parseInt(e.paddingLeft)-d.parseInt(e.paddingRight),n=this.resizeSensor.parentElement.clientHeight-d.parseInt(e.paddingTop)-d.parseInt(e.paddingBottom);t=0|Math.max(t,0),n=0|Math.max(n,0),this.callback(t,n)}},Reset:function(){this.expand.scrollLeft=1e5,this.expand.scrollTop=1e5,this.shrink.scrollLeft=1e5,this.shrink.scrollTop=1e5},AppendChildDivElement:function(e,t){var n=window.document.createElement("div");return null!=t&&(n.style.cssText=t),null!=e&&e.appendChild(n),n}};var ct=function(){this.Height=0,this.Width=0;var e=this;this.ResizeObserverIsAvailable()?this.observer=new window.ResizeObserver((function(t,n){var a=t[0];return e.Width=0|a.contentRect.width,e.Height=0|a.contentRect.height})):this.polyfillObserver=new dt((function(t,n){return e.Width=t,e.Height=n}))};ct.__name__=!0,ct.prototype={ResizeObserverIsAvailable:function(){return null!=window.ResizeObserver},Attach:function(e){null!=this.observer?(null!=this.target&&this.observer.unobserve(this.target),this.target=e,null!=e&&this.observer.observe(e)):null!=this.polyfillObserver&&this.polyfillObserver.Attach(e)}};var ht=function(e,t,n){this.Target=null,this.queriedElements=[],this.Target=null==t?window.document:t,this.querySelector=e,this.attributeFilter=n,this.FindNow(),"loading"==window.document.readyState?window.document.addEventListener("DOMContentLoaded",dl(this,this.FindOnDomLoaded)):this.InitializeObserver()};ht.__name__=!0,ht.prototype={InitializeObserver:function(){var e=this;this.mutationObserver=new MutationObserver(dl(this,this.FindOnDomMutation));var t={attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0};this.mutationObserver.observe(this.Target,t),Ie.HiddenObserve(this,"Target",(function(n,a){if(null!=n){e.mutationObserver.disconnect();for(var i=e.queriedElements.slice(),r=0;r<i.length;)e.RemoveElement(i[r++])}null!=a&&(e.mutationObserver.observe(e.Target,t),e.FindNow())}),!0)},FindNow:function(){for(var e=this.Target.querySelectorAll(this.querySelector),t=[],n=0,a=this.queriedElements;n<a.length;){var i=a[n];++n,-1==Array.prototype.indexOf.call(e,i)&&t.push(i)}for(var r=0;r<t.length;){var o=t[r];++r,this.RemoveElement(o)}for(var s=[],l=0;l<e.length;){var u=e[l];++l,-1==this.queriedElements.indexOf(u)&&s.push(u)}for(var d=0;d<s.length;){var c=s[d];++d,this.AddElement(c)}var h=0!=t.length;(0!=s.length||h)&&this.OnElementsChanged()},FindOnDomLoaded:function(){window.document.removeEventListener("DOMContentLoaded",dl(this,this.FindOnDomLoaded)),this.FindNow(),null==this.mutationObserver&&this.InitializeObserver()},FindOnDomMutation:function(e,t){for(var n=!1,a=!1,i=0;i<e.length;){var r=e[i];if(++i,"attributes"==r.type){if(null!=this.attributeFilter&&-1==this.attributeFilter.indexOf(r.attributeName))continue;var o=r.target;if(r.oldValue==o.getAttribute(r.attributeName))continue;if(null==o.parentElement)continue;if(ll.MatchesQuerySelector(o,this.querySelector))n=!0,this.AddElement(o);else{a=!0,this.RemoveElement(o);for(var s=0,l=this.queriedElements;s<l.length;){var u=l[s];++s,ll.MatchesQuerySelector(u,this.querySelector)||(a=!0,this.RemoveElement(u))}for(var d=0,c=o.querySelectorAll(this.querySelector);d<c.length;)n=!0,this.AddElement(c[d++])}}else if("childList"==r.type){for(var h=0,_=r.addedNodes;h<_.length;){var g=_[h];if(++h,1==g.nodeType){var v=g;if(ll.MatchesQuerySelector(v,this.querySelector))n=!0,this.AddElement(v);else{n=!0;for(var b=v.querySelectorAll(this.querySelector),f=0;f<b.length;)this.AddElement(b[f++])}}}if(null!=r.removedNodes&&r.removedNodes.length>0)for(var p=0,m=this.queriedElements;p<m.length;){var S=m[p];++p,window.document.documentElement.contains(S)||(a=!0,this.RemoveElement(S))}}}(a||n)&&this.OnElementsChanged()},OnElementsChanged:function(){},AddElement:function(e){-1==this.queriedElements.indexOf(e)&&this.queriedElements.push(e)},RemoveElement:function(e){o.remove(this.queriedElements,e)}};var _t=function(e,t,n,a){this.callback=n,this.attribute=t,ht.call(this,e,a,[t])};_t.__name__=!0,_t.__super__=ht,_t.prototype=i(ht.prototype,{OnElementsChanged:function(){ht.prototype.OnElementsChanged.call(this);for(var e=this.queriedElements,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=e[i].getAttribute(this.attribute)}this.Result=t,null!=this.callback&&this.callback(t)}});var gt=function(e,t,n){this.transform=n,ht.call(this,e,t)};gt.__name__=!0,gt.__super__=ht,gt.prototype=i(ht.prototype,{OnElementsChanged:function(){ht.prototype.OnElementsChanged.call(this),this.queriedElements.length>0?null!=this.transform?this.Result=this.transform(this.queriedElements[0]):this.Result=this.queriedElements[0]:this.Result=null}});var vt=function(e,t,n){this.transform=n,ht.call(this,e,t)};vt.__name__=!0,vt.__super__=ht,vt.prototype=i(ht.prototype,{OnElementsChanged:function(){if(ht.prototype.OnElementsChanged.call(this),this.queriedElements.length>0)if(null!=this.transform){for(var e=this.queriedElements,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=this.transform(e[i])}this.Result=t}else this.Result=this.queriedElements;else this.Result=null}});var bt=function(e){this.stringFactory=e,Ie.HiddenObserve(this,"Value",(function(e,t){$.Fire("integrationdisplaymode",new de(t))}),!0),this.ConfigurationDisplayModeObserver=new ft(this)};bt.__name__=!0,bt.prototype={_updateDisplayMode:function(){return null==this.stringFactory||null==this.Configuration||null==this.Configuration.IntegrationDisplayMode?null:this.stringFactory.Create(this.Configuration.IntegrationDisplayMode)},_updateValue:function(){return null==this.DisplayMode?null:this.DisplayMode.Value}};var ft=function(e){var t=this;this.state_DisplayMode=!1,this.state_Value=!1;var n=function(){e.DisplayMode=e._updateDisplayMode(),t.state_DisplayMode=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_DisplayMode=b.ScheduleCallback(t.state_DisplayMode,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"stringFactory",(function(e,a){t.state_DisplayMode=b.ScheduleCallback(t.state_DisplayMode,n)})),Ie.HiddenObserve(e,"Configuration",(function(e,a){null!=e&&Ie.HiddenForget(e,"IntegrationDisplayMode",i),null!=a&&Ie.HiddenObserve(a,"IntegrationDisplayMode",i),t.state_DisplayMode=b.ScheduleCallback(t.state_DisplayMode,n)})),Ie.HiddenObserve(e,"DisplayMode",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",r),null!=n&&Ie.HiddenObserve(n,"Value",r),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};ft.__name__=!0;var pt=function(e){this.settings=e};pt.__name__=!0,pt.prototype={Transform:function(e){if(tl.IsNullOrWhiteSpace(e))return null;var t=e;if(null==this.settings||1!=this.settings.DisableRemoveGBs){var n=new RegExp("[\\(\\[]?(1|2|3|6|7|8|9|10|12|16|32|64|128|256|512|1024|2048|4096|8192|16384)[\\W_]*(GB RAM|GB|GO|GT|G|TB)\\b[\\)\\]]?|[\\(\\[]?(4|5)[\\W_]*(GB RAM|GB|GO|GT|TB)\\b[\\)\\]]?","gi".split("u").join(""));t=e.replace(n,"")}var a=new RegExp("[;?@=$,<>*%:&\\\\/]","ig".split("u").join("")),i=t.replace(a,"");if(i=c.replace(i,"+","⁺"),t=c.replace(c.replace(t=i,"\n",""),"\r",""),null==this.settings||1!=this.settings.DisableRemoveMultipleSpaces){for(var r=t;;){if(r==(r=c.replace(r,"  "," ")))break}t=r}if(null==this.settings||1!=this.settings.DisableToKebabCase){var o=new RegExp("\\s","g".split("u").join(""));t=t.replace(o,"-")}if(null==this.settings||1!=this.settings.DisableRemoveMultipleDashes){for(var s=t;;){if(s==(s=c.replace(s,"--","-")))break}t=s}if(null==this.settings||1!=this.settings.DisableRemoveOpeningDashes){for(var l=t;c.startsWith(l,"-");)l=l.substring(1,l.length);t=l}if(null==this.settings||1!=this.settings.DisableRemoveTrailingDashes){for(var u=t;c.endsWith(u,"-");)u=u.substring(0,u.length-1);t=u}return null!=this.settings&&1==this.settings.DisableToLowerCase||(t=t.toLowerCase()),tl.IsNullOrWhiteSpace(t)?null:t}};var mt=function(){};mt.__name__=!0;var St=function(e){this.route=e,this.FullscreenManagerObserver=new Ct(this)};St.__name__=!0,St.prototype={_updateIsFullscreen:function(){if(null==this.route)return!1;var e=this.route.ContainsFullscreen;return e?(window.document.addEventListener("keyup",dl(this,this.KeyUp)),$.Fire("enterfullscreen",new le)):(window.document.removeEventListener("keyup",dl(this,this.KeyUp)),this.IsFullscreen&&$.Fire("leavefullscreen",new he)),e},ExitFullscreen:function(){this.route.GoTo("")},KeyUp:function(e){27==e.keyCode&&this.ExitFullscreen()}};var Ct=function(e){var t=this;this.state_IsFullscreen=!1;var n=function(){e.IsFullscreen=e._updateIsFullscreen(),t.state_IsFullscreen=!0},a=function(e,a){t.state_IsFullscreen=b.ScheduleCallback(t.state_IsFullscreen,n)};Ie.HiddenObserve(e,"route",(function(e,i){null!=e&&Ie.HiddenForget(e,"ContainsFullscreen",a),null!=i&&Ie.HiddenObserve(i,"ContainsFullscreen",a),t.state_IsFullscreen=b.ScheduleCallback(t.state_IsFullscreen,n)})),Ie.HiddenObserve(e,"IsFullscreen",(function(e,a){t.state_IsFullscreen=b.ScheduleCallback(t.state_IsFullscreen,n)})),n()};Ct.__name__=!0;var yt=function(e){this.objectFactory=new hr,this.floatFactory=new cr,this.elementFactory=new dr,this.boolFactory=new sr,this.stringFactory=new _r,this.contentIdentifierSanitizer=new pt(e.SanitizerSettings),this.RegisterComponents();var t=new Dt(200),n=new bt(this.stringFactory),a=n,i=new $s(null),r=new Ci,o=new Ks(r);this.stringFactory.BoolFactory=this.boolFactory,this.stringFactory.ElementFactory=this.elementFactory,this.stringFactory.FloatFactory=this.floatFactory,this.stringFactory.IntervalUpdater=t,this.stringFactory.ObjectFactory=this.objectFactory,this.stringFactory.Sanitizer=this.contentIdentifierSanitizer,this.stringFactory.ColorPickerValue=i,this.boolFactory.ActiveTestVariantName=o,this.boolFactory.ElementFactory=this.elementFactory,this.boolFactory.FloatFactory=this.floatFactory,this.boolFactory.IntervalUpdater=t,this.boolFactory.ObjectFactory=this.objectFactory,this.boolFactory.StringFactory=this.stringFactory,this.boolFactory.FloatComparator=new tr,this.boolFactory.StringComparator=new nr,this.elementFactory.BoolFactory=this.boolFactory,this.elementFactory.StringFactory=this.stringFactory,this.floatFactory.ElementFactory=this.elementFactory,this.floatFactory.IntervalUpdater=t,this.floatFactory.ObjectFactory=this.objectFactory,this.floatFactory.StringFactory=this.stringFactory,this.objectFactory.BoolFactory=this.boolFactory,this.objectFactory.ElementFactory=this.elementFactory,this.objectFactory.FloatFactory=this.floatFactory,this.objectFactory.IntervalUpdater=t,this.objectFactory.StringFactory=this.stringFactory;var l=new pi,u=new St(l),d=new gi(e,this.stringFactory);d=new di(d,this.contentIdentifierSanitizer);var c=new gi({ContentIdentifierProvider:e.ComparisonContentIdentifierProvider},this.stringFactory);c=new di(c,this.contentIdentifierSanitizer);var _=window.BinkiesSettings.ViewSettings,g=new Si(e.Settings.AccessKey,_.ViewId),v=new M(d,g),b=new Qs(!1),m=new Ys(c,b),S=new M(m,g),C=new $s(!1),y="";_.BrowserSupportsBrotli?y=".br":_.BrowserSupportsGzip&&(y=".gz");var k=new Vt(_.PlayerPath+"/player.min.js"+y,C,l),V=new Ot(new Y(v),new Z(v),k,C,l);this.boolFactory.State=V;var H=new E;new I(new K(new j(new Y(v),V,l),V.WantToShowContent,l),_.BrowserSupportsBrotli,H),new I(new Y(S),_.BrowserSupportsBrotli,H),$.AddListener("engaged",(function(e,t){return V.IsEngaged=!0}));var O=new Xn,w=new $s;a=new js(a,w);var F=new ks(window.navigator),x=v,D=null;if(Ut.DebuggerEnabled()||"dev"==e.Settings.IntegrationVersion){var P=new Gt(v);x=P,F=new Yt(F);var A=new Xr("DebugDisplayMode");a=new js(a,A);var T,R=new Xr("DebugActiveTestVariantName");o.Decoratee=new js(o.Decoratee,R);var N=s.find(e.Features,(function(e){return"Root"==e.Id}));T=null!=N?N.Settings.targetElement:{id:"cssselector",settings:{selector:{id:"constant",settings:{value:'[data-binkies-content="root"]'}}}};var L=null,B=s.find(e.Features,(function(e){return"Testing"==e.Id}));null!=B&&(L=B.Settings.testVariants);var W=new Ut;W.ElementFactory=this.elementFactory,W.State=V,W.ShareManager=O,W.ContentIdentifierProvider=d,W.ComparisonContentIdentifierProvider=m,W.ContentQueue=v,W.LoadStateProvider=P,W.TargetDefinition=T,W.IntegrationSettings=e.Settings,W.DebugDisplayMode=A,W.Route=l,W.DebugActiveTestVariantName=R,W.TestVariants=L,new ye(W,W);var U=window.document.head,G=window.document.createElement("script");G.src="https://binkiesteaserstorage.blob.core.windows.net/diagnostic/idcrawler/idcrawler.js",G.async=!0,G.type="text/javascript";var X=Ve.Append;null==X&&(X=Ve.Append),U.appendChild(G),D=W.GridDebuggingEnabled}var z=new Cs;Ie.HiddenObserve(z,"IsUserInteracting",(function(e,t){t&&$.Fire("engaged",new se)}),!0),z.SetScreenSizeProvider(new Rt);var Q=new Jo(z,z,z,z),q=Math.PI,J=new Bo(z,Q.Create(Ko.Bookmark([{X:0,Y:Math.sin(.5*q),Z:0,W:Math.cos(.5*q)}],.5,22)));f.afterComputedPropertiesUpdated.Register((function(e){J.Update(f.TotalElapsedTime,e)})),this.boolFactory.IntegrationDisplayMode=a,this.boolFactory.NetworkSpeedProvider=F;var ee=new $s("none"),te=e.Features,ne=this.boolFactory,ae=this.stringFactory,ie=new h,re=new li(new ui);new $n(te,new ur(V,ee,v,S,x,k,ne,ae,O,J,Q,z,ie,D,a,w,re,new p,l,u,b,this.objectFactory,i),V,v,ee,k,this.elementFactory,this.boolFactory,this.stringFactory,a,l,r,H),Ie.HiddenObserve(a,"Value",(function(e,t){V.WantToShowContent.SetValue(V.WantToShowContent.Value||"onpage"==t)}),!0),n.Configuration=e};yt.__name__=!0,yt.prototype={RegisterComponents:function(){xe.RegisterComponent("buttoncomponent",Lt),xe.RegisterComponent("textcomponent",qn),xe.RegisterComponent("player",It),xe.RegisterComponent("gridarea",cn),xe.RegisterComponent("elementdebugger",qt),xe.RegisterComponent("resizesensor",Bn),xe.RegisterComponent("showhide3dbutton",zn),xe.RegisterComponent("flipper",nn),xe.RegisterComponent("gallery",rn),xe.RegisterComponent("hand",pn),xe.RegisterComponent("loadingbar",Dn),xe.RegisterComponent("partymodehint",Tn),xe.RegisterComponent("resetnavigationbutton",Rn),xe.RegisterComponent("grid",vn),xe.RegisterComponent("integrationplayer",Vn),xe.RegisterComponent("inlinebox",yn),xe.RegisterComponent("layout",On),xe.RegisterComponent("image",Sn),xe.RegisterComponent("sharebutton",Un),xe.RegisterComponent("linkbutton",Fn),xe.RegisterComponent("dropdown",Qt),xe.RegisterComponent("stylepane",Qn),xe.RegisterComponent("displaymodebutton",Jt),xe.RegisterComponent("dynamiccomponent",en),xe.RegisterComponent("navigationbuttons",An),xe.RegisterComponent("route",Ln),xe.RegisterComponent("gotoroutebutton",un),xe.RegisterComponent("googleform",sn),xe.RegisterComponent("colorpicker",Bt)}};var kt=function(e){var t=this;if(null==e&&(e=window.BinkiesIntegrationConfiguration),!Jn.IntegrationAlreadyOnPage(e.Settings)){var n=window.BinkiesSettings.ViewSettings;this.SetDebugTrace(e);var a=s.find(e.Features,(function(e){return"GoogleAnalytics"==e.Id})),i=s.find(e.Features,(function(e){return"CustomAnalytics"==e.Id}));$n.CreateStaticFeatureInstance(a),$n.CreateStaticFeatureInstance(i);var r=new H(null,new k(null,new V(null,new w(n.StatsUrl,n.StatsToken))));new O(e.Settings.AccessKey,n.ViewId,r),$.Fire("integrationloaded",new ce),window.BinkiesSettings.Supports3D((function(n,a,i){if($.Fire("supports3d",new pe(n,a)),n){var r;if(null==i)r=null;else{var o=i.getContextAttributes(),s=null==o?null:o.antialias,l=i.getExtension("WEBGL_debug_renderer_info");r={Antialias:s,Renderer:null==l?null:i.getParameter(l.UNMASKED_RENDERER_WEBGL),WebGLVersion:i.getParameter(7938)}}$.Fire("driverinfo",new oe(r)),t.IncludeStyles(["",'#binkies-content-area{pointer-events:none;user-select:none}#binkies-content-area>*:not(.binkies-unselectable){pointer-events:all}#binkies-player-component{pointer-events:all;display:inline-block;position:relative;width:100%;height:100%}#binkies-scene{position:absolute;left:0px;right:0px;top:0px;bottom:0px}.binkies-cursor-fallback canvas.rotate{cursor:url("https://engage-content.binkies3d.com/integrations/mBA9wdsD/0ygoh7va/bdd8909/content/cursor_rotate.cur"),auto}.binkies-cursor-modern canvas.rotate{cursor:url("https://engage-content.binkies3d.com/integrations/mBA9wdsD/0ygoh7va/bdd8909/content/cursor_rotate.png") 16 16,auto;cursor:-webkit-image-set(url("https://engage-content.binkies3d.com/integrations/mBA9wdsD/0ygoh7va/bdd8909/content/cursor_rotate.png") 1x, url("https://engage-content.binkies3d.com/integrations/mBA9wdsD/0ygoh7va/bdd8909/content/cursor_rotate_high.png") 2x) 16 16,crosshair}#binkies-pointer-area{position:absolute;padding-right:48px;padding-bottom:77px;top:0px;right:0px;left:0px;bottom:0px;display:none;overflow:hidden;display:block}@keyframes binkies-pointer-animation{0%{transform:translate(50%, 80%);opacity:0}2%{transform:translate(50%, 80%);opacity:1}7%,9%{transform:translate(50%, 50%)}16%,18%{transform:translate(5%, 50%)}25%{transform:translate(95%, 50%)}27%{transform:translate(5%, 50%);opacity:1}29%,100%{transform:translate(5%, 50%);opacity:0}}.binkies-modern-hand .binkies-pointer-display{animation:binkies-pointer-display-animation 13.75s steps(1, end) 4s infinite}@keyframes binkies-pointer-display-animation{0%{background-position:48px 0px}7%{background-position:0px 0px}26%,100%{background-position:48px 0px}}.binkies-simple-hand .binkies-pointer-inner-visual{display:none}.binkies-modern-hand .binkies-pointer-inner-visual{animation:binkies-pointer-inner-animation 13.75s linear 4s infinite}@keyframes binkies-pointer-inner-animation{0%,6.99%{opacity:0;margin-top:3px;margin-left:5px;width:28px;height:28px}7%,26%{opacity:1;margin-top:3px;margin-left:5px;width:28px;height:28px}28%,100%{opacity:0;margin-top:-11px;margin-left:-9px;width:56px;height:56px}}.binkies-simple-hand .binkies-pointer-outer-visual{display:none}.binkies-modern-hand .binkies-pointer-outer-visual{animation:binkies-pointer-outer-animation 13.75s linear 4s infinite}@keyframes binkies-pointer-outer-animation{0%,6.99%{opacity:0;margin-top:3px;margin-left:5px;width:28px;height:28px}7%{opacity:0.8;margin-top:3px;margin-left:5px;width:28px;height:28px}9%,100%{opacity:0;margin-top:-11px;margin-left:-9px;width:56px;height:56px}}.binkies-mode-switcher{height:100%;width:100%}.binkies-mode-switcher .binkies-mode-switcher-header{width:100%;justify-content:center}.binkies-mode-switcher .binkies-mode-switcher-content{flex:1 1 auto;position:relative}.binkies-unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;pointer-events:none}.binkies-gallery{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;pointer-events:none}.binkies-animated{transition:opacity .5s,visibility .5s}.binkies-visible{opacity:1;visibility:visible}.binkies-hidden{opacity:0;visibility:hidden}.grid-cell>div{box-sizing:border-box}.binkies-button{height:100%;width:100%}.binkies-button *{height:100%;width:100%}.binkies-vertical-box{display:flex;flex-direction:column}.binkies-vertical-box>*{max-height:100%;flex-direction:column}.binkies-vertical-box *{width:100%;height:auto}.binkies-horizontal-box{display:flex;flex-direction:row}.binkies-horizontal-box>*{max-width:100%;flex-direction:row}.binkies-horizontal-box *{height:100%;width:auto}.binkies-start-aligned{justify-content:flex-start}.binkies-end-aligned{justify-content:flex-end}.binkies-center-aligned{justify-content:center}.binkies-stretch-aligned{justify-content:center}.binkies-stretch-aligned *{flex:1 1 auto}.binkies-spacebetween-aligned{justify-content:space-between}.binkies-flex-centered{display:flex;justify-content:center;align-items:center;min-width:0%;min-height:0%}.binkies-sensor-element{position:absolute;left:0px;top:0px;right:0px;bottom:0px;overflow:hidden;z-index:-1;visibility:hidden}div[data-binkies-content="root"]{opacity:0}div[data-binkies-content="root"][mounted="true"]{transition:opacity 0.5s linear 0.3s;opacity:1}\n'],e.Settings.IntegrationUrlPath),new yt(e)}}),mt.AllowSoftwareRendering)}};kt.__name__=!0,kt.prototype={SetDebugTrace:function(e){var t=el.trace;el.trace=function(n,a){(Ut.DebuggerEnabled()||"dev"==e.Settings.IntegrationVersion)&&t(n,a)}},IncludeStyles:function(e,t){for(var n=0;n<e.length;){var a=c.replace(e[n++],"https://engage-content.binkies3d.com/integrations/mBA9wdsD/0ygoh7va/bdd8909/",t+"/"),i=window.document.head,r=window.document.createElement("style");r.textContent=a;var o=Ve.Append;null==o&&(o=Ve.Append),i.appendChild(r)}}};var Vt=function(e,t,n){this.Downloaded=!1,this.url=e,this.wantToShowContent=t,this.route=n,this.ScriptDownloaderObserver=new Ht(this)};Vt.__name__=!0,Vt.prototype={_updateShouldDownload:function(){var e=this;if(this.ShouldDownload)return!0;if(!this.wantToShowContent.Value&&!this.route.ContainsFullscreen)return!1;var t=this.url,n=window.document.head,a=function(){return e.Downloaded=!0},i=window.document.createElement("script");i.src=t,i.async=!0,i.type="text/javascript",null!=a&&i.addEventListener("load",(function(e){a()}));var r=Ve.Append;return null==r&&(r=Ve.Append),n.appendChild(i),!0}};var Ht=function(e){var t=this;this.state_ShouldDownload=!1;var n=function(){e.ShouldDownload=e._updateShouldDownload(),t.state_ShouldDownload=!0},a=function(e,a){t.state_ShouldDownload=b.ScheduleCallback(t.state_ShouldDownload,n)},i=function(e,a){t.state_ShouldDownload=b.ScheduleCallback(t.state_ShouldDownload,n)};Ie.HiddenObserve(e,"ShouldDownload",(function(e,a){t.state_ShouldDownload=b.ScheduleCallback(t.state_ShouldDownload,n)})),Ie.HiddenObserve(e,"wantToShowContent",(function(e,i){null!=e&&Ie.HiddenForget(e,"Value",a),null!=i&&Ie.HiddenObserve(i,"Value",a),t.state_ShouldDownload=b.ScheduleCallback(t.state_ShouldDownload,n)})),Ie.HiddenObserve(e,"route",(function(e,a){null!=e&&Ie.HiddenForget(e,"ContainsFullscreen",i),null!=a&&Ie.HiddenObserve(a,"ContainsFullscreen",i),t.state_ShouldDownload=b.ScheduleCallback(t.state_ShouldDownload,n)})),Ie.HiddenObserve(e,"url",(function(e,a){t.state_ShouldDownload=b.ScheduleCallback(t.state_ShouldDownload,n)})),n()};Ht.__name__=!0;var Ot=function(e,t,n,a,i){this.IsEngaged=!1,this.CanShowFullscreen=!1,this.CanShowContent=!1,this.latestProvider=e,this.loadingProvider=t,this.playerDownloader=n,this.WantToShowContent=a,this.route=i,this.StateObserver=new wt(this)};Ot.__name__=!0,Ot.prototype={_updateContentLoading:function(){return null!=this.loadingProvider&&null!=this.loadingProvider.ProductColor},_updateContentDownloaded:function(){return null!=this.latestProvider&&null!=this.latestProvider.ProductColor&&null!=this.latestProvider.ProductColor.Color&&this.latestProvider.ProductColor.Color.LoadState==L.Loaded},_updateContentCanBeDownloaded:function(){return null!=this.latestProvider&&null!=this.latestProvider.ProductColor&&null!=this.latestProvider.ProductColor.Color&&(!!this.latestProvider.ProductColor.Color.ReadyForCustomer&&this.latestProvider.ProductColor.Color.LoadState==L.NotLoaded)},_updateContentAvailable:function(){return!(!this.ContentCanBeDownloaded&&!this.ContentLoading)||this.ContentDownloaded},_updateResourcesLoaded:function(){return!!this.ContentDownloaded&&this.playerDownloader.Downloaded},_updateShowContent:function(){return!(!this.WantToShowContent.Value||!this.CanShowContent)&&this.ResourcesLoaded},_updateShowFullscreen:function(){return null!=this.route&&(!!this.route.ContainsFullscreen&&this.CanShowFullscreen)},Reset:function(){this.route.GoTo(""),this.IsEngaged=!1}};var wt=function(e){var t=this;this.state_ContentLoading=!1,this.state_ContentDownloaded=!1,this.state_ContentCanBeDownloaded=!1,this.state_ContentAvailable=!1,this.state_ResourcesLoaded=!1,this.state_ShowContent=!1,this.state_ShowFullscreen=!1;var n=function(){e.ContentLoading=e._updateContentLoading(),t.state_ContentLoading=!0},a=function(){e.ContentDownloaded=e._updateContentDownloaded(),t.state_ContentDownloaded=!0},i=function(){e.ContentCanBeDownloaded=e._updateContentCanBeDownloaded(),t.state_ContentCanBeDownloaded=!0},r=function(){e.ContentAvailable=e._updateContentAvailable(),t.state_ContentAvailable=!0},o=function(){e.ResourcesLoaded=e._updateResourcesLoaded(),t.state_ResourcesLoaded=!0},s=function(){e.ShowContent=e._updateShowContent(),t.state_ShowContent=!0},l=function(){e.ShowFullscreen=e._updateShowFullscreen(),t.state_ShowFullscreen=!0},u=function(e,a){t.state_ContentLoading=b.ScheduleCallback(t.state_ContentLoading,n)},d=function(e,n){t.state_ContentDownloaded=b.ScheduleCallback(t.state_ContentDownloaded,a),t.state_ContentCanBeDownloaded=b.ScheduleCallback(t.state_ContentCanBeDownloaded,i)},c=function(e,n){t.state_ContentCanBeDownloaded=b.ScheduleCallback(t.state_ContentCanBeDownloaded,i)},h=function(e,n){null!=e&&(Ie.HiddenForget(e,"LoadState",d),Ie.HiddenForget(e,"ReadyForCustomer",c)),null!=n&&(Ie.HiddenObserve(n,"LoadState",d),Ie.HiddenObserve(n,"ReadyForCustomer",c)),t.state_ContentDownloaded=b.ScheduleCallback(t.state_ContentDownloaded,a),t.state_ContentCanBeDownloaded=b.ScheduleCallback(t.state_ContentCanBeDownloaded,i)},_=function(e,n){null!=e&&Ie.HiddenForget(e,"Color",h),null!=n&&Ie.HiddenObserve(n,"Color",h),t.state_ContentDownloaded=b.ScheduleCallback(t.state_ContentDownloaded,a),t.state_ContentCanBeDownloaded=b.ScheduleCallback(t.state_ContentCanBeDownloaded,i)},g=function(e,n){t.state_ResourcesLoaded=b.ScheduleCallback(t.state_ResourcesLoaded,o)},v=function(e,n){t.state_ShowContent=b.ScheduleCallback(t.state_ShowContent,s)},f=function(e,n){t.state_ShowFullscreen=b.ScheduleCallback(t.state_ShowFullscreen,l)};Ie.HiddenObserve(e,"loadingProvider",(function(e,a){null!=e&&Ie.HiddenForget(e,"ProductColor",u),null!=a&&Ie.HiddenObserve(a,"ProductColor",u),t.state_ContentLoading=b.ScheduleCallback(t.state_ContentLoading,n)})),Ie.HiddenObserve(e,"latestProvider",(function(e,n){null!=e&&Ie.HiddenForget(e,"ProductColor",_),null!=n&&Ie.HiddenObserve(n,"ProductColor",_),t.state_ContentDownloaded=b.ScheduleCallback(t.state_ContentDownloaded,a),t.state_ContentCanBeDownloaded=b.ScheduleCallback(t.state_ContentCanBeDownloaded,i)})),Ie.HiddenObserve(e,"ContentCanBeDownloaded",(function(e,n){t.state_ContentAvailable=b.ScheduleCallback(t.state_ContentAvailable,r)})),Ie.HiddenObserve(e,"ContentLoading",(function(e,n){t.state_ContentAvailable=b.ScheduleCallback(t.state_ContentAvailable,r)})),Ie.HiddenObserve(e,"ContentDownloaded",(function(e,n){t.state_ContentAvailable=b.ScheduleCallback(t.state_ContentAvailable,r),t.state_ResourcesLoaded=b.ScheduleCallback(t.state_ResourcesLoaded,o)})),Ie.HiddenObserve(e,"playerDownloader",(function(e,n){null!=e&&Ie.HiddenForget(e,"Downloaded",g),null!=n&&Ie.HiddenObserve(n,"Downloaded",g),t.state_ResourcesLoaded=b.ScheduleCallback(t.state_ResourcesLoaded,o)})),Ie.HiddenObserve(e,"WantToShowContent",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",v),null!=n&&Ie.HiddenObserve(n,"Value",v),t.state_ShowContent=b.ScheduleCallback(t.state_ShowContent,s)})),Ie.HiddenObserve(e,"CanShowContent",(function(e,n){t.state_ShowContent=b.ScheduleCallback(t.state_ShowContent,s)})),Ie.HiddenObserve(e,"ResourcesLoaded",(function(e,n){t.state_ShowContent=b.ScheduleCallback(t.state_ShowContent,s)})),Ie.HiddenObserve(e,"route",(function(e,n){null!=e&&Ie.HiddenForget(e,"ContainsFullscreen",f),null!=n&&Ie.HiddenObserve(n,"ContainsFullscreen",f),t.state_ShowFullscreen=b.ScheduleCallback(t.state_ShowFullscreen,l)})),Ie.HiddenObserve(e,"CanShowFullscreen",(function(e,n){t.state_ShowFullscreen=b.ScheduleCallback(t.state_ShowFullscreen,l)})),n(),a(),i(),r(),o(),s(),l()};wt.__name__=!0;var Ft=function(){};Ft.__name__=!0,Ft.getLocalStorage=function(){try{var e=window.localStorage;if(e.getItem(""),0==e.length){var t="_hx_"+Math.random();e.setItem(t,t),e.removeItem(t)}return e}catch(e){return null}};var xt=function(){};xt.__name__=!0,xt.prototype={getItem:function(e){return null!=xt.storage?xt.storage.getItem(e):null},setItem:function(e,t){null==xt.storage||xt.storage.setItem(e,t)},removeItem:function(e){null==xt.storage||xt.storage.removeItem(e)}};var Dt=function(e,t){null==t&&(t=!0),this.Value=0,this.updateInterval=e,t&&this.Run()};Dt.__name__=!0,Dt.prototype={Run:function(){this.intervalID=window.setInterval(dl(this,this.tick),this.updateInterval)},tick:function(){this.Value++}};var Pt=function(){this.yOffset=0,this.xOffset=0,De.call(this),Pt.cssAddedToPage||(this.AddStyleToHead(".binkies-draggable\n{\n\tposition: fixed;\n}\n\n.binkies-dragger\n{\n\tuser-select: none;\n\tcursor: move;\n}"),Pt.cssAddedToPage=!0)};Pt.__name__=!0,Pt.SetTranslate=function(e,t,n){n.style.transform="translate3d("+e+"px, "+t+"px, 0)"},Pt.__super__=De,Pt.prototype=i(De.prototype,{Mounted:function(){De.prototype.Mounted.call(this),this.draggableElement=this.root,this.draggerElement=this.root.querySelector(".binkies-dragger"),this.draggerElement.addEventListener("pointerdown",dl(this,this.DragStart),!1),window.addEventListener("pointerup",dl(this,this.DragEnd),!1)},Unmounted:function(){De.prototype.Unmounted.call(this),this.draggerElement.removeEventListener("pointerdown",dl(this,this.DragStart)),window.removeEventListener("pointerup",dl(this,this.DragEnd))},DragStart:function(e){this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset,window.addEventListener("pointermove",dl(this,this.Drag),!1),window.document.addEventListener("touchmove",dl(this,this.preventBehavior),{passive:!1})},DragEnd:function(){this.initialX=this.currentX,this.initialY=this.currentY,window.removeEventListener("pointermove",dl(this,this.Drag),!1),window.document.removeEventListener("touchmove",dl(this,this.preventBehavior))},Drag:function(e){e.preventDefault(),this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY,this.xOffset=this.currentX,this.yOffset=this.currentY,Pt.SetTranslate(this.currentX,this.currentY,this.draggableElement)},preventBehavior:function(e){e.preventDefault()}});var At=function(e,t,n){this.Composition=e,this.OptionUId=t,this.ProductUId=n};At.__name__=!0;var It=function(){this.sceneItems=[],this.cursorFallback="Netscape"==window.navigator.appName&&window.navigator.appVersion.indexOf("Trident")>-1||"Netscape"==window.navigator.appName&&window.navigator.appVersion.indexOf("Edge")>-1,De.call(this),this.PlayerComponentObserver=new Tt(this)};It.__name__=!0,It.__super__=De,It.prototype=i(De.prototype,{_updateAriaValue:function(){return null!=this.AriaLabel?this.AriaLabel:""},_updateUpdateSceneItems:function(){if(null==this.playerHandle)return!1;if(null==this.SceneManager)return!1;if(null==this.NavigationManager||null==this.NavigationManager.NavigationModel)return!1;for(var e=this.sceneItems,t=this.SceneManager.SceneItems,n=0|Math.min(0|Math.max(e.length,t.length),this.NavigationManager.NavigationModel.ProductTransformModels.length),a=!1,i=0;i<n;){var r=i++,o=e[r],l=t[r],u=null!=l?l.Composition:null,d=null!=l?l.OptionUId:null,c=null!=l?l.ProductUId:null;(null!=o?o.Composition:null)==u&&(null!=o?o.OptionUId:null)==d||(a=!0,e[r]=new At(u,d,c),null!=u&&null!=d&&(this.playerHandle.switchToComposition(u,d,r),$.Fire("contentswitched",new re(c,d))))}if(a){for(var h=new Array(e.length),_=0,g=e.length;_<g;){var v=_++;h[v]=e[v].Composition}if(s.has(h,null))return!1;this.FireEvent("CompositionsChanged",h)}return!0},_updateUpdateNav:function(){if(null==this.NavigationManager||null==this.NavigationManager.NavigationModel)return null;if(null==this.playerHandle)return null;for(var e=this.NavigationManager.NavigationModel,t=[],n=0,a=e.ProductTransformModels;n<a.length;){var i=a[n];++n,t.push({position:i.ProductPosition,orientation:i.ProductOrientation})}return this.playerHandle.updateExternalNavigation({camera:{position:e.CameraPosition,orientation:e.CameraOrientation,fov:e.CameraFieldOfView,near:.01,far:10},products:t}),null},Mounted:function(){if(null==this.PlayerParameters)throw new rl("We want playerHandle parameters!");this.playerHandle=this.PlayerProvider.GetPlayer(this.PlayerParameters),this.playerHandle.appendTo(this.root),this.playerHandle.resume(),this.FireEvent("PlayerMounted",this.playerHandle.getPlayer())},Unmounted:function(){this.playerHandle.remove(),this.playerHandle.pause(),this.PlayerProvider.ReturnPlayer(this.playerHandle),this.playerHandle=null},_updateVirtualDom:function(){var e=null;return(e=Oe.CreateNode("div")).Attributes.role="img",e.Attributes.id="binkies-player-component",e.Attributes.class=this.cursorFallback?"binkies-cursor-fallback":"binkies-cursor-modern",e.Attributes["aria-label"]=this.AriaValue,null!=this.PlayerParameters&&e.AddNode("style").AddText("\n\t\t\t.binkies-gallery *\n\t\t\t{\n\t\t\t\tvisibility: hidden!important;\n\t\t\t}\n\t\t\t.binkies-bookmark\n\t\t\t{\n\t\t\t\twidth: "+this.PlayerParameters.galleryBookmarkWidth+"px;\n\t\t\t\theight: "+this.PlayerParameters.galleryBookmarkHeight+"px;\n\t\t\t}\n\t\t"),null==e&&(e=Oe.CreateNode(this.converter.GetPlaceholderTag())),e}});var Tt=function(e){var t=this;this.state_AriaValue=!1,this.state_UpdateSceneItems=!1,this.state_UpdateNav=!1,this.state_VirtualDom=!1;var n=function(){e.AriaValue=e._updateAriaValue(),t.state_AriaValue=!0},a=function(){e.UpdateSceneItems=e._updateUpdateSceneItems(),t.state_UpdateSceneItems=!0},i=function(){e.UpdateNav=e._updateUpdateNav(),t.state_UpdateNav=!0},r=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},o=function(e,n){t.state_UpdateSceneItems=b.ScheduleCallback(t.state_UpdateSceneItems,a)},s=function(e,n){t.state_UpdateNav=b.ScheduleCallback(t.state_UpdateNav,i)},l=function(e,n){t.state_UpdateSceneItems=b.ScheduleCallback(t.state_UpdateSceneItems,a)},u=function(e,n){t.state_UpdateSceneItems=b.ScheduleCallback(t.state_UpdateSceneItems,a)},d=function(e,n){t.state_UpdateSceneItems=b.ScheduleCallback(t.state_UpdateSceneItems,a)},c=function(e,n){null!=e&&(Ie.HiddenForget(e,"Composition",l),Ie.HiddenForget(e,"OptionUId",u),Ie.HiddenForget(e,"ProductUId",d)),null!=n&&(Ie.HiddenObserve(n,"Composition",l),Ie.HiddenObserve(n,"OptionUId",u),Ie.HiddenObserve(n,"ProductUId",d)),t.state_UpdateSceneItems=b.ScheduleCallback(t.state_UpdateSceneItems,a)},h=function(e,n){t.state_UpdateNav=b.ScheduleCallback(t.state_UpdateNav,i)},_=function(e,n){t.state_UpdateNav=b.ScheduleCallback(t.state_UpdateNav,i)},g=function(e,n){null!=e&&(Ie.HiddenForget(e,"ProductPosition",h),Ie.HiddenForget(e,"ProductOrientation",_)),null!=n&&(Ie.HiddenObserve(n,"ProductPosition",h),Ie.HiddenObserve(n,"ProductOrientation",_)),t.state_UpdateSceneItems=b.ScheduleCallback(t.state_UpdateSceneItems,a),t.state_UpdateNav=b.ScheduleCallback(t.state_UpdateNav,i)},v=function(e,n){t.state_UpdateNav=b.ScheduleCallback(t.state_UpdateNav,i)},f=function(e,n){t.state_UpdateNav=b.ScheduleCallback(t.state_UpdateNav,i)},p=function(e,n){t.state_UpdateNav=b.ScheduleCallback(t.state_UpdateNav,i)},m=function(e,n){null!=e&&(Ie.HiddenForget(e,"ProductTransformModels",g),Ie.HiddenForget(e,"CameraPosition",v),Ie.HiddenForget(e,"CameraOrientation",f),Ie.HiddenForget(e,"CameraFieldOfView",p)),null!=n&&(Ie.HiddenObserve(n,"ProductTransformModels",g),Ie.HiddenObserve(n,"CameraPosition",v),Ie.HiddenObserve(n,"CameraOrientation",f),Ie.HiddenObserve(n,"CameraFieldOfView",p)),t.state_UpdateSceneItems=b.ScheduleCallback(t.state_UpdateSceneItems,a),t.state_UpdateNav=b.ScheduleCallback(t.state_UpdateNav,i)},S=function(e,n){t.state_UpdateSceneItems=b.ScheduleCallback(t.state_UpdateSceneItems,a)},C=function(e,n){t.state_UpdateSceneItems=b.ScheduleCallback(t.state_UpdateSceneItems,a)},y=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)},k=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)};Ie.HiddenObserve(e,"AriaLabel",(function(e,a){t.state_AriaValue=b.ScheduleCallback(t.state_AriaValue,n)})),Ie.HiddenObserve(e,"playerHandle",(function(e,n){null!=e&&(Ie.HiddenForget(e,"switchToComposition",o),Ie.HiddenForget(e,"updateExternalNavigation",s)),null!=n&&(Ie.HiddenObserve(n,"switchToComposition",o),Ie.HiddenObserve(n,"updateExternalNavigation",s)),t.state_UpdateSceneItems=b.ScheduleCallback(t.state_UpdateSceneItems,a),t.state_UpdateNav=b.ScheduleCallback(t.state_UpdateNav,i)})),Ie.HiddenObserve(e,"SceneManager",(function(e,n){null!=e&&Ie.HiddenForget(e,"SceneItems",c),null!=n&&Ie.HiddenObserve(n,"SceneItems",c),t.state_UpdateSceneItems=b.ScheduleCallback(t.state_UpdateSceneItems,a)})),Ie.HiddenObserve(e,"NavigationManager",(function(e,n){null!=e&&Ie.HiddenForget(e,"NavigationModel",m),null!=n&&Ie.HiddenObserve(n,"NavigationModel",m),t.state_UpdateSceneItems=b.ScheduleCallback(t.state_UpdateSceneItems,a),t.state_UpdateNav=b.ScheduleCallback(t.state_UpdateNav,i)})),Ie.HiddenObserve(e,"sceneItems",(function(e,n){null!=e&&(Ie.HiddenForget(e,"Composition",S),Ie.HiddenForget(e,"OptionUId",C)),null!=n&&(Ie.HiddenObserve(n,"Composition",S),Ie.HiddenObserve(n,"OptionUId",C)),t.state_UpdateSceneItems=b.ScheduleCallback(t.state_UpdateSceneItems,a)})),Ie.HiddenObserve(e,"cursorFallback",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),Ie.HiddenObserve(e,"AriaValue",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),Ie.HiddenObserve(e,"PlayerParameters",(function(e,n){null!=e&&(Ie.HiddenForget(e,"galleryBookmarkWidth",y),Ie.HiddenForget(e,"galleryBookmarkHeight",k)),null!=n&&(Ie.HiddenObserve(n,"galleryBookmarkWidth",y),Ie.HiddenObserve(n,"galleryBookmarkHeight",k)),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),n(),a(),i(),r()};Tt.__name__=!0;var Mt=function(e){this.player=e};Mt.__name__=!0,Mt.prototype={ScreenPointToRay:function(e){return this.ScreenCoordinatesToRay(e.X,e.Y)},ScreenCoordinatesToRay:function(e,t){return this.player.Renderer.MainCamera.ScreenPointToRay(e,t)}};var Rt=function(){this.PixelRatio=1,this.sensor=new ct,this.SceneSizeProviderObserver=new Nt(this)};Rt.__name__=!0,Rt.prototype={_updateDomQuery:function(){return new gt("#binkies-scene")},_updateQueryWatcher:function(){return null!=this.DomQuery&&(this.sensor.Attach(this.DomQuery.Result),!0)},_updateWidth:function(){return this.sensor.Width},_updateHeight:function(){return this.sensor.Height},_updateAspectRatio:function(){return this.Width/this.Height}};var Nt=function(e){var t=this;this.state_DomQuery=!1,this.state_QueryWatcher=!1,this.state_Width=!1,this.state_Height=!1,this.state_AspectRatio=!1;var n=function(){e.QueryWatcher=e._updateQueryWatcher(),t.state_QueryWatcher=!0},a=function(){e.Width=e._updateWidth(),t.state_Width=!0},i=function(){e.Height=e._updateHeight(),t.state_Height=!0},r=function(){e.AspectRatio=e._updateAspectRatio(),t.state_AspectRatio=!0},o=function(e,a){t.state_QueryWatcher=b.ScheduleCallback(t.state_QueryWatcher,n)},s=function(e,n){t.state_Width=b.ScheduleCallback(t.state_Width,a)},l=function(e,n){t.state_Height=b.ScheduleCallback(t.state_Height,i)};Ie.HiddenObserve(e,"DomQuery",(function(e,a){null!=e&&Ie.HiddenForget(e,"Result",o),null!=a&&Ie.HiddenObserve(a,"Result",o),t.state_QueryWatcher=b.ScheduleCallback(t.state_QueryWatcher,n)})),Ie.HiddenObserve(e,"sensor",(function(e,n){null!=e&&(Ie.HiddenForget(e,"Width",s),Ie.HiddenForget(e,"Height",l)),null!=n&&(Ie.HiddenObserve(n,"Width",s),Ie.HiddenObserve(n,"Height",l)),t.state_Width=b.ScheduleCallback(t.state_Width,a),t.state_Height=b.ScheduleCallback(t.state_Height,i)})),Ie.HiddenObserve(e,"Width",(function(e,n){t.state_AspectRatio=b.ScheduleCallback(t.state_AspectRatio,r)})),Ie.HiddenObserve(e,"Height",(function(e,n){t.state_AspectRatio=b.ScheduleCallback(t.state_AspectRatio,r)})),e.DomQuery=e._updateDomQuery(),t.state_DomQuery=!0,n(),a(),i(),r()};Nt.__name__=!0;var Lt=function(){this.HasPopup=!1,De.call(this),this.ButtonComponentObserver=new Et(this)};Lt.__name__=!0,Lt.__super__=De,Lt.prototype=i(De.prototype,{Mounted:function(){De.prototype.Mounted.call(this),window.addEventListener("click",dl(this,this.EndHover))},Unmounted:function(){De.prototype.Unmounted.call(this),window.removeEventListener("click",dl(this,this.EndHover))},_updateAriaValue:function(){return null!=this.AriaLabel?this.AriaLabel:""},_updateCombinedIdleStyle:function(){var e={};if(null!=this.Styles)for(var t=0,n=this.Styles;t<n.length;){var a=n[t];if(++t,null!=a&&(null!=a.imageSource&&(e.imageSource=a.imageSource),null!=a.imageScale&&(e.imageScale=a.imageScale),null!=a.aspectRatio&&(e.aspectRatio=a.aspectRatio),null!=a.border&&(e.border=a.border),null!=a.borderWidth&&(e.borderWidth=a.borderWidth),null!=a.borderRadius&&(e.borderRadius=a.borderRadius),null!=a.background&&(e.background=a.background),null!=a.boxShadow&&(e.boxShadow=a.boxShadow),null!=a.opacity&&(e.opacity=a.opacity),null!=a.text)){null==e.text&&(e.text={});var i=e.text,r=a.text;if(null!=r&&(null!=r.content&&(i.content=r.content),null!=r.verticalAlign&&(i.verticalAlign=r.verticalAlign),null!=r.horizontalAlign&&(i.horizontalAlign=r.horizontalAlign),null!=r.padding&&(i.padding=r.padding),null!=r.style)){null==i.style&&(i.style={});var o=i.style,s=r.style;null!=s&&(null!=s.fontFamily&&(o.fontFamily=s.fontFamily),null!=s.color&&(o.color=s.color),null!=s.textShadow&&(o.textShadow=s.textShadow),null!=s.opacity&&(o.opacity=s.opacity),null!=s.fontSize&&(o.fontSize=s.fontSize),null!=s.textDecoration&&(o.textDecoration=s.textDecoration),null!=s.border&&(o.border=s.border),null!=s.borderWidth&&(o.borderWidth=s.borderWidth),null!=s.padding&&(o.padding=s.padding),null!=s.fontWeight&&(o.fontWeight=s.fontWeight))}}}return e},_updateCombinedHoverStyle:function(){var e={};if(null!=this.Styles)for(var t=0,n=this.Styles;t<n.length;){var a=n[t++].hover;if(null!=a&&(null!=a.imageSource&&(e.imageSource=a.imageSource),null!=a.imageScale&&(e.imageScale=a.imageScale),null!=a.aspectRatio&&(e.aspectRatio=a.aspectRatio),null!=a.border&&(e.border=a.border),null!=a.borderWidth&&(e.borderWidth=a.borderWidth),null!=a.borderRadius&&(e.borderRadius=a.borderRadius),null!=a.background&&(e.background=a.background),null!=a.boxShadow&&(e.boxShadow=a.boxShadow),null!=a.opacity&&(e.opacity=a.opacity),null!=a.text)){null==e.text&&(e.text={});var i=e.text,r=a.text;if(null!=r&&(null!=r.content&&(i.content=r.content),null!=r.verticalAlign&&(i.verticalAlign=r.verticalAlign),null!=r.horizontalAlign&&(i.horizontalAlign=r.horizontalAlign),null!=r.padding&&(i.padding=r.padding),null!=r.style)){null==i.style&&(i.style={});var o=i.style,s=r.style;null!=s&&(null!=s.fontFamily&&(o.fontFamily=s.fontFamily),null!=s.color&&(o.color=s.color),null!=s.textShadow&&(o.textShadow=s.textShadow),null!=s.opacity&&(o.opacity=s.opacity),null!=s.fontSize&&(o.fontSize=s.fontSize),null!=s.textDecoration&&(o.textDecoration=s.textDecoration),null!=s.border&&(o.border=s.border),null!=s.borderWidth&&(o.borderWidth=s.borderWidth),null!=s.padding&&(o.padding=s.padding),null!=s.fontWeight&&(o.fontWeight=s.fontWeight))}}}return e},_updateCombinedActiveStyle:function(){var e={};if(null!=this.Styles)for(var t=0,n=this.Styles;t<n.length;){var a=n[t++].active;if(null!=a&&(null!=a.imageSource&&(e.imageSource=a.imageSource),null!=a.imageScale&&(e.imageScale=a.imageScale),null!=a.aspectRatio&&(e.aspectRatio=a.aspectRatio),null!=a.border&&(e.border=a.border),null!=a.borderWidth&&(e.borderWidth=a.borderWidth),null!=a.borderRadius&&(e.borderRadius=a.borderRadius),null!=a.background&&(e.background=a.background),null!=a.boxShadow&&(e.boxShadow=a.boxShadow),null!=a.opacity&&(e.opacity=a.opacity),null!=a.text)){null==e.text&&(e.text={});var i=e.text,r=a.text;if(null!=r&&(null!=r.content&&(i.content=r.content),null!=r.verticalAlign&&(i.verticalAlign=r.verticalAlign),null!=r.horizontalAlign&&(i.horizontalAlign=r.horizontalAlign),null!=r.padding&&(i.padding=r.padding),null!=r.style)){null==i.style&&(i.style={});var o=i.style,s=r.style;null!=s&&(null!=s.fontFamily&&(o.fontFamily=s.fontFamily),null!=s.color&&(o.color=s.color),null!=s.textShadow&&(o.textShadow=s.textShadow),null!=s.opacity&&(o.opacity=s.opacity),null!=s.fontSize&&(o.fontSize=s.fontSize),null!=s.textDecoration&&(o.textDecoration=s.textDecoration),null!=s.border&&(o.border=s.border),null!=s.borderWidth&&(o.borderWidth=s.borderWidth),null!=s.padding&&(o.padding=s.padding),null!=s.fontWeight&&(o.fontWeight=s.fontWeight))}}}return e},_updateCurrentStyle:function(){var e={},t=this.CombinedIdleStyle;if(null!=t&&(null!=t.imageSource&&(e.imageSource=t.imageSource),null!=t.imageScale&&(e.imageScale=t.imageScale),null!=t.aspectRatio&&(e.aspectRatio=t.aspectRatio),null!=t.border&&(e.border=t.border),null!=t.borderWidth&&(e.borderWidth=t.borderWidth),null!=t.borderRadius&&(e.borderRadius=t.borderRadius),null!=t.background&&(e.background=t.background),null!=t.boxShadow&&(e.boxShadow=t.boxShadow),null!=t.opacity&&(e.opacity=t.opacity),null!=t.text)){null==e.text&&(e.text={});var n=e.text,a=t.text;if(null!=a&&(null!=a.content&&(n.content=a.content),null!=a.verticalAlign&&(n.verticalAlign=a.verticalAlign),null!=a.horizontalAlign&&(n.horizontalAlign=a.horizontalAlign),null!=a.padding&&(n.padding=a.padding),null!=a.style)){null==n.style&&(n.style={});var i=n.style,r=a.style;null!=r&&(null!=r.fontFamily&&(i.fontFamily=r.fontFamily),null!=r.color&&(i.color=r.color),null!=r.textShadow&&(i.textShadow=r.textShadow),null!=r.opacity&&(i.opacity=r.opacity),null!=r.fontSize&&(i.fontSize=r.fontSize),null!=r.textDecoration&&(i.textDecoration=r.textDecoration),null!=r.border&&(i.border=r.border),null!=r.borderWidth&&(i.borderWidth=r.borderWidth),null!=r.padding&&(i.padding=r.padding),null!=r.fontWeight&&(i.fontWeight=r.fontWeight))}}if(this.IsActive){var o=this.CombinedActiveStyle;if(null!=o&&(null!=o.imageSource&&(e.imageSource=o.imageSource),null!=o.imageScale&&(e.imageScale=o.imageScale),null!=o.aspectRatio&&(e.aspectRatio=o.aspectRatio),null!=o.border&&(e.border=o.border),null!=o.borderWidth&&(e.borderWidth=o.borderWidth),null!=o.borderRadius&&(e.borderRadius=o.borderRadius),null!=o.background&&(e.background=o.background),null!=o.boxShadow&&(e.boxShadow=o.boxShadow),null!=o.opacity&&(e.opacity=o.opacity),null!=o.text)){null==e.text&&(e.text={});var s=e.text,l=o.text;if(null!=l&&(null!=l.content&&(s.content=l.content),null!=l.verticalAlign&&(s.verticalAlign=l.verticalAlign),null!=l.horizontalAlign&&(s.horizontalAlign=l.horizontalAlign),null!=l.padding&&(s.padding=l.padding),null!=l.style)){null==s.style&&(s.style={});var u=s.style,d=l.style;null!=d&&(null!=d.fontFamily&&(u.fontFamily=d.fontFamily),null!=d.color&&(u.color=d.color),null!=d.textShadow&&(u.textShadow=d.textShadow),null!=d.opacity&&(u.opacity=d.opacity),null!=d.fontSize&&(u.fontSize=d.fontSize),null!=d.textDecoration&&(u.textDecoration=d.textDecoration),null!=d.border&&(u.border=d.border),null!=d.borderWidth&&(u.borderWidth=d.borderWidth),null!=d.padding&&(u.padding=d.padding),null!=d.fontWeight&&(u.fontWeight=d.fontWeight))}}}else if(this.isHovered){var c=this.CombinedHoverStyle;if(null!=c&&(null!=c.imageSource&&(e.imageSource=c.imageSource),null!=c.imageScale&&(e.imageScale=c.imageScale),null!=c.aspectRatio&&(e.aspectRatio=c.aspectRatio),null!=c.border&&(e.border=c.border),null!=c.borderWidth&&(e.borderWidth=c.borderWidth),null!=c.borderRadius&&(e.borderRadius=c.borderRadius),null!=c.background&&(e.background=c.background),null!=c.boxShadow&&(e.boxShadow=c.boxShadow),null!=c.opacity&&(e.opacity=c.opacity),null!=c.text)){null==e.text&&(e.text={});var h=e.text,_=c.text;if(null!=_&&(null!=_.content&&(h.content=_.content),null!=_.verticalAlign&&(h.verticalAlign=_.verticalAlign),null!=_.horizontalAlign&&(h.horizontalAlign=_.horizontalAlign),null!=_.padding&&(h.padding=_.padding),null!=_.style)){null==h.style&&(h.style={});var g=h.style,v=_.style;null!=v&&(null!=v.fontFamily&&(g.fontFamily=v.fontFamily),null!=v.color&&(g.color=v.color),null!=v.textShadow&&(g.textShadow=v.textShadow),null!=v.opacity&&(g.opacity=v.opacity),null!=v.fontSize&&(g.fontSize=v.fontSize),null!=v.textDecoration&&(g.textDecoration=v.textDecoration),null!=v.border&&(g.border=v.border),null!=v.borderWidth&&(g.borderWidth=v.borderWidth),null!=v.padding&&(g.padding=v.padding),null!=v.fontWeight&&(g.fontWeight=v.fontWeight))}}}return e},_updateCurrentImageSourceValue:function(){return null==this.CurrentStyle||null==this.CurrentStyle.imageSource?null:this.StringFactory.Create(this.CurrentStyle.imageSource)},_updateHasText:function(){return null!=this.CurrentStyle&&null!=this.CurrentStyle.text},_updateCurrentImageSource:function(){return null==this.CurrentImageSourceValue?null:this.CurrentImageSourceValue.Value},_updateAspectRatio:function(){if(null==this.CurrentStyle||null==this.CurrentStyle.aspectRatio)return{width:1,height:1};var e=this.CurrentStyle.aspectRatio;return null==e.width&&(e.width=1),null==e.height&&(e.height=1),e},_updateCanvasWrapperStyle:function(){if(null==this.CurrentStyle)return"";var e=[];return tl.IsNullOrWhiteSpace(this.CurrentStyle.border)||e.push("border: "+this.CurrentStyle.border),tl.IsNullOrWhiteSpace(this.CurrentStyle.borderWidth)||e.push("border-width: "+this.CurrentStyle.borderWidth),tl.IsNullOrWhiteSpace(this.CurrentStyle.borderRadius)||e.push("border-radius: "+this.CurrentStyle.borderRadius),tl.IsNullOrWhiteSpace(this.CurrentStyle.background)||e.push("background: "+this.CurrentStyle.background),tl.IsNullOrWhiteSpace(this.CurrentStyle.boxShadow)||e.push("box-shadow: "+this.CurrentStyle.boxShadow),tl.IsNullOrWhiteSpace(this.CurrentStyle.opacity)||e.push("opacity: "+this.CurrentStyle.opacity),e.join(";")},_updateCanvasStyle:function(){if(null==this.CurrentStyle)return"";var e=[];return null!=this.CurrentStyle.imageScale&&e.push("transform: scale("+this.CurrentStyle.imageScale+")"),tl.IsNullOrWhiteSpace(this.CurrentImageSource)||(e.push("background-image: url('"+this.CurrentImageSource+"')"),e.push("background-size: contain"),e.push("background-repeat: no-repeat"),e.push("background-position: center")),this.HasText&&e.push("position: absolute"),e.join(";")},Click:function(){this.EndHover(),$.Fire("engaged",new se),this.FireEvent("click")},StartHover:function(){this.isHovered=!0},EndHover:function(){this.isHovered=!1},_updateVirtualDom:function(){var e=this,t=function(){e.StartHover()};t.hash=0;var n=function(){e.EndHover()};n.hash=1;var a=function(){e.Click()};a.hash=2;var i=null;if(null!=this.Styles){(i=Oe.CreateNode("div")).Attributes.style="flex: 0 0 auto",i.Events.mouseover=t,i.Events.mouseout=n,i.Attributes.class="binkies-button binkies-flex-centered";var r=i.AddNode("div");if(r.Attributes.tabindex=0,r.Attributes.style="cursor: pointer; pointer-events: all; position: relative; box-sizing: border-box; flex: 1 0 auto; "+this.CanvasWrapperStyle,r.Attributes.role="button",r.Events.click=a,r.Attributes.class="binkies-flex-centered",r.Attributes["aria-label"]=this.AriaValue,r.Attributes["aria-haspopup"]=this.HasPopup,this.HasText){var o=r.AddNode("textcomponent");o.Attributes.StringFactory=this.StringFactory,o.Attributes.Settings=this.CurrentStyle.text}var s=r.AddNode("canvas");s.Attributes.width=this.AspectRatio.width,s.Attributes.style="flex: none; display: inline-block; "+this.CanvasStyle,s.Attributes.height=this.AspectRatio.height}return null==i&&(i=Oe.CreateNode(this.converter.GetPlaceholderTag())),i}});var Et=function(e){var t=this;this.state_AriaValue=!1,this.state_CombinedIdleStyle=!1,this.state_CombinedHoverStyle=!1,this.state_CombinedActiveStyle=!1,this.state_CurrentStyle=!1,this.state_CurrentImageSourceValue=!1,this.state_HasText=!1,this.state_CurrentImageSource=!1,this.state_AspectRatio=!1,this.state_CanvasWrapperStyle=!1,this.state_CanvasStyle=!1,this.state_VirtualDom=!1;var n=function(){e.AriaValue=e._updateAriaValue(),t.state_AriaValue=!0},a=function(){e.CombinedIdleStyle=e._updateCombinedIdleStyle(),t.state_CombinedIdleStyle=!0},i=function(){e.CombinedHoverStyle=e._updateCombinedHoverStyle(),t.state_CombinedHoverStyle=!0},r=function(){e.CombinedActiveStyle=e._updateCombinedActiveStyle(),t.state_CombinedActiveStyle=!0},o=function(){e.CurrentStyle=e._updateCurrentStyle(),t.state_CurrentStyle=!0},s=function(){e.CurrentImageSourceValue=e._updateCurrentImageSourceValue(),t.state_CurrentImageSourceValue=!0},l=function(){e.HasText=e._updateHasText(),t.state_HasText=!0},u=function(){e.CurrentImageSource=e._updateCurrentImageSource(),t.state_CurrentImageSource=!0},d=function(){e.AspectRatio=e._updateAspectRatio(),t.state_AspectRatio=!0},c=function(){e.CanvasWrapperStyle=e._updateCanvasWrapperStyle(),t.state_CanvasWrapperStyle=!0},h=function(){e.CanvasStyle=e._updateCanvasStyle(),t.state_CanvasStyle=!0},_=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},g=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},v=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},f=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},p=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},m=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},S=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},C=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},y=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},k=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},V=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},H=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},O=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},w=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},F=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},x=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},D=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},P=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},A=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},I=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},T=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},M=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},R=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},N=function(e,n){t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},L=function(e,n){null!=e&&(Ie.HiddenForget(e,"fontFamily",F),Ie.HiddenForget(e,"color",x),Ie.HiddenForget(e,"textShadow",D),Ie.HiddenForget(e,"opacity",P),Ie.HiddenForget(e,"fontSize",A),Ie.HiddenForget(e,"textDecoration",I),Ie.HiddenForget(e,"border",T),Ie.HiddenForget(e,"borderWidth",M),Ie.HiddenForget(e,"padding",R),Ie.HiddenForget(e,"fontWeight",N)),null!=n&&(Ie.HiddenObserve(n,"fontFamily",F),Ie.HiddenObserve(n,"color",x),Ie.HiddenObserve(n,"textShadow",D),Ie.HiddenObserve(n,"opacity",P),Ie.HiddenObserve(n,"fontSize",A),Ie.HiddenObserve(n,"textDecoration",I),Ie.HiddenObserve(n,"border",T),Ie.HiddenObserve(n,"borderWidth",M),Ie.HiddenObserve(n,"padding",R),Ie.HiddenObserve(n,"fontWeight",N)),t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},E=function(e,n){null!=e&&(Ie.HiddenForget(e,"content",V),Ie.HiddenForget(e,"verticalAlign",H),Ie.HiddenForget(e,"horizontalAlign",O),Ie.HiddenForget(e,"padding",w),Ie.HiddenForget(e,"style",L)),null!=n&&(Ie.HiddenObserve(n,"content",V),Ie.HiddenObserve(n,"verticalAlign",H),Ie.HiddenObserve(n,"horizontalAlign",O),Ie.HiddenObserve(n,"padding",w),Ie.HiddenObserve(n,"style",L)),t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a)},B=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},W=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},U=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},G=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},X=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},Y=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},z=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},Z=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},Q=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},j=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},q=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},K=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},J=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},$=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},ee=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},te=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},ne=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},ae=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},ie=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},re=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},oe=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},se=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},le=function(e,n){t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},ue=function(e,n){null!=e&&(Ie.HiddenForget(e,"fontFamily",$),Ie.HiddenForget(e,"color",ee),Ie.HiddenForget(e,"textShadow",te),Ie.HiddenForget(e,"opacity",ne),Ie.HiddenForget(e,"fontSize",ae),Ie.HiddenForget(e,"textDecoration",ie),Ie.HiddenForget(e,"border",re),Ie.HiddenForget(e,"borderWidth",oe),Ie.HiddenForget(e,"padding",se),Ie.HiddenForget(e,"fontWeight",le)),null!=n&&(Ie.HiddenObserve(n,"fontFamily",$),Ie.HiddenObserve(n,"color",ee),Ie.HiddenObserve(n,"textShadow",te),Ie.HiddenObserve(n,"opacity",ne),Ie.HiddenObserve(n,"fontSize",ae),Ie.HiddenObserve(n,"textDecoration",ie),Ie.HiddenObserve(n,"border",re),Ie.HiddenObserve(n,"borderWidth",oe),Ie.HiddenObserve(n,"padding",se),Ie.HiddenObserve(n,"fontWeight",le)),t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},de=function(e,n){null!=e&&(Ie.HiddenForget(e,"content",j),Ie.HiddenForget(e,"verticalAlign",q),Ie.HiddenForget(e,"horizontalAlign",K),Ie.HiddenForget(e,"padding",J),Ie.HiddenForget(e,"style",ue)),null!=n&&(Ie.HiddenObserve(n,"content",j),Ie.HiddenObserve(n,"verticalAlign",q),Ie.HiddenObserve(n,"horizontalAlign",K),Ie.HiddenObserve(n,"padding",J),Ie.HiddenObserve(n,"style",ue)),t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},ce=function(e,n){null!=e&&(Ie.HiddenForget(e,"imageSource",B),Ie.HiddenForget(e,"imageScale",W),Ie.HiddenForget(e,"aspectRatio",U),Ie.HiddenForget(e,"border",G),Ie.HiddenForget(e,"borderWidth",X),Ie.HiddenForget(e,"borderRadius",Y),Ie.HiddenForget(e,"background",z),Ie.HiddenForget(e,"boxShadow",Z),Ie.HiddenForget(e,"opacity",Q),Ie.HiddenForget(e,"text",de)),null!=n&&(Ie.HiddenObserve(n,"imageSource",B),Ie.HiddenObserve(n,"imageScale",W),Ie.HiddenObserve(n,"aspectRatio",U),Ie.HiddenObserve(n,"border",G),Ie.HiddenObserve(n,"borderWidth",X),Ie.HiddenObserve(n,"borderRadius",Y),Ie.HiddenObserve(n,"background",z),Ie.HiddenObserve(n,"boxShadow",Z),Ie.HiddenObserve(n,"opacity",Q),Ie.HiddenObserve(n,"text",de)),t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i)},he=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},_e=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},ge=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},ve=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},be=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},fe=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},pe=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},me=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},Se=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},Ce=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},ye=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},ke=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},Ve=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},He=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},Oe=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},we=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},Fe=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},xe=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},De=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},Pe=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},Ae=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},Te=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},Me=function(e,n){t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},Re=function(e,n){null!=e&&(Ie.HiddenForget(e,"fontFamily",He),Ie.HiddenForget(e,"color",Oe),Ie.HiddenForget(e,"textShadow",we),Ie.HiddenForget(e,"opacity",Fe),Ie.HiddenForget(e,"fontSize",xe),Ie.HiddenForget(e,"textDecoration",De),Ie.HiddenForget(e,"border",Pe),Ie.HiddenForget(e,"borderWidth",Ae),Ie.HiddenForget(e,"padding",Te),Ie.HiddenForget(e,"fontWeight",Me)),null!=n&&(Ie.HiddenObserve(n,"fontFamily",He),Ie.HiddenObserve(n,"color",Oe),Ie.HiddenObserve(n,"textShadow",we),Ie.HiddenObserve(n,"opacity",Fe),Ie.HiddenObserve(n,"fontSize",xe),Ie.HiddenObserve(n,"textDecoration",De),Ie.HiddenObserve(n,"border",Pe),Ie.HiddenObserve(n,"borderWidth",Ae),Ie.HiddenObserve(n,"padding",Te),Ie.HiddenObserve(n,"fontWeight",Me)),t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},Ne=function(e,n){null!=e&&(Ie.HiddenForget(e,"content",Ce),Ie.HiddenForget(e,"verticalAlign",ye),Ie.HiddenForget(e,"horizontalAlign",ke),Ie.HiddenForget(e,"padding",Ve),Ie.HiddenForget(e,"style",Re)),null!=n&&(Ie.HiddenObserve(n,"content",Ce),Ie.HiddenObserve(n,"verticalAlign",ye),Ie.HiddenObserve(n,"horizontalAlign",ke),Ie.HiddenObserve(n,"padding",Ve),Ie.HiddenObserve(n,"style",Re)),t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},Le=function(e,n){null!=e&&(Ie.HiddenForget(e,"imageSource",he),Ie.HiddenForget(e,"imageScale",_e),Ie.HiddenForget(e,"aspectRatio",ge),Ie.HiddenForget(e,"border",ve),Ie.HiddenForget(e,"borderWidth",be),Ie.HiddenForget(e,"borderRadius",fe),Ie.HiddenForget(e,"background",pe),Ie.HiddenForget(e,"boxShadow",me),Ie.HiddenForget(e,"opacity",Se),Ie.HiddenForget(e,"text",Ne)),null!=n&&(Ie.HiddenObserve(n,"imageSource",he),Ie.HiddenObserve(n,"imageScale",_e),Ie.HiddenObserve(n,"aspectRatio",ge),Ie.HiddenObserve(n,"border",ve),Ie.HiddenObserve(n,"borderWidth",be),Ie.HiddenObserve(n,"borderRadius",fe),Ie.HiddenObserve(n,"background",pe),Ie.HiddenObserve(n,"boxShadow",me),Ie.HiddenObserve(n,"opacity",Se),Ie.HiddenObserve(n,"text",Ne)),t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r)},Ee=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Be=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},We=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Ue=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Ge=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Xe=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Ye=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},ze=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Ze=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Qe=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},je=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},qe=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Ke=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Je=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},$e=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},et=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},tt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},nt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},at=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},it=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},rt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},ot=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},st=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},lt=function(e,n){null!=e&&(Ie.HiddenForget(e,"fontFamily",Je),Ie.HiddenForget(e,"color",$e),Ie.HiddenForget(e,"textShadow",et),Ie.HiddenForget(e,"opacity",tt),Ie.HiddenForget(e,"fontSize",nt),Ie.HiddenForget(e,"textDecoration",at),Ie.HiddenForget(e,"border",it),Ie.HiddenForget(e,"borderWidth",rt),Ie.HiddenForget(e,"padding",ot),Ie.HiddenForget(e,"fontWeight",st)),null!=n&&(Ie.HiddenObserve(n,"fontFamily",Je),Ie.HiddenObserve(n,"color",$e),Ie.HiddenObserve(n,"textShadow",et),Ie.HiddenObserve(n,"opacity",tt),Ie.HiddenObserve(n,"fontSize",nt),Ie.HiddenObserve(n,"textDecoration",at),Ie.HiddenObserve(n,"border",it),Ie.HiddenObserve(n,"borderWidth",rt),Ie.HiddenObserve(n,"padding",ot),Ie.HiddenObserve(n,"fontWeight",st)),t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},ut=function(e,n){null!=e&&(Ie.HiddenForget(e,"content",Qe),Ie.HiddenForget(e,"verticalAlign",je),Ie.HiddenForget(e,"horizontalAlign",qe),Ie.HiddenForget(e,"padding",Ke),Ie.HiddenForget(e,"style",lt)),null!=n&&(Ie.HiddenObserve(n,"content",Qe),Ie.HiddenObserve(n,"verticalAlign",je),Ie.HiddenObserve(n,"horizontalAlign",qe),Ie.HiddenObserve(n,"padding",Ke),Ie.HiddenObserve(n,"style",lt)),t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},dt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},ct=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},ht=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},_t=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},gt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},vt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},bt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},ft=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},pt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},mt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},St=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Ct=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},yt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},kt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Vt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Ht=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Ot=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},wt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Ft=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},xt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Dt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Pt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},At=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},It=function(e,n){null!=e&&(Ie.HiddenForget(e,"fontFamily",kt),Ie.HiddenForget(e,"color",Vt),Ie.HiddenForget(e,"textShadow",Ht),Ie.HiddenForget(e,"opacity",Ot),Ie.HiddenForget(e,"fontSize",wt),Ie.HiddenForget(e,"textDecoration",Ft),Ie.HiddenForget(e,"border",xt),Ie.HiddenForget(e,"borderWidth",Dt),Ie.HiddenForget(e,"padding",Pt),Ie.HiddenForget(e,"fontWeight",At)),null!=n&&(Ie.HiddenObserve(n,"fontFamily",kt),Ie.HiddenObserve(n,"color",Vt),Ie.HiddenObserve(n,"textShadow",Ht),Ie.HiddenObserve(n,"opacity",Ot),Ie.HiddenObserve(n,"fontSize",wt),Ie.HiddenObserve(n,"textDecoration",Ft),Ie.HiddenObserve(n,"border",xt),Ie.HiddenObserve(n,"borderWidth",Dt),Ie.HiddenObserve(n,"padding",Pt),Ie.HiddenObserve(n,"fontWeight",At)),t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Tt=function(e,n){null!=e&&(Ie.HiddenForget(e,"content",mt),Ie.HiddenForget(e,"verticalAlign",St),Ie.HiddenForget(e,"horizontalAlign",Ct),Ie.HiddenForget(e,"padding",yt),Ie.HiddenForget(e,"style",It)),null!=n&&(Ie.HiddenObserve(n,"content",mt),Ie.HiddenObserve(n,"verticalAlign",St),Ie.HiddenObserve(n,"horizontalAlign",Ct),Ie.HiddenObserve(n,"padding",yt),Ie.HiddenObserve(n,"style",It)),t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Mt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Rt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Nt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Lt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Et=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Bt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Wt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Ut=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Gt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Xt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Yt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},zt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Zt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Qt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},jt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},qt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Kt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},Jt=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},$t=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},en=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},tn=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},nn=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},an=function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},rn=function(e,n){null!=e&&(Ie.HiddenForget(e,"fontFamily",Qt),Ie.HiddenForget(e,"color",jt),Ie.HiddenForget(e,"textShadow",qt),Ie.HiddenForget(e,"opacity",Kt),Ie.HiddenForget(e,"fontSize",Jt),Ie.HiddenForget(e,"textDecoration",$t),Ie.HiddenForget(e,"border",en),Ie.HiddenForget(e,"borderWidth",tn),Ie.HiddenForget(e,"padding",nn),Ie.HiddenForget(e,"fontWeight",an)),null!=n&&(Ie.HiddenObserve(n,"fontFamily",Qt),Ie.HiddenObserve(n,"color",jt),Ie.HiddenObserve(n,"textShadow",qt),Ie.HiddenObserve(n,"opacity",Kt),Ie.HiddenObserve(n,"fontSize",Jt),Ie.HiddenObserve(n,"textDecoration",$t),Ie.HiddenObserve(n,"border",en),Ie.HiddenObserve(n,"borderWidth",tn),Ie.HiddenObserve(n,"padding",nn),Ie.HiddenObserve(n,"fontWeight",an)),t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},on=function(e,n){null!=e&&(Ie.HiddenForget(e,"content",Xt),Ie.HiddenForget(e,"verticalAlign",Yt),Ie.HiddenForget(e,"horizontalAlign",zt),Ie.HiddenForget(e,"padding",Zt),Ie.HiddenForget(e,"style",rn)),null!=n&&(Ie.HiddenObserve(n,"content",Xt),Ie.HiddenObserve(n,"verticalAlign",Yt),Ie.HiddenObserve(n,"horizontalAlign",zt),Ie.HiddenObserve(n,"padding",Zt),Ie.HiddenObserve(n,"style",rn)),t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)},sn=function(e,n){t.state_CurrentImageSourceValue=b.ScheduleCallback(t.state_CurrentImageSourceValue,s)},ln=function(e,n){t.state_HasText=b.ScheduleCallback(t.state_HasText,l),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,_)},un=function(e,n){t.state_AspectRatio=b.ScheduleCallback(t.state_AspectRatio,d)},dn=function(e,n){t.state_CanvasWrapperStyle=b.ScheduleCallback(t.state_CanvasWrapperStyle,c)},cn=function(e,n){t.state_CanvasWrapperStyle=b.ScheduleCallback(t.state_CanvasWrapperStyle,c)},hn=function(e,n){t.state_CanvasWrapperStyle=b.ScheduleCallback(t.state_CanvasWrapperStyle,c)},_n=function(e,n){t.state_CanvasWrapperStyle=b.ScheduleCallback(t.state_CanvasWrapperStyle,c)},gn=function(e,n){t.state_CanvasWrapperStyle=b.ScheduleCallback(t.state_CanvasWrapperStyle,c)},vn=function(e,n){t.state_CanvasWrapperStyle=b.ScheduleCallback(t.state_CanvasWrapperStyle,c)},bn=function(e,n){t.state_CanvasStyle=b.ScheduleCallback(t.state_CanvasStyle,h)},fn=function(e,n){t.state_CurrentImageSource=b.ScheduleCallback(t.state_CurrentImageSource,u)},pn=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,_)},mn=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,_)};Ie.HiddenObserve(e,"AriaLabel",(function(e,a){t.state_AriaValue=b.ScheduleCallback(t.state_AriaValue,n)})),Ie.HiddenObserve(e,"Styles",(function(e,n){null!=e&&(Ie.HiddenForget(e,"imageSource",g),Ie.HiddenForget(e,"imageScale",v),Ie.HiddenForget(e,"aspectRatio",f),Ie.HiddenForget(e,"border",p),Ie.HiddenForget(e,"borderWidth",m),Ie.HiddenForget(e,"borderRadius",S),Ie.HiddenForget(e,"background",C),Ie.HiddenForget(e,"boxShadow",y),Ie.HiddenForget(e,"opacity",k),Ie.HiddenForget(e,"text",E),Ie.HiddenForget(e,"hover",ce),Ie.HiddenForget(e,"active",Le)),null!=n&&(Ie.HiddenObserve(n,"imageSource",g),Ie.HiddenObserve(n,"imageScale",v),Ie.HiddenObserve(n,"aspectRatio",f),Ie.HiddenObserve(n,"border",p),Ie.HiddenObserve(n,"borderWidth",m),Ie.HiddenObserve(n,"borderRadius",S),Ie.HiddenObserve(n,"background",C),Ie.HiddenObserve(n,"boxShadow",y),Ie.HiddenObserve(n,"opacity",k),Ie.HiddenObserve(n,"text",E),Ie.HiddenObserve(n,"hover",ce),Ie.HiddenObserve(n,"active",Le)),t.state_CombinedIdleStyle=b.ScheduleCallback(t.state_CombinedIdleStyle,a),t.state_CombinedHoverStyle=b.ScheduleCallback(t.state_CombinedHoverStyle,i),t.state_CombinedActiveStyle=b.ScheduleCallback(t.state_CombinedActiveStyle,r),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,_)})),Ie.HiddenObserve(e,"CombinedIdleStyle",(function(e,n){null!=e&&(Ie.HiddenForget(e,"imageSource",Ee),Ie.HiddenForget(e,"imageScale",Be),Ie.HiddenForget(e,"aspectRatio",We),Ie.HiddenForget(e,"border",Ue),Ie.HiddenForget(e,"borderWidth",Ge),Ie.HiddenForget(e,"borderRadius",Xe),Ie.HiddenForget(e,"background",Ye),Ie.HiddenForget(e,"boxShadow",ze),Ie.HiddenForget(e,"opacity",Ze),Ie.HiddenForget(e,"text",ut)),null!=n&&(Ie.HiddenObserve(n,"imageSource",Ee),Ie.HiddenObserve(n,"imageScale",Be),Ie.HiddenObserve(n,"aspectRatio",We),Ie.HiddenObserve(n,"border",Ue),Ie.HiddenObserve(n,"borderWidth",Ge),Ie.HiddenObserve(n,"borderRadius",Xe),Ie.HiddenObserve(n,"background",Ye),Ie.HiddenObserve(n,"boxShadow",ze),Ie.HiddenObserve(n,"opacity",Ze),Ie.HiddenObserve(n,"text",ut)),t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)})),Ie.HiddenObserve(e,"IsActive",(function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)})),Ie.HiddenObserve(e,"CombinedActiveStyle",(function(e,n){null!=e&&(Ie.HiddenForget(e,"imageSource",dt),Ie.HiddenForget(e,"imageScale",ct),Ie.HiddenForget(e,"aspectRatio",ht),Ie.HiddenForget(e,"border",_t),Ie.HiddenForget(e,"borderWidth",gt),Ie.HiddenForget(e,"borderRadius",vt),Ie.HiddenForget(e,"background",bt),Ie.HiddenForget(e,"boxShadow",ft),Ie.HiddenForget(e,"opacity",pt),Ie.HiddenForget(e,"text",Tt)),null!=n&&(Ie.HiddenObserve(n,"imageSource",dt),Ie.HiddenObserve(n,"imageScale",ct),Ie.HiddenObserve(n,"aspectRatio",ht),Ie.HiddenObserve(n,"border",_t),Ie.HiddenObserve(n,"borderWidth",gt),Ie.HiddenObserve(n,"borderRadius",vt),Ie.HiddenObserve(n,"background",bt),Ie.HiddenObserve(n,"boxShadow",ft),Ie.HiddenObserve(n,"opacity",pt),Ie.HiddenObserve(n,"text",Tt)),t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)})),Ie.HiddenObserve(e,"isHovered",(function(e,n){t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)})),Ie.HiddenObserve(e,"CombinedHoverStyle",(function(e,n){null!=e&&(Ie.HiddenForget(e,"imageSource",Mt),Ie.HiddenForget(e,"imageScale",Rt),Ie.HiddenForget(e,"aspectRatio",Nt),Ie.HiddenForget(e,"border",Lt),Ie.HiddenForget(e,"borderWidth",Et),Ie.HiddenForget(e,"borderRadius",Bt),Ie.HiddenForget(e,"background",Wt),Ie.HiddenForget(e,"boxShadow",Ut),Ie.HiddenForget(e,"opacity",Gt),Ie.HiddenForget(e,"text",on)),null!=n&&(Ie.HiddenObserve(n,"imageSource",Mt),Ie.HiddenObserve(n,"imageScale",Rt),Ie.HiddenObserve(n,"aspectRatio",Nt),Ie.HiddenObserve(n,"border",Lt),Ie.HiddenObserve(n,"borderWidth",Et),Ie.HiddenObserve(n,"borderRadius",Bt),Ie.HiddenObserve(n,"background",Wt),Ie.HiddenObserve(n,"boxShadow",Ut),Ie.HiddenObserve(n,"opacity",Gt),Ie.HiddenObserve(n,"text",on)),t.state_CurrentStyle=b.ScheduleCallback(t.state_CurrentStyle,o)})),Ie.HiddenObserve(e,"CurrentStyle",(function(e,n){null!=e&&(Ie.HiddenForget(e,"imageSource",sn),Ie.HiddenForget(e,"text",ln),Ie.HiddenForget(e,"aspectRatio",un),Ie.HiddenForget(e,"border",dn),Ie.HiddenForget(e,"borderWidth",cn),Ie.HiddenForget(e,"borderRadius",hn),Ie.HiddenForget(e,"background",_n),Ie.HiddenForget(e,"boxShadow",gn),Ie.HiddenForget(e,"opacity",vn),Ie.HiddenForget(e,"imageScale",bn)),null!=n&&(Ie.HiddenObserve(n,"imageSource",sn),Ie.HiddenObserve(n,"text",ln),Ie.HiddenObserve(n,"aspectRatio",un),Ie.HiddenObserve(n,"border",dn),Ie.HiddenObserve(n,"borderWidth",cn),Ie.HiddenObserve(n,"borderRadius",hn),Ie.HiddenObserve(n,"background",_n),Ie.HiddenObserve(n,"boxShadow",gn),Ie.HiddenObserve(n,"opacity",vn),Ie.HiddenObserve(n,"imageScale",bn)),t.state_CurrentImageSourceValue=b.ScheduleCallback(t.state_CurrentImageSourceValue,s),t.state_HasText=b.ScheduleCallback(t.state_HasText,l),t.state_AspectRatio=b.ScheduleCallback(t.state_AspectRatio,d),t.state_CanvasWrapperStyle=b.ScheduleCallback(t.state_CanvasWrapperStyle,c),t.state_CanvasStyle=b.ScheduleCallback(t.state_CanvasStyle,h),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,_)})),Ie.HiddenObserve(e,"CurrentImageSourceValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",fn),null!=n&&Ie.HiddenObserve(n,"Value",fn),t.state_CurrentImageSource=b.ScheduleCallback(t.state_CurrentImageSource,u)})),Ie.HiddenObserve(e,"CurrentImageSource",(function(e,n){t.state_CanvasStyle=b.ScheduleCallback(t.state_CanvasStyle,h)})),Ie.HiddenObserve(e,"HasText",(function(e,n){t.state_CanvasStyle=b.ScheduleCallback(t.state_CanvasStyle,h),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,_)})),Ie.HiddenObserve(e,"CanvasWrapperStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,_)})),Ie.HiddenObserve(e,"AriaValue",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,_)})),Ie.HiddenObserve(e,"HasPopup",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,_)})),Ie.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,_)})),Ie.HiddenObserve(e,"AspectRatio",(function(e,n){null!=e&&(Ie.HiddenForget(e,"width",pn),Ie.HiddenForget(e,"height",mn)),null!=n&&(Ie.HiddenObserve(n,"width",pn),Ie.HiddenObserve(n,"height",mn)),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,_)})),Ie.HiddenObserve(e,"CanvasStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,_)})),n(),a(),i(),r(),o(),s(),l(),u(),d(),c(),h(),_()};Et.__name__=!0;var Bt=function(){var e=S.stringGeneratorsByLength.h[0];null==e&&(e=new C(S.acceptedCharacters.split(""),null),S.stringGeneratorsByLength.h[0]=e),this.id="binkies-id-"+e.Get(),this.activeIndex=-1,De.call(this),this.ColorPickerComponentObserver=new Wt(this)};Bt.__name__=!0,Bt.__super__=De,Bt.prototype=i(De.prototype,{_updateButtonStyles:function(){var e=[];if(null==this.Colors||null==this.Colors.Value)return e;for(var t=0,n=this.Colors.Value.length;t<n;){var a=t++,i=null!=this.Settings.buttonStyles?this.Settings.buttonStyles.slice():[];i.push({background:this.Colors.Value[a].color,text:this.Colors.Value[a].text}),e.push(i)}return e},_updateActiveColorWatcher:function(){var e=this;if(null==this.SelectedColor)return!1;if(null==this.Colors)return!1;if(!this.get_IsMounted())return!1;if(null!=this.SelectedColor.Value){var t=s.find(this.Colors.Value,(function(t){return t.value==e.SelectedColor.Value})),n=this.Colors.Value.indexOf(t);-1==n?this.ClickButton(0):this.ClickButton(n)}else null!=this.Colors&&this.Colors.Value.length>0&&this.ClickButton(0);return!0},_updateColors:function(){return null==this.ObjectFactory||null==this.Settings||null==this.Settings.colors?null:this.ObjectFactory.Create(this.Settings.colors)},ClickButton:function(e){this.activeIndex=e;var t=this.Colors.Value[e];null!=t&&this.SelectedColor.SetValue(t.value)},_updateVirtualDom:function(){var e=this,t=function(t){var n=function(){e.ClickButton(t)};return n.hash="0-"+Ae.GetId(t),n},n=null;if(null!=this.Settings&&null!=this.Colors){(n=Oe.CreateNode("div")).Attributes.style="pointer-events: all; flex-wrap: wrap; overflow: hidden; flex: 0 1 auto;",n.Attributes.id=this.id,n.Attributes.class="binkies-gallery-container binkies-flex-centered";var a=n.AddNode("style");a.AddText("\n\t\t\t#"+this.id+" > div\n\t\t\t{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: inherit;\n\t\t\t\tmin-width: 0%;\n\t\t\t\tmin-height: 0%;\n\t\t\t}\n\n\t\t\t"),tl.IsNullOrWhiteSpace(this.Settings.distanceBetweenItems)||a.AddText("\n\t\t\t#"+this.id+' > div + div::before\n\t\t\t{\n\t\t\t\tcontent: "";\n\t\t\t\tpadding: calc('+this.Settings.distanceBetweenItems+" * 0.5);\n\t\t\t}\n\t\t\t");for(var i=0,r=this.Colors.Value.length;i<r;){var o=i++,s=n.AddNode("div");s.Attributes.class="binkies-gallery-item-wrapper "+(this.activeIndex==o?"active":"");var l=s.AddNode("div").AddNode("buttoncomponent"),u=t(o);l.Events.click=u,l.Attributes.Styles=this.ButtonStyles[o],l.Attributes.StringFactory=this.StringFactory,l.Attributes.IsActive=o==this.activeIndex}}return null==n&&(n=Oe.CreateNode(this.converter.GetPlaceholderTag())),n}});var Wt=function(e){var t=this;this.state_ButtonStyles=!1,this.state_ActiveColorWatcher=!1,this.state_Colors=!1,this.state_VirtualDom=!1;var n=function(){e.ButtonStyles=e._updateButtonStyles(),t.state_ButtonStyles=!0},a=function(){e.ActiveColorWatcher=e._updateActiveColorWatcher(),t.state_ActiveColorWatcher=!0},i=function(){e.Colors=e._updateColors(),t.state_Colors=!0},r=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},o=function(e,a){t.state_ButtonStyles=b.ScheduleCallback(t.state_ButtonStyles,n)},s=function(e,a){t.state_ButtonStyles=b.ScheduleCallback(t.state_ButtonStyles,n)},l=function(e,i){null!=e&&(Ie.HiddenForget(e,"color",o),Ie.HiddenForget(e,"text",s)),null!=i&&(Ie.HiddenObserve(i,"color",o),Ie.HiddenObserve(i,"text",s)),t.state_ButtonStyles=b.ScheduleCallback(t.state_ButtonStyles,n),t.state_ActiveColorWatcher=b.ScheduleCallback(t.state_ActiveColorWatcher,a),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)},u=function(e,a){t.state_ButtonStyles=b.ScheduleCallback(t.state_ButtonStyles,n)},d=function(e,n){t.state_Colors=b.ScheduleCallback(t.state_Colors,i)},c=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)},h=function(e,n){t.state_ActiveColorWatcher=b.ScheduleCallback(t.state_ActiveColorWatcher,a)};Ie.HiddenObserve(e,"Colors",(function(e,i){null!=e&&Ie.HiddenForget(e,"Value",l),null!=i&&Ie.HiddenObserve(i,"Value",l),t.state_ButtonStyles=b.ScheduleCallback(t.state_ButtonStyles,n),t.state_ActiveColorWatcher=b.ScheduleCallback(t.state_ActiveColorWatcher,a),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),Ie.HiddenObserve(e,"Settings",(function(e,a){null!=e&&(Ie.HiddenForget(e,"buttonStyles",u),Ie.HiddenForget(e,"colors",d),Ie.HiddenForget(e,"distanceBetweenItems",c)),null!=a&&(Ie.HiddenObserve(a,"buttonStyles",u),Ie.HiddenObserve(a,"colors",d),Ie.HiddenObserve(a,"distanceBetweenItems",c)),t.state_ButtonStyles=b.ScheduleCallback(t.state_ButtonStyles,n),t.state_Colors=b.ScheduleCallback(t.state_Colors,i),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),Ie.HiddenObserve(e,"SelectedColor",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",h),null!=n&&Ie.HiddenObserve(n,"Value",h),t.state_ActiveColorWatcher=b.ScheduleCallback(t.state_ActiveColorWatcher,a)})),Ie.HiddenObserve(e,"ObjectFactory",(function(e,n){t.state_Colors=b.ScheduleCallback(t.state_Colors,i)})),Ie.HiddenObserve(e,"id",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),Ie.HiddenObserve(e,"activeIndex",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),Ie.HiddenObserve(e,"ButtonStyles",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),Ie.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),n(),a(),i(),r()};Wt.__name__=!0;var Ut=function(){this.doubleTapExpired=null,this.isMinimizedKey="binkies-debugger-minimized",this.minimized=!1,this.GridDebuggingEnabled=new $s,this.rootQuery=new bi('[data-binkies-content="root"]'),this.bodyQuery=new bi("body"),this.fullscreenQuery=new bi("#binkies-fullscreen"),this.highlightRoot=!1,Pt.call(this),Ut.cssAddedToPage||(this.AddStyleToHead(".binkies-debugger{\n\ttop: 100px; \n\tleft: 10px; \n\tbackground: white;\n\tbackground-color: rgba(255, 255, 255, 0.7);\n\tborder: 1px solid darkorange;\n\tz-index: 2147483647;\n\tmax-width: 300px;\n}\n\n.binkies-debugger .debugger-controls{\n\tdisplay: flex;\n\tjustify-content: stretch;\n\tflex-wrap: wrap;\n}\n\n.binkies-debugger .debugger-controls > *{\n\tflex: 1;\n}\n\n.binkies-debugger .display-mode{\n\tbackground: white;\n\tdisplay: inline-flex;\n\tborder: 1px solid black;\n\tflex: none;\n}\n\n.binkies-debugger .display-mode label{\n    padding: 2px;\n}\n\n.binkies-debugger dt\n{\n\tfont-weight: bold;\n\tmargin-top: 3px;\n}\n\n.binkies-debugger dd\n{\n\tmargin-left: 10px;\n}\n\n.binkies-debugger #debugger-header\n{\n\tpadding: 10px;\n\tcursor: move;\n\tbackground-color: rgba(255, 140, 0, 0.7);\n\tcolor: #fff;\n\tborder: 1px solid darkorange;\n}\n\n.binkies-debugger *\n{\n\tfont-size: 14px;\n\tline-height: normal;\n}\n\n.debugger-controls > button.active\n{\n\tbackground: #ffae4c4d;\n}\n\n.binkies-dragger.minimized\n{\n\twidth: 30px;\n\theight: 15px;\n}"),Ut.cssAddedToPage=!0),this.DebuggerObserver=new Zt(this)};Ut.__name__=!0,Ut.DebuggerEnabled=function(){var e=Ne.FindBooleanQueryParameter(window.location,"binkies-debugger-enabled",null);return 1==e?Ut.storage.setItem("binkies-debugger-enabled","true"):0==e&&Ut.storage.removeItem("binkies-debugger-enabled"),"true"==Ut.storage.getItem("binkies-debugger-enabled")},Ut.__super__=Pt,Ut.prototype=i(Pt.prototype,{_updateTestVariantValues:function(){var e=[null];if(null!=this.TestVariants)for(var t=0,n=this.TestVariants;t<n.length;)e.push(n[t++].name);return e},_updateTestVariantNames:function(){var e=["No Override"];if(null!=this.TestVariants)for(var t=0,n=this.TestVariants;t<n.length;)e.push(n[t++].name);return e},_updateTargetProvider:function(){return null==this.TargetDefinition||null==this.ElementFactory?null:this.ElementFactory.Create(this.TargetDefinition)},_updateRouteValue:function(){return null==this.Route?null:this.Route.Value},_updateIsFullscreen:function(){return null!=this.Route&&this.Route.ContainsFullscreen},_updateTarget:function(){return this.IsFullscreen?this.fullscreenQuery.Target:this.bodyQuery.Target},Mounted:function(){Pt.prototype.Mounted.call(this),this.minimized="true"==Ut.storage.getItem(this.isMinimizedKey)},ToggleMinimize:function(){this.minimized=!this.minimized,this.minimized?Ut.storage.setItem(this.isMinimizedKey,"true"):Ut.storage.removeItem(this.isMinimizedKey)},DoubleTap:function(e){1==e.touches.length&&(e.timeStamp<=this.doubleTapExpired?(e.preventDefault(),this.ToggleMinimize(),this.doubleTapExpired=null):this.doubleTapExpired=e.timeStamp+400)},SwitchShow:function(){this.State.WantToShowContent.SetValue(!this.State.WantToShowContent.Value)},SwitchLoading:function(){null!=this.LoadStateProvider&&(this.LoadStateProvider.ShowDebugLoadState=!this.LoadStateProvider.ShowDebugLoadState)},HighlightRoot:function(){this.highlightRoot=!this.highlightRoot},SwitchCanShare:function(){this.ShareManager.DebugModeEnabled=!this.ShareManager.DebugModeEnabled},GridDebug:function(){this.GridDebuggingEnabled.SetValue(!this.GridDebuggingEnabled.Value)},displayModeChanged:function(e){this.DebugDisplayMode.SetValue(e==Ut.OriginalDiplayModeID?null:e)},testVariantNameChanged:function(e){this.DebugActiveTestVariantName.SetValue(e)},_updateVirtualDom:function(){var e=this,t=function(t){e.DoubleTap(t)};t.hash=0;var n=function(){e.ToggleMinimize()};n.hash=1;var a=function(){e.SwitchShow()};a.hash=2;var i=function(){e.SwitchLoading()};i.hash=3;var r=function(){e.HighlightRoot()};r.hash=4;var o=function(){e.SwitchCanShare()};o.hash=5;var s=function(){e.GridDebug()};s.hash=6;var l=function(t){e.displayModeChanged(t)};l.hash=7;var u=function(t){e.testVariantNameChanged(t)};u.hash=8;var c=null;if((c=Oe.CreateNode("div")).Attributes.class="binkies-debugger notranslate binkies-draggable",this.highlightRoot&&c.AddNode("style").AddText('\n\t\t\t[data-binkies-content="root"]\n\t\t\t{\n\t\t\t\tbackground: rgba(255, 0, 0, 0.5);\n\t\t\t}\n\t\t'),1==this.minimized){var h=c.AddNode("div");h.Events.touchstart=t,h.Events.dblclick=n,h.Attributes.id="debugger-header",h.Attributes.class="binkies-dragger minimized"}if(0==this.minimized){var _=c.AddNode("div");if(_.Events.touchstart=t,_.Events.dblclick=n,_.Attributes.id="debugger-header",_.Attributes.class="binkies-dragger",_.AddText("DEBUGGER"),null!=this.ContentIdentifierProvider){var g=c.AddNode("div");g.Attributes.class="debugger-controls";var v=g.AddNode("button");v.Events.click=a,v.Attributes.class=this.State.WantToShowContent.Value?"active":"",v.AddText("ShowIntegration");var b=g.AddNode("button");b.Events.click=i,b.Attributes.class=null!=this.LoadStateProvider&&this.LoadStateProvider.ShowDebugLoadState?"active":"",b.AddText("ShowLoading");var f=g.AddNode("button");f.Events.click=r,f.Attributes.class=this.highlightRoot?"active":"",f.AddText("Highlight");var p=g.AddNode("button");p.Events.click=o,p.Attributes.class=null!=this.ShareManager&&this.ShareManager.DebugModeEnabled?"active":"",p.AddText("SimulateShare");var m=g.AddNode("button");m.Events.click=s,m.Attributes.class=null!=this.GridDebuggingEnabled&&this.GridDebuggingEnabled.Value?"active":"",m.AddText("ShowGrid");var S=g.AddNode("div");S.Attributes.class="display-mode",S.AddNode("label").AddText("DisplayModeOverride:");var C=S.AddNode("dropdown");C.Events.SelectedChanged=l,C.Attributes.Selected=this.DebugDisplayMode.Value,C.Attributes.Options=[null,"onpage","behindbutton"],C.Attributes.Labels=["No Override","OnPage","BehindButton"];var y=g.AddNode("div");y.Attributes.class="display-mode",y.AddNode("label").AddText("TestVariantOverride:");var k=y.AddNode("dropdown");k.Events.SelectedChanged=u,k.Attributes.Selected=this.DebugActiveTestVariantName.Value,k.Attributes.Options=this.TestVariantValues,k.Attributes.Labels=this.TestVariantNames;var V=c.AddNode("div");V.Attributes.id="platform-links";var H=V.AddNode("dl");H.AddNode("dt").AddText("Platform links");var O=H.AddNode("dd").AddNode("a");O.Attributes.target="_blank",O.Attributes.href="https://platform.binkies3d.com/Website/MissingContent/"+this.IntegrationSettings.AccessKey,O.AddText("Unknown Content");var w=H.AddNode("dd").AddNode("a");w.Attributes.target="_blank",w.Attributes.href="https://platform.binkies3d.com/Integration/Details/"+this.IntegrationSettings.IntegrationId,w.AddText("Integration");var F=c.AddNode("dl");F.AddNode("dt").AddText("Content Identifier"),F.AddNode("dd").AddText("Left: "+(null!=this.ContentIdentifierProvider.Value?this.ContentIdentifierProvider.Value:"-")),null!=this.ComparisonContentIdentifierProvider&&F.AddNode("dd").AddText("Right: "+(null!=this.ComparisonContentIdentifierProvider.Value?this.ComparisonContentIdentifierProvider.Value:"-")),null!=this.TargetProvider&&(F.AddNode("dt").AddText("Element information"),F.AddNode("dd").AddText("Target available: "+d.string(null!=this.TargetProvider.Value)),F.AddNode("dd").AddText("Root on page: "+d.string(null!=this.rootQuery.Target))),F.AddNode("dt").AddText("State"),this.State.WantToShowContent.Value&&F.AddNode("dd").AddText("WantToShowContent"),this.State.CanShowContent&&F.AddNode("dd").AddText("CanShowContent"),this.State.CanShowFullscreen&&F.AddNode("dd").AddText("CanShowFullscreen"),this.State.ContentCanBeDownloaded&&F.AddNode("dd").AddText("ContentCanBeDownloaded"),this.State.ResourcesLoaded&&F.AddNode("dd").AddText("ResourcesLoaded"),this.State.ContentLoading&&F.AddNode("dd").AddText("ContentLoading"),this.State.ContentDownloaded&&F.AddNode("dd").AddText("ContentDownloaded"),this.State.ShowContent&&F.AddNode("dd").AddText("ShowingContent"),this.State.ShowFullscreen&&F.AddNode("dd").AddText("ShowingFullscreen"),F.AddNode("dt").AddText("Route"),F.AddNode("dd").AddText('"'+this.RouteValue+'"'),F.AddNode("dt").AddText("History");for(var x=0,D=this.ContentQueue.productColorHistory.length;x<D;){var P=x++,A=F.AddNode("dd");if(null!=this.ContentQueue.productColorHistory[this.ContentQueue.productColorHistory.length-P-1]){if(this.ContentQueue.productColorHistory[this.ContentQueue.productColorHistory.length-P-1].Color.ReadyForCustomer){var I=A.AddNode("span");I.Attributes.style="color: green",I.Attributes.class="binkies-unselectable",I.AddText("✓")}if(!this.ContentQueue.productColorHistory[this.ContentQueue.productColorHistory.length-P-1].Color.ReadyForCustomer){var T=A.AddNode("span");T.Attributes.style="color: red",T.Attributes.class="binkies-unselectable",T.AddText("✕")}}A.AddText("\n\t\t\t\t\t\t"+this.ContentQueue.contentIdHistory[this.ContentQueue.productColorHistory.length-P-1]+"\n\t\t\t\t\t\t"),null==this.ContentQueue.productColorHistory[this.ContentQueue.productColorHistory.length-P-1]&&A.AddText("\n\t\t\t\t\t\t\t-\n\t\t\t\t\t\t")}}}return null==c&&(c=Oe.CreateNode(this.converter.GetPlaceholderTag())),c}});var Gt=function(e){this.debugLoadingValue=0,this.ShowDebugLoadState=!1,this.defaultLoadStateProvider=e,this.DebuggerLoadStateProviderObserver=new Xt(this)};Gt.__name__=!0,Gt.prototype={Run:function(){var e=this;null==this.intervalId&&(this.intervalId=window.setInterval((function(){e.debugLoadingValue+=.05;var t=e;return t.debugLoadingValue%=1,t.debugLoadingValue}),30))},Stop:function(){null!=this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.debugLoadingValue=0)},_updateDebugLoadState:function(){return L.Loading(this.debugLoadingValue)},_updateLoadState:function(){return null==this.defaultLoadStateProvider?null:this.ShowDebugLoadState?(this.Run(),this.DebugLoadState):(this.Stop(),this.defaultLoadStateProvider.LoadState)}};var Xt=function(e){var t=this;this.state_DebugLoadState=!1,this.state_LoadState=!1;var n=function(){e.DebugLoadState=e._updateDebugLoadState(),t.state_DebugLoadState=!0},a=function(){e.LoadState=e._updateLoadState(),t.state_LoadState=!0},i=function(e,n){t.state_LoadState=b.ScheduleCallback(t.state_LoadState,a)};Ie.HiddenObserve(e,"debugLoadingValue",(function(e,a){t.state_DebugLoadState=b.ScheduleCallback(t.state_DebugLoadState,n)})),Ie.HiddenObserve(e,"defaultLoadStateProvider",(function(e,n){null!=e&&Ie.HiddenForget(e,"LoadState",i),null!=n&&Ie.HiddenObserve(n,"LoadState",i),t.state_LoadState=b.ScheduleCallback(t.state_LoadState,a)})),Ie.HiddenObserve(e,"ShowDebugLoadState",(function(e,n){t.state_LoadState=b.ScheduleCallback(t.state_LoadState,a)})),Ie.HiddenObserve(e,"DebugLoadState",(function(e,n){t.state_LoadState=b.ScheduleCallback(t.state_LoadState,a)})),n(),a()};Xt.__name__=!0;var Yt=function(e){this.ConnectionSpeedOverride="high",this.Enabled=!1,this.decoratee=e,this.DebuggerNetworkProviderObserver=new zt(this)};Yt.__name__=!0,Yt.prototype={_updateconnectionSpeed:function(){return this.Enabled?this.ConnectionSpeedOverride:this.decoratee.connectionSpeed}};var zt=function(e){var t=this;this.state_connectionSpeed=!1;var n=function(){e.connectionSpeed=e._updateconnectionSpeed(),t.state_connectionSpeed=!0},a=function(e,a){t.state_connectionSpeed=b.ScheduleCallback(t.state_connectionSpeed,n)};Ie.HiddenObserve(e,"Enabled",(function(e,a){t.state_connectionSpeed=b.ScheduleCallback(t.state_connectionSpeed,n)})),Ie.HiddenObserve(e,"decoratee",(function(e,i){null!=e&&Ie.HiddenForget(e,"connectionSpeed",a),null!=i&&Ie.HiddenObserve(i,"connectionSpeed",a),t.state_connectionSpeed=b.ScheduleCallback(t.state_connectionSpeed,n)})),Ie.HiddenObserve(e,"ConnectionSpeedOverride",(function(e,a){t.state_connectionSpeed=b.ScheduleCallback(t.state_connectionSpeed,n)})),n()};zt.__name__=!0;var Zt=function(e){var t=this;this.state_TestVariantValues=!1,this.state_TestVariantNames=!1,this.state_TargetProvider=!1,this.state_RouteValue=!1,this.state_IsFullscreen=!1,this.state_Target=!1,this.state_VirtualDom=!1;var n=function(){e.TestVariantValues=e._updateTestVariantValues(),t.state_TestVariantValues=!0},a=function(){e.TestVariantNames=e._updateTestVariantNames(),t.state_TestVariantNames=!0},i=function(){e.TargetProvider=e._updateTargetProvider(),t.state_TargetProvider=!0},r=function(){e.RouteValue=e._updateRouteValue(),t.state_RouteValue=!0},o=function(){e.IsFullscreen=e._updateIsFullscreen(),t.state_IsFullscreen=!0},s=function(){e.Target=e._updateTarget(),t.state_Target=!0},l=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},u=function(e,i){t.state_TestVariantValues=b.ScheduleCallback(t.state_TestVariantValues,n),t.state_TestVariantNames=b.ScheduleCallback(t.state_TestVariantNames,a)},d=function(e,n){t.state_RouteValue=b.ScheduleCallback(t.state_RouteValue,r)},c=function(e,n){t.state_IsFullscreen=b.ScheduleCallback(t.state_IsFullscreen,o)},h=function(e,n){t.state_Target=b.ScheduleCallback(t.state_Target,s)},_=function(e,n){t.state_Target=b.ScheduleCallback(t.state_Target,s)},g=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},v=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},f=function(e,n){null!=e&&Ie.HiddenForget(e,"Value",v),null!=n&&Ie.HiddenObserve(n,"Value",v),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},p=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},m=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},S=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},C=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},y=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},k=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},V=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},H=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},O=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},w=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},F=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},x=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},D=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},P=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},A=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},I=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},T=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},M=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},R=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},N=function(e,n){null!=e&&Ie.HiddenForget(e,"ReadyForCustomer",R),null!=n&&Ie.HiddenObserve(n,"ReadyForCustomer",R),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},L=function(e,n){null!=e&&Ie.HiddenForget(e,"Color",N),null!=n&&Ie.HiddenObserve(n,"Color",N),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},E=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)};Ie.HiddenObserve(e,"TestVariants",(function(e,i){null!=e&&Ie.HiddenForget(e,"name",u),null!=i&&Ie.HiddenObserve(i,"name",u),t.state_TestVariantValues=b.ScheduleCallback(t.state_TestVariantValues,n),t.state_TestVariantNames=b.ScheduleCallback(t.state_TestVariantNames,a)})),Ie.HiddenObserve(e,"TargetDefinition",(function(e,n){t.state_TargetProvider=b.ScheduleCallback(t.state_TargetProvider,i)})),Ie.HiddenObserve(e,"ElementFactory",(function(e,n){t.state_TargetProvider=b.ScheduleCallback(t.state_TargetProvider,i)})),Ie.HiddenObserve(e,"Route",(function(e,n){null!=e&&(Ie.HiddenForget(e,"Value",d),Ie.HiddenForget(e,"ContainsFullscreen",c)),null!=n&&(Ie.HiddenObserve(n,"Value",d),Ie.HiddenObserve(n,"ContainsFullscreen",c)),t.state_RouteValue=b.ScheduleCallback(t.state_RouteValue,r),t.state_IsFullscreen=b.ScheduleCallback(t.state_IsFullscreen,o)})),Ie.HiddenObserve(e,"IsFullscreen",(function(e,n){t.state_Target=b.ScheduleCallback(t.state_Target,s)})),Ie.HiddenObserve(e,"fullscreenQuery",(function(e,n){null!=e&&Ie.HiddenForget(e,"Target",h),null!=n&&Ie.HiddenObserve(n,"Target",h),t.state_Target=b.ScheduleCallback(t.state_Target,s)})),Ie.HiddenObserve(e,"bodyQuery",(function(e,n){null!=e&&Ie.HiddenForget(e,"Target",_),null!=n&&Ie.HiddenObserve(n,"Target",_),t.state_Target=b.ScheduleCallback(t.state_Target,s)})),Ie.HiddenObserve(e,"highlightRoot",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"minimized",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"ContentIdentifierProvider",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",g),null!=n&&Ie.HiddenObserve(n,"Value",g),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"State",(function(e,n){null!=e&&(Ie.HiddenForget(e,"WantToShowContent",f),Ie.HiddenForget(e,"CanShowContent",p),Ie.HiddenForget(e,"CanShowFullscreen",m),Ie.HiddenForget(e,"ContentCanBeDownloaded",S),Ie.HiddenForget(e,"ResourcesLoaded",C),Ie.HiddenForget(e,"ContentLoading",y),Ie.HiddenForget(e,"ContentDownloaded",k),Ie.HiddenForget(e,"ShowContent",V),Ie.HiddenForget(e,"ShowFullscreen",H)),null!=n&&(Ie.HiddenObserve(n,"WantToShowContent",f),Ie.HiddenObserve(n,"CanShowContent",p),Ie.HiddenObserve(n,"CanShowFullscreen",m),Ie.HiddenObserve(n,"ContentCanBeDownloaded",S),Ie.HiddenObserve(n,"ResourcesLoaded",C),Ie.HiddenObserve(n,"ContentLoading",y),Ie.HiddenObserve(n,"ContentDownloaded",k),Ie.HiddenObserve(n,"ShowContent",V),Ie.HiddenObserve(n,"ShowFullscreen",H)),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"LoadStateProvider",(function(e,n){null!=e&&Ie.HiddenForget(e,"ShowDebugLoadState",O),null!=n&&Ie.HiddenObserve(n,"ShowDebugLoadState",O),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"ShareManager",(function(e,n){null!=e&&Ie.HiddenForget(e,"DebugModeEnabled",w),null!=n&&Ie.HiddenObserve(n,"DebugModeEnabled",w),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"GridDebuggingEnabled",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",F),null!=n&&Ie.HiddenObserve(n,"Value",F),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"DebugDisplayMode",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",x),null!=n&&Ie.HiddenObserve(n,"Value",x),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"DebugActiveTestVariantName",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",D),null!=n&&Ie.HiddenObserve(n,"Value",D),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"TestVariantValues",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"TestVariantNames",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"IntegrationSettings",(function(e,n){null!=e&&(Ie.HiddenForget(e,"AccessKey",P),Ie.HiddenForget(e,"IntegrationId",A)),null!=n&&(Ie.HiddenObserve(n,"AccessKey",P),Ie.HiddenObserve(n,"IntegrationId",A)),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"ComparisonContentIdentifierProvider",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",I),null!=n&&Ie.HiddenObserve(n,"Value",I),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"TargetProvider",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",T),null!=n&&Ie.HiddenObserve(n,"Value",T),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"rootQuery",(function(e,n){null!=e&&Ie.HiddenForget(e,"Target",M),null!=n&&Ie.HiddenObserve(n,"Target",M),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"RouteValue",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"ContentQueue",(function(e,n){null!=e&&(Ie.HiddenForget(e,"productColorHistory",L),Ie.HiddenForget(e,"contentIdHistory",E)),null!=n&&(Ie.HiddenObserve(n,"productColorHistory",L),Ie.HiddenObserve(n,"contentIdHistory",E)),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),n(),a(),i(),r(),o(),s(),l()};Zt.__name__=!0;var Qt=function(){De.call(this),this.DropdownObserver=new jt(this)};Qt.__name__=!0,Qt.__super__=De,Qt.prototype=i(De.prototype,{GetLength:function(e){return null==e?0:e.length},GetLabel:function(e,t,n){var a=null!=e?e:t;return null==a?null:a[n]},_updateOptionsContainsSelected:function(){return null==this.Options?null:s.has(this.Options,this.Selected)},_updateVirtualDom:function(){var e=this,t=function(t){e.FireEvent("SelectedChanged",e.Options[d.parseInt(t.target.value)])};t.hash=0;var n=null;if((n=Oe.CreateNode("select")).Events.change=t,!this.OptionsContainsSelected){var a=n.AddNode("option");a.Attributes.value=-1,a.Attributes.selected=!0,a.Attributes.disabled=!0,a.AddText("-")}for(var i=0,r=this.GetLength(this.Options);i<r;){var o=i++;if(this.Options[o]==this.Selected){var s=n.AddNode("option");s.Attributes.value=o,s.Attributes.selected=!0,s.AddText(this.GetLabel(this.Labels,this.Options,o))}if(this.Options[o]!=this.Selected){var l=n.AddNode("option");l.Attributes.value=o,l.AddText(this.GetLabel(this.Labels,this.Options,o))}}return null==n&&(n=Oe.CreateNode(this.converter.GetPlaceholderTag())),n}});var jt=function(e){var t=this;this.state_OptionsContainsSelected=!1,this.state_VirtualDom=!1;var n=function(){e.OptionsContainsSelected=e._updateOptionsContainsSelected(),t.state_OptionsContainsSelected=!0},a=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0};Ie.HiddenObserve(e,"Options",(function(e,i){t.state_OptionsContainsSelected=b.ScheduleCallback(t.state_OptionsContainsSelected,n),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),Ie.HiddenObserve(e,"Selected",(function(e,i){t.state_OptionsContainsSelected=b.ScheduleCallback(t.state_OptionsContainsSelected,n),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),Ie.HiddenObserve(e,"OptionsContainsSelected",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),Ie.HiddenObserve(e,"Labels",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),n(),a()};jt.__name__=!0;var qt=function(){De.call(this),this.ElementDebuggerComponentObserver=new Kt(this)};qt.__name__=!0,qt.__super__=De,qt.prototype=i(De.prototype,{_updateDebuggerStyle:function(){var e="\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t";return tl.IsNullOrWhiteSpace(this.CustomStyle)||(e="\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t"+this.CustomStyle),e},_updateVirtualDom:function(){var e=Oe.CreateNode("div");return e.Attributes.style=this.DebuggerStyle,e}});var Kt=function(e){var t=this;this.state_DebuggerStyle=!1,this.state_VirtualDom=!1;var n=function(){e.DebuggerStyle=e._updateDebuggerStyle(),t.state_DebuggerStyle=!0},a=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0};Ie.HiddenObserve(e,"CustomStyle",(function(e,a){t.state_DebuggerStyle=b.ScheduleCallback(t.state_DebuggerStyle,n)})),Ie.HiddenObserve(e,"DebuggerStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),n(),a()};Kt.__name__=!0;var Jt=function(){De.call(this),this.DisplayModeButtonComponentObserver=new $t(this)};Jt.__name__=!0,Jt.__super__=De,Jt.prototype=i(De.prototype,{_updateDisplayModeSetting:function(){return null==this.Settings?null:this.StringFactory.Create(this.Settings.displayMode)},_updateDisplay:function(){return null!=this.Settings},OnClick:function(){null!=this.DisplayModeSetting&&this.DisplayMode.SetValue(this.DisplayModeSetting.Value)},_updateVirtualDom:function(){var e=this,t=function(){e.OnClick()};t.hash=0;var n=null;return this.Display&&((n=Oe.CreateNode("buttoncomponent")).Events.click=t,n.Attributes.Styles=this.Settings.styles,n.Attributes.StringFactory=this.StringFactory),null==n&&(n=Oe.CreateNode(this.converter.GetPlaceholderTag())),n}});var $t=function(e){var t=this;this.state_DisplayModeSetting=!1,this.state_Display=!1,this.state_VirtualDom=!1;var n=function(){e.DisplayModeSetting=e._updateDisplayModeSetting(),t.state_DisplayModeSetting=!0},a=function(){e.Display=e._updateDisplay(),t.state_Display=!0},i=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},r=function(e,a){t.state_DisplayModeSetting=b.ScheduleCallback(t.state_DisplayModeSetting,n)},o=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,i)};Ie.HiddenObserve(e,"Settings",(function(e,s){null!=e&&(Ie.HiddenForget(e,"displayMode",r),Ie.HiddenForget(e,"styles",o)),null!=s&&(Ie.HiddenObserve(s,"displayMode",r),Ie.HiddenObserve(s,"styles",o)),t.state_DisplayModeSetting=b.ScheduleCallback(t.state_DisplayModeSetting,n),t.state_Display=b.ScheduleCallback(t.state_Display,a),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,i)})),Ie.HiddenObserve(e,"Display",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,i)})),Ie.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,i)})),n(),a(),i()};$t.__name__=!0;var en=function(){De.call(this),this.DynamicComponentObserver=new tn(this)};en.__name__=!0,en.__super__=De,en.prototype=i(De.prototype,{_updateComponent:function(){return null==this.ComponentDefinition||null==this.ComponentFactory?null:this.ComponentFactory.Create(this.ComponentDefinition)},_updateVirtualDom:function(){return null==this.Component?null:this.Component.Value}});var tn=function(e){var t=this;this.state_Component=!1,this.state_VirtualDom=!1;var n=function(){e.Component=e._updateComponent(),t.state_Component=!0},a=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},i=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)};Ie.HiddenObserve(e,"ComponentDefinition",(function(e,a){t.state_Component=b.ScheduleCallback(t.state_Component,n)})),Ie.HiddenObserve(e,"ComponentFactory",(function(e,a){t.state_Component=b.ScheduleCallback(t.state_Component,n)})),Ie.HiddenObserve(e,"Component",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",i),null!=n&&Ie.HiddenObserve(n,"Value",i),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),n(),a()};tn.__name__=!0;var nn=function(){De.call(this),this.FlipperComponentObserver=new an(this)};nn.__name__=!0,nn.NormalizeIndex=function(e,t){var n=e;return e>=t&&(n=e%t),n<0&&(n=t-1),n},nn.__super__=De,nn.prototype=i(De.prototype,{Flip:function(){var e;switch(this.Settings.flipDirection){case-1:e=this.GetIndex(-1);break;case 1:e=this.GetIndex(1)}this.ActiveBookmarkHandler.SetValue(this.Settings.bookmarks[e]),$.Fire("flipperclicked",new ue(this.Settings.flipDirection))},GetIndex:function(e){var t=this.Settings.bookmarks.indexOf(this.ActiveBookmarkHandler.Value);return nn.NormalizeIndex(-1==t?0:t+e,this.Settings.bookmarks.length)},_updateAriaLabel:function(){return null==this.StringFactory||null==this.Settings?null:this.StringFactory.Create(this.Settings.ariaLabel)},_updateVirtualDom:function(){var e=this,t=function(){e.Flip()};t.hash=0;var n=null;return null!=this.Settings&&null!=this.AriaLabel&&((n=Oe.CreateNode("buttoncomponent")).Events.click=t,n.Attributes.Styles=this.Settings.buttonSettings.styles,n.Attributes.StringFactory=this.StringFactory,n.Attributes.AriaLabel=this.AriaLabel.Value),null==n&&(n=Oe.CreateNode(this.converter.GetPlaceholderTag())),n}});var an=function(e){var t=this;this.state_AriaLabel=!1,this.state_VirtualDom=!1;var n=function(){e.AriaLabel=e._updateAriaLabel(),t.state_AriaLabel=!0},a=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},i=function(e,a){t.state_AriaLabel=b.ScheduleCallback(t.state_AriaLabel,n)},r=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)},o=function(e,n){null!=e&&Ie.HiddenForget(e,"styles",r),null!=n&&Ie.HiddenObserve(n,"styles",r),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)},s=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)};Ie.HiddenObserve(e,"StringFactory",(function(e,i){t.state_AriaLabel=b.ScheduleCallback(t.state_AriaLabel,n),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),Ie.HiddenObserve(e,"Settings",(function(e,r){null!=e&&(Ie.HiddenForget(e,"ariaLabel",i),Ie.HiddenForget(e,"buttonSettings",o)),null!=r&&(Ie.HiddenObserve(r,"ariaLabel",i),Ie.HiddenObserve(r,"buttonSettings",o)),t.state_AriaLabel=b.ScheduleCallback(t.state_AriaLabel,n),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),Ie.HiddenObserve(e,"AriaLabel",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",s),null!=n&&Ie.HiddenObserve(n,"Value",s),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),n(),a()};an.__name__=!0;var rn=function(){var e=S.stringGeneratorsByLength.h[0];null==e&&(e=new C(S.acceptedCharacters.split(""),null),S.stringGeneratorsByLength.h[0]=e),this.id="binkies-id-"+e.Get(),De.call(this),this.GalleryComponentObserver=new on(this)};rn.__name__=!0,rn.__super__=De,rn.prototype=i(De.prototype,{_updateBookmarkQuery:function(){return null==this.Settings?null:"image"==this.Settings.type?new _t(".binkies-bookmark > img","src"):null},_updateActiveIndex:function(){var e=this;if(null==this.ActiveBookmarkHandler||null==this.ActiveBookmarkHandler.Value)return-1;if(null==this.Settings||null==this.Settings.bookmarks)return-1;var t=il.firstWhere(this.Settings.bookmarks,(function(t){return t.bookmark==e.ActiveBookmarkHandler.Value}));return null==t?-1:this.Settings.bookmarks.indexOf(t)},_updateBookmarkStyles:function(){var e=[];if(null==this.Settings||null==this.Settings.bookmarks)return e;for(var t=0,n=this.Settings.bookmarks.length;t<n;){var a=t++,i=null!=this.Settings.bookmarkStyles?this.Settings.bookmarkStyles.slice():[];null!=this.BookmarkQuery&&null!=this.BookmarkQuery.Result&&i.push({imageSource:{id:"constant",settings:{value:this.BookmarkQuery.Result[a]}}}),e.push(i)}return e},_updateAriaLabels:function(){var e=[];if(null==this.Settings||null==this.Settings.bookmarks)return e;for(var t=0,n=this.Settings.bookmarks.length;t<n;){var a=t++;e.push(null!=this.Settings.bookmarks[a].ariaLabel?this.StringFactory.Create(this.Settings.bookmarks[a].ariaLabel):new $s(""))}return e},ClickBookmark:function(e){this.ActiveBookmarkHandler.SetValue(e),$.Fire("bookmarkclicked",new ee(e))},_updateVirtualDom:function(){var e=this,t=function(t){var n=function(){e.ClickBookmark(e.Settings.bookmarks[t].bookmark)};return n.hash="0-"+Ae.GetId(t),n},n=null;if(null!=this.Settings&&null!=this.Settings.bookmarks){(n=Oe.CreateNode("div")).Attributes.style="pointer-events: none; flex-wrap: wrap; overflow: hidden; flex: 0 1 auto;",n.Attributes.id=this.id,n.Attributes.class="binkies-gallery-container binkies-flex-centered";var a=n.AddNode("style");a.AddText("\n\t\t\t#"+this.id+" > div\n\t\t\t{\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: inherit;\n\t\t\t\tmin-width: 0%;\n\t\t\t\tmin-height: 0%;\n\t\t\t}\n\n\t\t\t"),tl.IsNullOrWhiteSpace(this.Settings.distanceBetweenItems)||a.AddText("\n\t\t\t#"+this.id+' > div + div::before\n\t\t\t{\n\t\t\t\tcontent: "";\n\t\t\t\tpadding: calc('+this.Settings.distanceBetweenItems+" * 0.5);\n\t\t\t}\n\t\t\t");for(var i=0,r=this.AriaLabels.length;i<r;){var o=i++,s=n.AddNode("div");s.Attributes.class="binkies-gallery-item-wrapper";var l=s.AddNode("buttoncomponent"),u=t(o);l.Events.click=u,l.Attributes.Styles=this.BookmarkStyles[o],l.Attributes.StringFactory=this.StringFactory,l.Attributes.IsActive=o==this.ActiveIndex,l.Attributes.AriaLabel=this.AriaLabels[o].Value}}return null==n&&(n=Oe.CreateNode(this.converter.GetPlaceholderTag())),n}});var on=function(e){var t=this;this.state_BookmarkQuery=!1,this.state_ActiveIndex=!1,this.state_BookmarkStyles=!1,this.state_AriaLabels=!1,this.state_VirtualDom=!1;var n=function(){e.BookmarkQuery=e._updateBookmarkQuery(),t.state_BookmarkQuery=!0},a=function(){e.ActiveIndex=e._updateActiveIndex(),t.state_ActiveIndex=!0},i=function(){e.BookmarkStyles=e._updateBookmarkStyles(),t.state_BookmarkStyles=!0},r=function(){e.AriaLabels=e._updateAriaLabels(),t.state_AriaLabels=!0},o=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},s=function(e,a){t.state_BookmarkQuery=b.ScheduleCallback(t.state_BookmarkQuery,n)},l=function(e,n){t.state_AriaLabels=b.ScheduleCallback(t.state_AriaLabels,r)},u=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)},d=function(e,n){null!=e&&(Ie.HiddenForget(e,"ariaLabel",l),Ie.HiddenForget(e,"bookmark",u)),null!=n&&(Ie.HiddenObserve(n,"ariaLabel",l),Ie.HiddenObserve(n,"bookmark",u)),t.state_ActiveIndex=b.ScheduleCallback(t.state_ActiveIndex,a),t.state_BookmarkStyles=b.ScheduleCallback(t.state_BookmarkStyles,i),t.state_AriaLabels=b.ScheduleCallback(t.state_AriaLabels,r),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)},c=function(e,n){t.state_BookmarkStyles=b.ScheduleCallback(t.state_BookmarkStyles,i)},h=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)},_=function(e,n){t.state_ActiveIndex=b.ScheduleCallback(t.state_ActiveIndex,a)},g=function(e,n){t.state_BookmarkStyles=b.ScheduleCallback(t.state_BookmarkStyles,i)},v=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)};Ie.HiddenObserve(e,"Settings",(function(e,l){null!=e&&(Ie.HiddenForget(e,"type",s),Ie.HiddenForget(e,"bookmarks",d),Ie.HiddenForget(e,"bookmarkStyles",c),Ie.HiddenForget(e,"distanceBetweenItems",h)),null!=l&&(Ie.HiddenObserve(l,"type",s),Ie.HiddenObserve(l,"bookmarks",d),Ie.HiddenObserve(l,"bookmarkStyles",c),Ie.HiddenObserve(l,"distanceBetweenItems",h)),t.state_BookmarkQuery=b.ScheduleCallback(t.state_BookmarkQuery,n),t.state_ActiveIndex=b.ScheduleCallback(t.state_ActiveIndex,a),t.state_BookmarkStyles=b.ScheduleCallback(t.state_BookmarkStyles,i),t.state_AriaLabels=b.ScheduleCallback(t.state_AriaLabels,r),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"ActiveBookmarkHandler",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",_),null!=n&&Ie.HiddenObserve(n,"Value",_),t.state_ActiveIndex=b.ScheduleCallback(t.state_ActiveIndex,a)})),Ie.HiddenObserve(e,"BookmarkQuery",(function(e,n){null!=e&&Ie.HiddenForget(e,"Result",g),null!=n&&Ie.HiddenObserve(n,"Result",g),t.state_BookmarkStyles=b.ScheduleCallback(t.state_BookmarkStyles,i)})),Ie.HiddenObserve(e,"id",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"AriaLabels",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",v),null!=n&&Ie.HiddenObserve(n,"Value",v),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"BookmarkStyles",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"ActiveIndex",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),n(),a(),i(),r(),o()};on.__name__=!0;var sn=function(){De.call(this),this.GoogleFormComponentObserver=new ln(this)};sn.__name__=!0,sn.__super__=De,sn.prototype=i(De.prototype,{_updateFormIdValue:function(){return null==this.Settings||null==this.Settings.formId||null==this.StringFactory?null:this.StringFactory.Create(this.Settings.formId)},_updateFormId:function(){return null==this.FormIdValue||null==this.FormIdValue.Value?null:this.FormIdValue.Value},_updateLangValue:function(){return null==this.Settings||null==this.Settings.lang||null==this.StringFactory?null:this.StringFactory.Create(this.Settings.lang)},_updateLang:function(){return null==this.LangValue||null==this.LangValue.Value?null:this.LangValue.Value},_updatehtmlString:function(){if(null==this.FormId)return null;var e="https://docs.google.com/forms/d/e/"+this.FormId+"/viewform?embedded=true";return null!=this.Lang&&(e+="&hl="+this.Lang),e},_updateVirtualDom:function(){var e=null;if(null!=this.htmlString){(e=Oe.CreateNode("div")).Attributes.style="height: 100%; width:100%;";var t=e.AddNode("iframe");t.Attributes.style="height: 100%; width:100%; pointer-events: all",t.Attributes.src=this.htmlString,t.Attributes.marginwidth=0,t.Attributes.marginheight=0,t.Attributes.frameborder=0}return null==e&&(e=Oe.CreateNode(this.converter.GetPlaceholderTag())),e}});var ln=function(e){var t=this;this.state_FormIdValue=!1,this.state_FormId=!1,this.state_LangValue=!1,this.state_Lang=!1,this.state_htmlString=!1,this.state_VirtualDom=!1;var n=function(){e.FormIdValue=e._updateFormIdValue(),t.state_FormIdValue=!0},a=function(){e.FormId=e._updateFormId(),t.state_FormId=!0},i=function(){e.LangValue=e._updateLangValue(),t.state_LangValue=!0},r=function(){e.Lang=e._updateLang(),t.state_Lang=!0},o=function(){e.htmlString=e._updatehtmlString(),t.state_htmlString=!0},s=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},l=function(e,a){t.state_FormIdValue=b.ScheduleCallback(t.state_FormIdValue,n)},u=function(e,n){t.state_LangValue=b.ScheduleCallback(t.state_LangValue,i)},d=function(e,n){t.state_FormId=b.ScheduleCallback(t.state_FormId,a)},c=function(e,n){t.state_Lang=b.ScheduleCallback(t.state_Lang,r)};Ie.HiddenObserve(e,"Settings",(function(e,a){null!=e&&(Ie.HiddenForget(e,"formId",l),Ie.HiddenForget(e,"lang",u)),null!=a&&(Ie.HiddenObserve(a,"formId",l),Ie.HiddenObserve(a,"lang",u)),t.state_FormIdValue=b.ScheduleCallback(t.state_FormIdValue,n),t.state_LangValue=b.ScheduleCallback(t.state_LangValue,i)})),Ie.HiddenObserve(e,"StringFactory",(function(e,a){t.state_FormIdValue=b.ScheduleCallback(t.state_FormIdValue,n),t.state_LangValue=b.ScheduleCallback(t.state_LangValue,i)})),Ie.HiddenObserve(e,"FormIdValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",d),null!=n&&Ie.HiddenObserve(n,"Value",d),t.state_FormId=b.ScheduleCallback(t.state_FormId,a)})),Ie.HiddenObserve(e,"LangValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",c),null!=n&&Ie.HiddenObserve(n,"Value",c),t.state_Lang=b.ScheduleCallback(t.state_Lang,r)})),Ie.HiddenObserve(e,"FormId",(function(e,n){t.state_htmlString=b.ScheduleCallback(t.state_htmlString,o)})),Ie.HiddenObserve(e,"Lang",(function(e,n){t.state_htmlString=b.ScheduleCallback(t.state_htmlString,o)})),Ie.HiddenObserve(e,"htmlString",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,s)})),n(),a(),i(),r(),o(),s()};ln.__name__=!0;var un=function(){De.call(this),this.GoToRouteButtonComponentObserver=new dn(this)};un.__name__=!0,un.__super__=De,un.prototype=i(De.prototype,{Clicked:function(){this.Route.GoTo(this.Settings.route)},_updateAriaLabel:function(){return null==this.StringFactory||null==this.Settings?null:this.StringFactory.Create(this.Settings.ariaLabel)},_updateHasPopup:function(){return null!=this.Settings&&(null!=this.Route&&this.Settings.route==this.Route.FullscreenRoute)},_updateVirtualDom:function(){var e=this,t=function(){e.Clicked()};t.hash=0;var n=null;return null!=this.Settings&&null!=this.AriaLabel&&((n=Oe.CreateNode("buttoncomponent")).Events.click=t,n.Attributes.Styles=this.Settings.styles,n.Attributes.StringFactory=this.StringFactory,n.Attributes.HasPopup=this.HasPopup,n.Attributes.AriaLabel=this.AriaLabel.Value),null==n&&(n=Oe.CreateNode(this.converter.GetPlaceholderTag())),n}});var dn=function(e){var t=this;this.state_AriaLabel=!1,this.state_HasPopup=!1,this.state_VirtualDom=!1;var n=function(){e.AriaLabel=e._updateAriaLabel(),t.state_AriaLabel=!0},a=function(){e.HasPopup=e._updateHasPopup(),t.state_HasPopup=!0},i=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},r=function(e,a){t.state_AriaLabel=b.ScheduleCallback(t.state_AriaLabel,n)},o=function(e,n){t.state_HasPopup=b.ScheduleCallback(t.state_HasPopup,a)},s=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,i)},l=function(e,n){t.state_HasPopup=b.ScheduleCallback(t.state_HasPopup,a)},u=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,i)};Ie.HiddenObserve(e,"StringFactory",(function(e,a){t.state_AriaLabel=b.ScheduleCallback(t.state_AriaLabel,n),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,i)})),Ie.HiddenObserve(e,"Settings",(function(e,l){null!=e&&(Ie.HiddenForget(e,"ariaLabel",r),Ie.HiddenForget(e,"route",o),Ie.HiddenForget(e,"styles",s)),null!=l&&(Ie.HiddenObserve(l,"ariaLabel",r),Ie.HiddenObserve(l,"route",o),Ie.HiddenObserve(l,"styles",s)),t.state_AriaLabel=b.ScheduleCallback(t.state_AriaLabel,n),t.state_HasPopup=b.ScheduleCallback(t.state_HasPopup,a),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,i)})),Ie.HiddenObserve(e,"Route",(function(e,n){null!=e&&Ie.HiddenForget(e,"FullscreenRoute",l),null!=n&&Ie.HiddenObserve(n,"FullscreenRoute",l),t.state_HasPopup=b.ScheduleCallback(t.state_HasPopup,a)})),Ie.HiddenObserve(e,"AriaLabel",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",u),null!=n&&Ie.HiddenObserve(n,"Value",u),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,i)})),Ie.HiddenObserve(e,"HasPopup",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,i)})),n(),a(),i()};dn.__name__=!0;var cn=function(){De.call(this),this.GridAreaComponentObserver=new hn(this)};cn.__name__=!0,cn.__super__=De,cn.prototype=i(De.prototype,{_updateCustomStyle:function(){if(null==this.Settings||null==this.Settings.style)return"";var e=this.Settings.style,t=[];return tl.IsNullOrWhiteSpace(e.padding)||t.push("padding: "+e.padding),tl.IsNullOrWhiteSpace(e.opacity)||t.push("opacity: "+e.opacity),tl.IsNullOrWhiteSpace(e.borderRadius)||t.push("border-radius: "+e.borderRadius),t.join(";")},_updateCellStyle:function(){if(null==this.Settings)return"";if(null==this.Positioning)return"";var e="box-sizing: border-box; pointer-events: none;";return e="box-sizing: border-box; pointer-events: none; position: absolute!important;",e+=" left: "+this.Positioning.X+"px!important;",e+=" top: "+this.Positioning.Y+"px!important;",e+=" width: "+this.Positioning.Width+"px!important;",e+=" height: "+this.Positioning.Height+"px!important;",tl.IsNullOrWhiteSpace(this.CustomStyle)||(e+=this.CustomStyle),e},_updateComponent:function(){return null==this.ComponentFactory?null:this.ComponentFactory.Create(this.Settings.component)},_updateVirtualDom:function(){var e=Oe.CreateNode("div");if(e.Attributes.style=this.CellStyle,e.Attributes.class="grid-cell",e.Attributes["data-binkies-content"]="layout",null!=this.Component&&null!=this.Component.Value&&e.AddChild(we.Clone(this.Component.Value)),null!=this.DebuggingEnabled&&1==this.DebuggingEnabled.Value){var t=Oe.CreateNode("elementdebugger");t.Attributes.CustomStyle="border: #ffa50099 outset 2px;",e.AddChild(t)}return e}});var hn=function(e){var t=this;this.state_CustomStyle=!1,this.state_CellStyle=!1,this.state_Component=!1,this.state_VirtualDom=!1;var n=function(){e.CustomStyle=e._updateCustomStyle(),t.state_CustomStyle=!0},a=function(){e.CellStyle=e._updateCellStyle(),t.state_CellStyle=!0},i=function(){e.Component=e._updateComponent(),t.state_Component=!0},r=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},o=function(e,a){t.state_CustomStyle=b.ScheduleCallback(t.state_CustomStyle,n)},s=function(e,n){t.state_Component=b.ScheduleCallback(t.state_Component,i)},l=function(e,n){t.state_CellStyle=b.ScheduleCallback(t.state_CellStyle,a)},u=function(e,n){t.state_CellStyle=b.ScheduleCallback(t.state_CellStyle,a)},d=function(e,n){t.state_CellStyle=b.ScheduleCallback(t.state_CellStyle,a)},c=function(e,n){t.state_CellStyle=b.ScheduleCallback(t.state_CellStyle,a)},h=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)},_=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)};Ie.HiddenObserve(e,"Settings",(function(e,r){null!=e&&(Ie.HiddenForget(e,"style",o),Ie.HiddenForget(e,"component",s)),null!=r&&(Ie.HiddenObserve(r,"style",o),Ie.HiddenObserve(r,"component",s)),t.state_CustomStyle=b.ScheduleCallback(t.state_CustomStyle,n),t.state_CellStyle=b.ScheduleCallback(t.state_CellStyle,a),t.state_Component=b.ScheduleCallback(t.state_Component,i)})),Ie.HiddenObserve(e,"Positioning",(function(e,n){null!=e&&(Ie.HiddenForget(e,"X",l),Ie.HiddenForget(e,"Y",u),Ie.HiddenForget(e,"Width",d),Ie.HiddenForget(e,"Height",c)),null!=n&&(Ie.HiddenObserve(n,"X",l),Ie.HiddenObserve(n,"Y",u),Ie.HiddenObserve(n,"Width",d),Ie.HiddenObserve(n,"Height",c)),t.state_CellStyle=b.ScheduleCallback(t.state_CellStyle,a)})),Ie.HiddenObserve(e,"CustomStyle",(function(e,n){t.state_CellStyle=b.ScheduleCallback(t.state_CellStyle,a)})),Ie.HiddenObserve(e,"ComponentFactory",(function(e,n){t.state_Component=b.ScheduleCallback(t.state_Component,i)})),Ie.HiddenObserve(e,"CellStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),Ie.HiddenObserve(e,"Component",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",h),null!=n&&Ie.HiddenObserve(n,"Value",h),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),Ie.HiddenObserve(e,"DebuggingEnabled",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",_),null!=n&&Ie.HiddenObserve(n,"Value",_),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),n(),a(),i(),r()};hn.__name__=!0;var _n=a["binkies.integration.components.grid.GridCellSizeEnum"]={__ename__:!0,__constructs__:["Pixels","Percentage","Fraction"],Pixels:(t=function(e){return{_hx_index:0,value:e,__enum__:"binkies.integration.components.grid.GridCellSizeEnum",toString:n}},t.__params__=["value"],t),Percentage:(t=function(e){return{_hx_index:1,value:e,__enum__:"binkies.integration.components.grid.GridCellSizeEnum",toString:n}},t.__params__=["value"],t),Fraction:(t=function(e){return{_hx_index:2,value:e,__enum__:"binkies.integration.components.grid.GridCellSizeEnum",toString:n}},t.__params__=["value"],t)},gn={__name__:!0,FromString:function(e){var t;if(gn.PixelsEReg.match(e))t=_n.Pixels(d.parseInt(gn.PixelsEReg.matched(1)));else if(gn.PercentageEReg.match(e))t=_n.Percentage(d.parseInt(gn.PercentageEReg.matched(1)));else{if(!gn.FractionEReg.match(e))throw new rl("Invalid grid size value: "+e);t=_n.Fraction(d.parseInt(gn.FractionEReg.matched(1)))}return t}},vn=function(){De.call(this),this.GridComponentObserver=new bn(this)};vn.__name__=!0,vn.__super__=De,vn.prototype=i(De.prototype,{_updatePositioningStyle:function(){var e="0",t="0",n="0",a="0";if(null!=this.BoundaryOffset){var i=this.BoundaryOffset.left;e=null==i?"0":i;var r=this.BoundaryOffset.right;t=null==r?"0":r;var o=this.BoundaryOffset.top;n=null==o?"0":o;var s=this.BoundaryOffset.bottom;a=null==s?"0":s}return"left:"+e+"; right:"+t+"; top:"+n+"; bottom:"+a+";"},_updateColumns:function(){if(null==this.Settings||null==this.Settings.columns)return[];for(var e=this.Settings.columns,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=gn.FromString(e[i])}return t},_updateRows:function(){if(null==this.Settings||null==this.Settings.rows)return[];for(var e=this.Settings.rows,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=gn.FromString(e[i])}return t},_updateColumnsInPixels:function(){if(null==this.Columns)return null;if(null==this.Width)return null;var e=this.Columns,t=this.Width,n=[];return fn.AddPixelValues(e,n),fn.AddPercentageValues(e,n,t),fn.AddFractionValues(e,n,t),n},_updateRowsInPixels:function(){if(null==this.Rows)return null;if(null==this.Height)return null;var e=this.Rows,t=this.Height,n=[];return fn.AddPixelValues(e,n),fn.AddPercentageValues(e,n,t),fn.AddFractionValues(e,n,t),n},_updateGridAreaSettingsAndPositions:function(){var e=this;if(null==this.Settings||null==this.Settings.areas)return[];if(null==this.ColumnsInPixels)return[];if(null==this.RowsInPixels)return[];for(var t=this.Settings.areas,n=new Array(t.length),a=0,i=t.length;a<i;){var r=a++,o=t[r];n[r]={Positioning:{X:fn.GetRange(e.ColumnsInPixels,0,o.column),Y:fn.GetRange(e.RowsInPixels,0,o.row),Width:fn.GetRange(e.ColumnsInPixels,o.column,o.column+o.width),Height:fn.GetRange(e.RowsInPixels,o.row,o.row+o.height)},Settings:o}}return n},SensorSizeChanged:function(e,t){this.Width=e,this.Height=t},_updateVirtualDom:function(){var e=this,t=function(t,n){e.SensorSizeChanged(t,n)};t.hash=0;var n=null;if(null!=this.Settings){if((n=Oe.CreateNode("div")).Attributes.style="position: absolute; "+this.PositioningStyle,n.Attributes["data-binkies-content"]="layout",n.AddNode("resizesensor").Events.SizeChanged=t,null!=this.GridAreaSettingsAndPositions)for(var a=0,i=this.GridAreaSettingsAndPositions;a<i.length;){var r=i[a];++a;var o=n.AddNode("gridarea");o.Attributes.Settings=r.Settings,o.Attributes.Positioning=r.Positioning,o.Attributes.DebuggingEnabled=this.DebuggingEnabled,o.Attributes.ComponentFactory=this.ComponentFactory,"scene"==r.Settings.type&&n.AddNode("style").AddText("\n\t\t\t\t\t#binkies-scene\n\t\t\t\t\t{\n\t\t\t\t\t\tleft: "+r.Positioning.X+"px;\n\t\t\t\t\t\ttop: "+r.Positioning.Y+"px;\n\t\t\t\t\t\twidth: "+r.Positioning.Width+"px;\n\t\t\t\t\t\theight: "+r.Positioning.Height+"px;\n\t\t\t\t\t}\n\t\t\t\t"),"canvas"==r.Settings.type&&n.AddNode("style").AddText("\n\t\t\t\t\t#binkies-scene\n\t\t\t\t\t{\n\t\t\t\t\t\ttransform: translate(-"+r.Positioning.X+"px, -"+r.Positioning.Y+"px)\n\t\t\t\t\t}\n\t\t\t\t")}if(null!=this.DebuggingEnabled&&this.DebuggingEnabled.Value){var s=n.AddNode("div"),l="visibility:visible; opacity:1; display: grid; grid-template-columns: "+this.Settings.columns.join(" ")+"; grid-template-rows: "+this.Settings.rows.join(" ")+"; width:100%; height: 100%; border-bottom: 0.5px dashed green; border-left: 0.5px dashed green; z-index: 1;";s.Attributes.style=l;for(var u=0,d=this.Settings.rows;u<d.length;){++u;for(var c=0,h=this.Settings.columns;c<h.length;)++c,s.AddNode("div").Attributes.style="border-top: 0.5px dashed green; border-right: 0.5px dashed green;"}}}return null==n&&(n=Oe.CreateNode(this.converter.GetPlaceholderTag())),n}});var bn=function(e){var t=this;this.state_PositioningStyle=!1,this.state_Columns=!1,this.state_Rows=!1,this.state_ColumnsInPixels=!1,this.state_RowsInPixels=!1,this.state_GridAreaSettingsAndPositions=!1,this.state_VirtualDom=!1;var n=function(){e.PositioningStyle=e._updatePositioningStyle(),t.state_PositioningStyle=!0},a=function(){e.Columns=e._updateColumns(),t.state_Columns=!0},i=function(){e.Rows=e._updateRows(),t.state_Rows=!0},r=function(){e.ColumnsInPixels=e._updateColumnsInPixels(),t.state_ColumnsInPixels=!0},o=function(){e.RowsInPixels=e._updateRowsInPixels(),t.state_RowsInPixels=!0},s=function(){e.GridAreaSettingsAndPositions=e._updateGridAreaSettingsAndPositions(),t.state_GridAreaSettingsAndPositions=!0},l=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},u=function(e,a){t.state_PositioningStyle=b.ScheduleCallback(t.state_PositioningStyle,n)},d=function(e,a){t.state_PositioningStyle=b.ScheduleCallback(t.state_PositioningStyle,n)},c=function(e,a){t.state_PositioningStyle=b.ScheduleCallback(t.state_PositioningStyle,n)},h=function(e,a){t.state_PositioningStyle=b.ScheduleCallback(t.state_PositioningStyle,n)},_=function(e,n){t.state_Columns=b.ScheduleCallback(t.state_Columns,a),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},g=function(e,n){t.state_Rows=b.ScheduleCallback(t.state_Rows,i),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},v=function(e,n){t.state_GridAreaSettingsAndPositions=b.ScheduleCallback(t.state_GridAreaSettingsAndPositions,s)},f=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)};Ie.HiddenObserve(e,"BoundaryOffset",(function(e,a){null!=e&&(Ie.HiddenForget(e,"left",u),Ie.HiddenForget(e,"right",d),Ie.HiddenForget(e,"top",c),Ie.HiddenForget(e,"bottom",h)),null!=a&&(Ie.HiddenObserve(a,"left",u),Ie.HiddenObserve(a,"right",d),Ie.HiddenObserve(a,"top",c),Ie.HiddenObserve(a,"bottom",h)),t.state_PositioningStyle=b.ScheduleCallback(t.state_PositioningStyle,n)})),Ie.HiddenObserve(e,"Settings",(function(e,n){null!=e&&(Ie.HiddenForget(e,"columns",_),Ie.HiddenForget(e,"rows",g),Ie.HiddenForget(e,"areas",v)),null!=n&&(Ie.HiddenObserve(n,"columns",_),Ie.HiddenObserve(n,"rows",g),Ie.HiddenObserve(n,"areas",v)),t.state_Columns=b.ScheduleCallback(t.state_Columns,a),t.state_Rows=b.ScheduleCallback(t.state_Rows,i),t.state_GridAreaSettingsAndPositions=b.ScheduleCallback(t.state_GridAreaSettingsAndPositions,s),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"Columns",(function(e,n){t.state_ColumnsInPixels=b.ScheduleCallback(t.state_ColumnsInPixels,r)})),Ie.HiddenObserve(e,"Width",(function(e,n){t.state_ColumnsInPixels=b.ScheduleCallback(t.state_ColumnsInPixels,r)})),Ie.HiddenObserve(e,"Rows",(function(e,n){t.state_RowsInPixels=b.ScheduleCallback(t.state_RowsInPixels,o)})),Ie.HiddenObserve(e,"Height",(function(e,n){t.state_RowsInPixels=b.ScheduleCallback(t.state_RowsInPixels,o)})),Ie.HiddenObserve(e,"ColumnsInPixels",(function(e,n){t.state_GridAreaSettingsAndPositions=b.ScheduleCallback(t.state_GridAreaSettingsAndPositions,s)})),Ie.HiddenObserve(e,"RowsInPixels",(function(e,n){t.state_GridAreaSettingsAndPositions=b.ScheduleCallback(t.state_GridAreaSettingsAndPositions,s)})),Ie.HiddenObserve(e,"PositioningStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"GridAreaSettingsAndPositions",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"DebuggingEnabled",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",f),null!=n&&Ie.HiddenObserve(n,"Value",f),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"ComponentFactory",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),n(),a(),i(),r(),o(),s(),l()};bn.__name__=!0;var fn={__name__:!0,GetRange:function(e,t,n){for(var a=0,i=t=Math.round(Math.max(0,Math.min(t,e.length))),r=n=Math.round(Math.max(0,Math.min(n,e.length)));i<r;)a+=e[i++];return a},AddPixelValues:function(e,t){for(var n=0,a=e.length;n<a;){var i=n++,r=e[i];0==r._hx_index&&(t[i]=r.value)}},AddPercentageValues:function(e,t,n){for(var a=0,i=e.length;a<i;){var r=a++,o=e[r];1==o._hx_index&&(t[r]=Math.floor(n*o.value*.01))}},AddFractionValues:function(e,t,n){for(var a=fn.CalculateOneFractionPixelLength(e,t,n),i=0,r=e.length;i<r;){var o=i++,s=e[o];2==s._hx_index&&(t[o]=Math.floor(a*s.value))}},CalculateOneFractionPixelLength:function(e,t,n){var a=Math.max(n-fn.SumValues(t),0),i=s.fold(e,(function(e,t){return 2==e._hx_index?t+e.value:t}),0);return 0==i?0:a/i},SumValues:function(e){return s.fold(e,(function(e,t){return null==e?t:t+e}),0)}},pn=function(){this.simpleHand="Netscape"==window.navigator.appName&&window.navigator.appVersion.indexOf("Trident")>-1||"Netscape"==window.navigator.appName&&window.navigator.appVersion.indexOf("Edge")>-1,De.call(this),this.HandComponentObserver=new mn(this)};pn.__name__=!0,pn.__super__=De,pn.prototype=i(De.prototype,{_updateDisplay:function(){return null!=this.Settings&&(null!=this.NavigationFocusMode&&(null!=this.State&&(!this.State.IsEngaged&&"none"!=this.NavigationFocusMode.Value)))},_updatePointerStyle:function(){return"position: relative;","position: relative;width: 100%;","height: 100%;","text-align: left;","opacity: 0;","animation: binkies-pointer-animation 13.75s 4s infinite;","position: relative;width: 100%;height: 100%;text-align: left;opacity: 0;animation: binkies-pointer-animation 13.75s 4s infinite;"},_updatePointerInnerVisualStyle:function(){if(null==this.Settings)return"";var e="";return e="display: inline-block;",e="display: inline-block;border: 2px solid;",e+="position: absolute;",e+="opacity: 0;",e+="margin-top: 3px;",e+="margin-left: 5px;",e+="width: 28px;",e+="height: 28px;",e+="border-radius: 50%;",e+="border-color: "+this.Settings.circleColor},_updatePointerOuterStyle:function(){if(null==this.Settings)return"";var e="";return e="display: inline-block;",e="display: inline-block;border: 2px solid;",e+="position: absolute;",e+="opacity: 0;",e+="margin-top: 3px;",e+="margin-left: 5px;",e+="width: 28px;",e+="height: 28px;",e+="border-radius: 50%;",e+="border-color: "+this.Settings.circleColor},_updatePointerDisplayStyle:function(){if(null==this.Settings)return"";var e="";return e='background-image: url("'+this.Settings.imageSource+'");',e+="background-size: cover;",e+="background-repeat: repeat;",e+="width: 48px;",e+="height: 77px;",e+="position: absolute;",e+="background-position: 48px 0px;"},_updateVirtualDom:function(){var e=null;if(this.Display){(e=Oe.CreateNode("div")).Attributes.id="binkies-pointer-area",e.Attributes.class="binkies-unselectable "+(this.simpleHand?"binkies-simple-hand":"binkies-modern-hand");var t=e.AddNode("div");t.Attributes.style=this.PointerStyle;var n=t.AddNode("div");n.Attributes.style=this.PointerInnerVisualStyle,n.Attributes.class="binkies-pointer-inner-visual";var a=t.AddNode("div");a.Attributes.style=this.PointerOuterStyle,a.Attributes.class="binkies-pointer-outer-visual";var i=t.AddNode("div");i.Attributes.style=this.PointerDisplayStyle,i.Attributes.class="binkies-pointer-display"}return null==e&&(e=Oe.CreateNode(this.converter.GetPlaceholderTag())),e}});var mn=function(e){var t=this;this.state_Display=!1,this.state_PointerStyle=!1,this.state_PointerInnerVisualStyle=!1,this.state_PointerOuterStyle=!1,this.state_PointerDisplayStyle=!1,this.state_VirtualDom=!1;var n=function(){e.Display=e._updateDisplay(),t.state_Display=!0},a=function(){e.PointerInnerVisualStyle=e._updatePointerInnerVisualStyle(),t.state_PointerInnerVisualStyle=!0},i=function(){e.PointerOuterStyle=e._updatePointerOuterStyle(),t.state_PointerOuterStyle=!0},r=function(){e.PointerDisplayStyle=e._updatePointerDisplayStyle(),t.state_PointerDisplayStyle=!0},o=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},s=function(e,n){t.state_PointerInnerVisualStyle=b.ScheduleCallback(t.state_PointerInnerVisualStyle,a),t.state_PointerOuterStyle=b.ScheduleCallback(t.state_PointerOuterStyle,i)},l=function(e,n){t.state_PointerDisplayStyle=b.ScheduleCallback(t.state_PointerDisplayStyle,r)},u=function(e,a){t.state_Display=b.ScheduleCallback(t.state_Display,n)},d=function(e,a){t.state_Display=b.ScheduleCallback(t.state_Display,n)};Ie.HiddenObserve(e,"Settings",(function(e,o){null!=e&&(Ie.HiddenForget(e,"circleColor",s),Ie.HiddenForget(e,"imageSource",l)),null!=o&&(Ie.HiddenObserve(o,"circleColor",s),Ie.HiddenObserve(o,"imageSource",l)),t.state_Display=b.ScheduleCallback(t.state_Display,n),t.state_PointerInnerVisualStyle=b.ScheduleCallback(t.state_PointerInnerVisualStyle,a),t.state_PointerOuterStyle=b.ScheduleCallback(t.state_PointerOuterStyle,i),t.state_PointerDisplayStyle=b.ScheduleCallback(t.state_PointerDisplayStyle,r)})),Ie.HiddenObserve(e,"NavigationFocusMode",(function(e,a){null!=e&&Ie.HiddenForget(e,"Value",u),null!=a&&Ie.HiddenObserve(a,"Value",u),t.state_Display=b.ScheduleCallback(t.state_Display,n)})),Ie.HiddenObserve(e,"State",(function(e,a){null!=e&&Ie.HiddenForget(e,"IsEngaged",d),null!=a&&Ie.HiddenObserve(a,"IsEngaged",d),t.state_Display=b.ScheduleCallback(t.state_Display,n)})),Ie.HiddenObserve(e,"Display",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"simpleHand",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"PointerStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"PointerInnerVisualStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"PointerOuterStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"PointerDisplayStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),n(),e.PointerStyle=e._updatePointerStyle(),t.state_PointerStyle=!0,a(),i(),r(),o()};mn.__name__=!0;var Sn=function(){this.documentLanguage=new gt("html",null,(function(e){return e.getAttribute("lang")})),De.call(this),this.ImageComponentObserver=new Cn(this)};Sn.__name__=!0,Sn.__super__=De,Sn.prototype=i(De.prototype,{_updateBackgroundImageCSS:function(){return null==this.ImageSource?"":'background-image: url("'+this.ImageSource+'"); background-repeat: no-repeat; background-position: center; background-size: contain;'},_updateImageSourceValue:function(){return null==this.Settings||null==this.Settings.imageSource?null:this.StringFactory.Create(this.Settings.imageSource)},_updateImageSource:function(){return null==this.ImageSourceValue?null:this.ImageSourceValue.Value},_updateVirtualDom:function(){var e=null;return(e=Oe.CreateNode("div")).Attributes.style="position: relative; height: 100%; width: 100%; "+this.BackgroundImageCSS,e.Attributes.class="binkies-unselectable",null==e&&(e=Oe.CreateNode(this.converter.GetPlaceholderTag())),e}});var Cn=function(e){var t=this;this.state_BackgroundImageCSS=!1,this.state_ImageSourceValue=!1,this.state_ImageSource=!1,this.state_VirtualDom=!1;var n=function(){e.BackgroundImageCSS=e._updateBackgroundImageCSS(),t.state_BackgroundImageCSS=!0},a=function(){e.ImageSourceValue=e._updateImageSourceValue(),t.state_ImageSourceValue=!0},i=function(){e.ImageSource=e._updateImageSource(),t.state_ImageSource=!0},r=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},o=function(e,n){t.state_ImageSourceValue=b.ScheduleCallback(t.state_ImageSourceValue,a)},s=function(e,n){t.state_ImageSource=b.ScheduleCallback(t.state_ImageSource,i)};Ie.HiddenObserve(e,"ImageSource",(function(e,a){t.state_BackgroundImageCSS=b.ScheduleCallback(t.state_BackgroundImageCSS,n)})),Ie.HiddenObserve(e,"Settings",(function(e,n){null!=e&&Ie.HiddenForget(e,"imageSource",o),null!=n&&Ie.HiddenObserve(n,"imageSource",o),t.state_ImageSourceValue=b.ScheduleCallback(t.state_ImageSourceValue,a)})),Ie.HiddenObserve(e,"ImageSourceValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",s),null!=n&&Ie.HiddenObserve(n,"Value",s),t.state_ImageSource=b.ScheduleCallback(t.state_ImageSource,i)})),Ie.HiddenObserve(e,"BackgroundImageCSS",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),n(),a(),i(),r()};Cn.__name__=!0;var yn=function(){var e=S.stringGeneratorsByLength.h[0];null==e&&(e=new C(S.acceptedCharacters.split(""),null),S.stringGeneratorsByLength.h[0]=e),this.id="binkies-id-"+e.Get(),De.call(this),this.InlineBoxComponentObserver=new kn(this)};yn.__name__=!0,yn.__super__=De,yn.prototype=i(De.prototype,{_updateBoxClasses:function(){if(null==this.Settings)return"";var e=[];switch(this.Settings.direction){case"horizontal":e.push("binkies-horizontal-box");break;case"vertical":e.push("binkies-vertical-box")}switch(this.Settings.alignment){case"center":e.push("binkies-center-aligned");break;case"end":e.push("binkies-end-aligned");break;case"spacebetween":e.push("binkies-spacebetween-aligned");break;case"start":e.push("binkies-start-aligned");break;case"stretch":e.push("binkies-stretch-aligned")}return e.join(" ")},GetBoxStyle:function(){var e=[];return e.push("width:100%"),e.push("height:100%"),e.push("box-sizing: border-box"),e.push("pointer-events: none"),e.push("position: relative"),e.join(";")},_updateValueDefinitions:function(){return null==this.Settings||null==this.Settings.components?[]:this.Settings.components},_updateDistanceStyle:function(){return null==this.Settings||null==this.Settings.distanceBetweenItems?null:"\n\t\t\t#"+this.id+'>*:not(style)+*::before {\n\t\t\t\tcontent: "";\n\t\t\t\tpadding: calc('+this.Settings.distanceBetweenItems+" * 0.5);\n\t\t\t}\n\t\t"},_updateVirtualDom:function(){if(null==this.ComponentFactory)return null;var e=Oe.CreateNode("div");e.Attributes.id=this.id;var t=[];t.push("width:100%"),t.push("height:100%"),t.push("box-sizing: border-box"),t.push("pointer-events: none"),t.push("position: relative");var n=t.join(";");e.Attributes.style=n,e.Attributes.class=this.BoxClasses,e.Attributes["data-binkies-content"]="layout",null!=this.DistanceStyle&&e.AddNode("style").AddText(this.DistanceStyle);for(var a=0,i=this.ValueDefinitions;a<i.length;)e.AddChild(this.ComponentFactory.Create(i[a++]).Value);return e}});var kn=function(e){var t=this;this.state_BoxClasses=!1,this.state_ValueDefinitions=!1,this.state_DistanceStyle=!1,this.state_VirtualDom=!1;var n=function(){e.BoxClasses=e._updateBoxClasses(),t.state_BoxClasses=!0},a=function(){e.ValueDefinitions=e._updateValueDefinitions(),t.state_ValueDefinitions=!0},i=function(){e.DistanceStyle=e._updateDistanceStyle(),t.state_DistanceStyle=!0},r=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},o=function(e,a){t.state_BoxClasses=b.ScheduleCallback(t.state_BoxClasses,n)},s=function(e,a){t.state_BoxClasses=b.ScheduleCallback(t.state_BoxClasses,n)},l=function(e,n){t.state_ValueDefinitions=b.ScheduleCallback(t.state_ValueDefinitions,a)},u=function(e,n){t.state_DistanceStyle=b.ScheduleCallback(t.state_DistanceStyle,i)};Ie.HiddenObserve(e,"Settings",(function(e,r){null!=e&&(Ie.HiddenForget(e,"direction",o),Ie.HiddenForget(e,"alignment",s),Ie.HiddenForget(e,"components",l),Ie.HiddenForget(e,"distanceBetweenItems",u)),null!=r&&(Ie.HiddenObserve(r,"direction",o),Ie.HiddenObserve(r,"alignment",s),Ie.HiddenObserve(r,"components",l),Ie.HiddenObserve(r,"distanceBetweenItems",u)),t.state_BoxClasses=b.ScheduleCallback(t.state_BoxClasses,n),t.state_ValueDefinitions=b.ScheduleCallback(t.state_ValueDefinitions,a),t.state_DistanceStyle=b.ScheduleCallback(t.state_DistanceStyle,i)})),Ie.HiddenObserve(e,"id",(function(e,n){t.state_DistanceStyle=b.ScheduleCallback(t.state_DistanceStyle,i),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),Ie.HiddenObserve(e,"ComponentFactory",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),Ie.HiddenObserve(e,"BoxClasses",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),Ie.HiddenObserve(e,"DistanceStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),Ie.HiddenObserve(e,"ValueDefinitions",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,r)})),n(),a(),i(),r()};kn.__name__=!0;var Vn=function(){this.isMounted=!1,De.call(this),this.IntegrationPlayerComponentObserver=new Hn(this)};Vn.__name__=!0,Vn.__super__=De,Vn.prototype=i(De.prototype,{Mounted:function(){De.prototype.Mounted.call(this),this.isMounted=!0},Unmounted:function(){De.prototype.Unmounted.call(this),this.isMounted=!1},_updateAriaLabel:function(){return null==this.StringFactory||null==this.Settings?null:this.StringFactory.Create(this.Settings.ariaLabel)},_updateNavigation:function(){return null==this.NavigationFactory?null:(null!=this.Navigation&&this.Navigation.Stop(),this.NavigationFactory.Create(this.Settings.navigation))},_updateMountedChanged:function(){return null==this.Navigation?null:(this.isMounted?this.Navigation.Start():this.Navigation.Stop(),!0)},_updatePlayerParameters:function(){if(null==this.Settings)return null;if(null==this.NavigationFocusMode)return null;var e=this.PlayerParameters;null==e&&(e={lightmapPath:null,browserSupportsBrotli:null,backgroundColor:null,backgroundTransparent:null,galleryBookmarks:null,galleryBookmarkWidth:null,galleryBookmarkHeight:null,navigationModel:"external",navigationFocus:null,navigationMargin:50,autoRotationEnabled:!0,yaw:0,pitch:0,roll:0,fieldOfView:22,bookmarkClass:null});var t=window.BinkiesSettings.ViewSettings,n=this.Settings.lightmapPath;e.lightmapPath=null==n?t.LightmapPath:n;var a=this.Settings.browserSupportsBrotli;e.browserSupportsBrotli=null==a?t.BrowserSupportsBrotli:a;var i=this.Settings.backgroundColor;e.backgroundColor=null==i?"#000000":i;var r=this.Settings.backgroundTransparent;e.backgroundTransparent=null==r||r;for(var o=this.Settings.galleryBookmarks,s=new Array(o.length),l=0,u=o.length;l<u;){var d=l++;s[d]=o[d].bookmark}return e.galleryBookmarks=s,e.galleryBookmarkWidth=this.Settings.galleryBookmarkWidth,e.galleryBookmarkHeight=this.Settings.galleryBookmarkHeight,e.navigationFocus=this.NavigationFocusMode.Value,e},PlayerMounted:function(e){var t=new ja(new Ka(new Ja(e.Renderer.Device.Canvas,this.NavigationFocusMode)),new ei(new ti(e.Renderer.Device.Canvas,this.NavigationFocusMode)));t=new ms(t),this.PassThroughProvider.SetGestureProvider(t),this.PassThroughProvider.SetRayProvider(new Mt(e))},CompositionsChanged:function(e){this.PassThroughProvider.SetBoundingVolumeProvider(new ps(e))},_updateVirtualDom:function(){var e=this,t=function(t){e.PlayerMounted(t)};t.hash=0;var n=function(t){e.CompositionsChanged(t)};n.hash=1;var a=null;return null!=this.Settings&&null!=this.PlayerParameters&&null!=this.PlayerDownloader&&this.PlayerDownloader.Downloaded&&((a=Oe.CreateNode("player")).Events.PlayerMounted=t,a.Events.CompositionsChanged=n,a.Attributes.SceneManager=this.SceneManager,a.Attributes.PlayerProvider=this.PlayerProvider,a.Attributes.PlayerParameters=this.PlayerParameters,a.Attributes.NavigationManager=this.NavigationManager,a.Attributes.ContentQueue=this.ContentQueue,a.Attributes.AriaLabel=this.AriaLabel.Value),null==a&&(a=Oe.CreateNode(this.converter.GetPlaceholderTag())),a}});var Hn=function(e){var t=this;this.state_AriaLabel=!1,this.state_Navigation=!1,this.state_MountedChanged=!1,this.state_PlayerParameters=!1,this.state_VirtualDom=!1;var n=function(){e.AriaLabel=e._updateAriaLabel(),t.state_AriaLabel=!0},a=function(){e.Navigation=e._updateNavigation(),t.state_Navigation=!0},i=function(){e.MountedChanged=e._updateMountedChanged(),t.state_MountedChanged=!0},r=function(){e.PlayerParameters=e._updatePlayerParameters(),t.state_PlayerParameters=!0},o=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0};Ie.HiddenObserve(window,"BinkiesSettings",(function(e,n){t.state_PlayerParameters=b.ScheduleCallback(t.state_PlayerParameters,r)}));var s=function(e,a){t.state_AriaLabel=b.ScheduleCallback(t.state_AriaLabel,n)},l=function(e,n){t.state_Navigation=b.ScheduleCallback(t.state_Navigation,a)},u=function(e,n){t.state_PlayerParameters=b.ScheduleCallback(t.state_PlayerParameters,r)},d=function(e,n){t.state_PlayerParameters=b.ScheduleCallback(t.state_PlayerParameters,r)},c=function(e,n){t.state_PlayerParameters=b.ScheduleCallback(t.state_PlayerParameters,r)},h=function(e,n){t.state_PlayerParameters=b.ScheduleCallback(t.state_PlayerParameters,r)},_=function(e,n){t.state_PlayerParameters=b.ScheduleCallback(t.state_PlayerParameters,r)},g=function(e,n){t.state_PlayerParameters=b.ScheduleCallback(t.state_PlayerParameters,r)},v=function(e,n){t.state_PlayerParameters=b.ScheduleCallback(t.state_PlayerParameters,r)},f=function(e,n){t.state_PlayerParameters=b.ScheduleCallback(t.state_PlayerParameters,r)},p=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)},m=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)};Ie.HiddenObserve(e,"StringFactory",(function(e,a){t.state_AriaLabel=b.ScheduleCallback(t.state_AriaLabel,n)})),Ie.HiddenObserve(e,"Settings",(function(e,i){null!=e&&(Ie.HiddenForget(e,"ariaLabel",s),Ie.HiddenForget(e,"navigation",l),Ie.HiddenForget(e,"lightmapPath",u),Ie.HiddenForget(e,"browserSupportsBrotli",d),Ie.HiddenForget(e,"backgroundColor",c),Ie.HiddenForget(e,"backgroundTransparent",h),Ie.HiddenForget(e,"galleryBookmarks",_),Ie.HiddenForget(e,"galleryBookmarkWidth",g),Ie.HiddenForget(e,"galleryBookmarkHeight",v)),null!=i&&(Ie.HiddenObserve(i,"ariaLabel",s),Ie.HiddenObserve(i,"navigation",l),Ie.HiddenObserve(i,"lightmapPath",u),Ie.HiddenObserve(i,"browserSupportsBrotli",d),Ie.HiddenObserve(i,"backgroundColor",c),Ie.HiddenObserve(i,"backgroundTransparent",h),Ie.HiddenObserve(i,"galleryBookmarks",_),Ie.HiddenObserve(i,"galleryBookmarkWidth",g),Ie.HiddenObserve(i,"galleryBookmarkHeight",v)),t.state_AriaLabel=b.ScheduleCallback(t.state_AriaLabel,n),t.state_Navigation=b.ScheduleCallback(t.state_Navigation,a),t.state_PlayerParameters=b.ScheduleCallback(t.state_PlayerParameters,r),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"NavigationFactory",(function(e,n){t.state_Navigation=b.ScheduleCallback(t.state_Navigation,a)})),Ie.HiddenObserve(e,"Navigation",(function(e,n){t.state_Navigation=b.ScheduleCallback(t.state_Navigation,a),t.state_MountedChanged=b.ScheduleCallback(t.state_MountedChanged,i)})),Ie.HiddenObserve(e,"isMounted",(function(e,n){t.state_MountedChanged=b.ScheduleCallback(t.state_MountedChanged,i)})),Ie.HiddenObserve(e,"NavigationFocusMode",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",f),null!=n&&Ie.HiddenObserve(n,"Value",f),t.state_PlayerParameters=b.ScheduleCallback(t.state_PlayerParameters,r)})),Ie.HiddenObserve(e,"PlayerParameters",(function(e,n){t.state_PlayerParameters=b.ScheduleCallback(t.state_PlayerParameters,r),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"PlayerDownloader",(function(e,n){null!=e&&Ie.HiddenForget(e,"Downloaded",p),null!=n&&Ie.HiddenObserve(n,"Downloaded",p),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"SceneManager",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"PlayerProvider",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"NavigationManager",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"ContentQueue",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"AriaLabel",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",m),null!=n&&Ie.HiddenObserve(n,"Value",m),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),n(),a(),i(),r(),o()};Hn.__name__=!0;var On=function(){De.call(this),this.LayoutComponentObserver=new wn(this)};On.__name__=!0,On.__super__=De,On.prototype=i(De.prototype,{_updateIsFullscreen:function(){return null!=this.Route&&this.Route.ContainsFullscreen},_updateLayouts:function(){if(null==this.State||null==this.State.ContentAvailable)return null;if(null==this.Settings)return null;if(null==this.DisplayMode)return null;var e=this.DisplayMode.Value;if(null==e)return null;switch(e){case"behindbutton":return this.State.ContentAvailable?this.Settings.behindButtonLayouts:null;case"onpage":return this.Settings.onPageLayouts;default:return null}},_updateFullscreenLayouts:function(){return null==this.Settings||null==this.Settings.fullscreenLayouts?null:this.Settings.fullscreenLayouts},_updateEnabledFlags:function(){if(null==this.Layouts)return[];for(var e=[],t=0,n=this.Layouts;t<n.length;)e.push(this.BoolFactory.Create(n[t++].enabled));return e},_updateFullscreenEnabledFlags:function(){if(null==this.FullscreenLayouts)return[];for(var e=[],t=0,n=this.FullscreenLayouts;t<n.length;)e.push(this.BoolFactory.Create(n[t++].enabled));return e},_updateActiveLayouts:function(){return this.IsFullscreen?this.FullscreenLayouts:this.Layouts},_updateActiveEnabledFlags:function(){return this.IsFullscreen?this.FullscreenEnabledFlags:this.EnabledFlags},_updateActiveLayout:function(){if(null==this.ActiveLayouts)return null;for(var e=0,t=this.ActiveEnabledFlags.length;e<t;){var n=e++;if(this.ActiveEnabledFlags[n].Value)return this.ActiveLayouts[n]}return null},_updateActiveGrid:function(){return null==this.ComponentFactory||null==this.ActiveLayout||null==this.ActiveLayout.component?null:this.ComponentFactory.Create(this.ActiveLayout.component)},_updateVirtualDom:function(){if(null==this.ActiveGrid||null==this.ActiveGrid.Value)return null;var e=this.ActiveGrid.Value;return e.Attributes.BoundaryOffset=this.ActiveLayout.componentBoundaryOffset,e}});var wn=function(e){var t=this;this.state_IsFullscreen=!1,this.state_Layouts=!1,this.state_FullscreenLayouts=!1,this.state_EnabledFlags=!1,this.state_FullscreenEnabledFlags=!1,this.state_ActiveLayouts=!1,this.state_ActiveEnabledFlags=!1,this.state_ActiveLayout=!1,this.state_ActiveGrid=!1,this.state_VirtualDom=!1;var n=function(){e.IsFullscreen=e._updateIsFullscreen(),t.state_IsFullscreen=!0},a=function(){e.Layouts=e._updateLayouts(),t.state_Layouts=!0},i=function(){e.FullscreenLayouts=e._updateFullscreenLayouts(),t.state_FullscreenLayouts=!0},r=function(){e.EnabledFlags=e._updateEnabledFlags(),t.state_EnabledFlags=!0},o=function(){e.FullscreenEnabledFlags=e._updateFullscreenEnabledFlags(),t.state_FullscreenEnabledFlags=!0},s=function(){e.ActiveLayouts=e._updateActiveLayouts(),t.state_ActiveLayouts=!0},l=function(){e.ActiveEnabledFlags=e._updateActiveEnabledFlags(),t.state_ActiveEnabledFlags=!0},u=function(){e.ActiveLayout=e._updateActiveLayout(),t.state_ActiveLayout=!0},d=function(){e.ActiveGrid=e._updateActiveGrid(),t.state_ActiveGrid=!0},c=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},h=function(e,a){t.state_IsFullscreen=b.ScheduleCallback(t.state_IsFullscreen,n)},_=function(e,n){t.state_Layouts=b.ScheduleCallback(t.state_Layouts,a)},g=function(e,n){t.state_Layouts=b.ScheduleCallback(t.state_Layouts,a)},v=function(e,n){t.state_Layouts=b.ScheduleCallback(t.state_Layouts,a)},f=function(e,n){t.state_FullscreenLayouts=b.ScheduleCallback(t.state_FullscreenLayouts,i)},p=function(e,n){t.state_Layouts=b.ScheduleCallback(t.state_Layouts,a)},m=function(e,n){t.state_EnabledFlags=b.ScheduleCallback(t.state_EnabledFlags,r)},S=function(e,n){t.state_FullscreenEnabledFlags=b.ScheduleCallback(t.state_FullscreenEnabledFlags,o)},C=function(e,n){t.state_ActiveLayout=b.ScheduleCallback(t.state_ActiveLayout,u)},y=function(e,n){t.state_ActiveGrid=b.ScheduleCallback(t.state_ActiveGrid,d)},k=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,c)},V=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,c)},H=function(e,n){null!=e&&Ie.HiddenForget(e,"Attributes",V),null!=n&&Ie.HiddenObserve(n,"Attributes",V),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,c)};Ie.HiddenObserve(e,"Route",(function(e,a){null!=e&&Ie.HiddenForget(e,"ContainsFullscreen",h),null!=a&&Ie.HiddenObserve(a,"ContainsFullscreen",h),t.state_IsFullscreen=b.ScheduleCallback(t.state_IsFullscreen,n)})),Ie.HiddenObserve(e,"State",(function(e,n){null!=e&&Ie.HiddenForget(e,"ContentAvailable",_),null!=n&&Ie.HiddenObserve(n,"ContentAvailable",_),t.state_Layouts=b.ScheduleCallback(t.state_Layouts,a)})),Ie.HiddenObserve(e,"Settings",(function(e,n){null!=e&&(Ie.HiddenForget(e,"behindButtonLayouts",g),Ie.HiddenForget(e,"onPageLayouts",v),Ie.HiddenForget(e,"fullscreenLayouts",f)),null!=n&&(Ie.HiddenObserve(n,"behindButtonLayouts",g),Ie.HiddenObserve(n,"onPageLayouts",v),Ie.HiddenObserve(n,"fullscreenLayouts",f)),t.state_Layouts=b.ScheduleCallback(t.state_Layouts,a),t.state_FullscreenLayouts=b.ScheduleCallback(t.state_FullscreenLayouts,i)})),Ie.HiddenObserve(e,"DisplayMode",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",p),null!=n&&Ie.HiddenObserve(n,"Value",p),t.state_Layouts=b.ScheduleCallback(t.state_Layouts,a)})),Ie.HiddenObserve(e,"Layouts",(function(e,n){null!=e&&Ie.HiddenForget(e,"enabled",m),null!=n&&Ie.HiddenObserve(n,"enabled",m),t.state_EnabledFlags=b.ScheduleCallback(t.state_EnabledFlags,r),t.state_ActiveLayouts=b.ScheduleCallback(t.state_ActiveLayouts,s)})),Ie.HiddenObserve(e,"FullscreenLayouts",(function(e,n){null!=e&&Ie.HiddenForget(e,"enabled",S),null!=n&&Ie.HiddenObserve(n,"enabled",S),t.state_FullscreenEnabledFlags=b.ScheduleCallback(t.state_FullscreenEnabledFlags,o),t.state_ActiveLayouts=b.ScheduleCallback(t.state_ActiveLayouts,s)})),Ie.HiddenObserve(e,"IsFullscreen",(function(e,n){t.state_ActiveLayouts=b.ScheduleCallback(t.state_ActiveLayouts,s),t.state_ActiveEnabledFlags=b.ScheduleCallback(t.state_ActiveEnabledFlags,l)})),Ie.HiddenObserve(e,"FullscreenEnabledFlags",(function(e,n){t.state_ActiveEnabledFlags=b.ScheduleCallback(t.state_ActiveEnabledFlags,l)})),Ie.HiddenObserve(e,"EnabledFlags",(function(e,n){t.state_ActiveEnabledFlags=b.ScheduleCallback(t.state_ActiveEnabledFlags,l)})),Ie.HiddenObserve(e,"ActiveLayouts",(function(e,n){t.state_ActiveLayout=b.ScheduleCallback(t.state_ActiveLayout,u)})),Ie.HiddenObserve(e,"ActiveEnabledFlags",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",C),null!=n&&Ie.HiddenObserve(n,"Value",C),t.state_ActiveLayout=b.ScheduleCallback(t.state_ActiveLayout,u)})),Ie.HiddenObserve(e,"ComponentFactory",(function(e,n){t.state_ActiveGrid=b.ScheduleCallback(t.state_ActiveGrid,d)})),Ie.HiddenObserve(e,"ActiveLayout",(function(e,n){null!=e&&(Ie.HiddenForget(e,"component",y),Ie.HiddenForget(e,"componentBoundaryOffset",k)),null!=n&&(Ie.HiddenObserve(n,"component",y),Ie.HiddenObserve(n,"componentBoundaryOffset",k)),t.state_ActiveGrid=b.ScheduleCallback(t.state_ActiveGrid,d),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,c)})),Ie.HiddenObserve(e,"ActiveGrid",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",H),null!=n&&Ie.HiddenObserve(n,"Value",H),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,c)})),n(),a(),i(),r(),o(),s(),l(),u(),d(),c()};wn.__name__=!0;var Fn=function(){De.call(this),this.LinkButtonComponentObserver=new xn(this)};Fn.__name__=!0,Fn.__super__=De,Fn.prototype=i(De.prototype,{_updateLinkValue:function(){return null==this.StringFactory?null:this.StringFactory.Create(this.Settings.link)},_updateLink:function(){return null==this.LinkValue?"":this.LinkValue.Value},_updateOpenInTabValue:function(){return null==this.Settings||null==this.BoolFactory?null:this.BoolFactory.Create(this.Settings.openInNewTab)},_updateOpenInTab:function(){return null==this.OpenInTabValue||(null==this.OpenInTabValue.Value||this.OpenInTabValue.Value)},AnchorClicked:function(){$.Fire("linkfollowed",new _e(this.Link))},_updateVirtualDom:function(){var e=this,t=function(){e.AnchorClicked()};t.hash=0;var n=null;if(null!=this.Settings){(n=Oe.CreateNode("a")).Attributes.target=this.OpenInTab?"_blank":"_self",n.Attributes.href=this.Link,n.Attributes.class="binkies-flex-centered";var a=n.AddNode("buttoncomponent");a.Events.click=t,a.Attributes.Styles=this.Settings.styles,a.Attributes.StringFactory=this.StringFactory}return null==n&&(n=Oe.CreateNode(this.converter.GetPlaceholderTag())),n}});var xn=function(e){var t=this;this.state_LinkValue=!1,this.state_Link=!1,this.state_OpenInTabValue=!1,this.state_OpenInTab=!1,this.state_VirtualDom=!1;var n=function(){e.LinkValue=e._updateLinkValue(),t.state_LinkValue=!0},a=function(){e.Link=e._updateLink(),t.state_Link=!0},i=function(){e.OpenInTabValue=e._updateOpenInTabValue(),t.state_OpenInTabValue=!0},r=function(){e.OpenInTab=e._updateOpenInTab(),t.state_OpenInTab=!0},o=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},s=function(e,a){t.state_LinkValue=b.ScheduleCallback(t.state_LinkValue,n)},l=function(e,n){t.state_OpenInTabValue=b.ScheduleCallback(t.state_OpenInTabValue,i)},u=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)},d=function(e,n){t.state_Link=b.ScheduleCallback(t.state_Link,a)},c=function(e,n){t.state_OpenInTab=b.ScheduleCallback(t.state_OpenInTab,r)};Ie.HiddenObserve(e,"StringFactory",(function(e,a){t.state_LinkValue=b.ScheduleCallback(t.state_LinkValue,n),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"Settings",(function(e,a){null!=e&&(Ie.HiddenForget(e,"link",s),Ie.HiddenForget(e,"openInNewTab",l),Ie.HiddenForget(e,"styles",u)),null!=a&&(Ie.HiddenObserve(a,"link",s),Ie.HiddenObserve(a,"openInNewTab",l),Ie.HiddenObserve(a,"styles",u)),t.state_LinkValue=b.ScheduleCallback(t.state_LinkValue,n),t.state_OpenInTabValue=b.ScheduleCallback(t.state_OpenInTabValue,i),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"LinkValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",d),null!=n&&Ie.HiddenObserve(n,"Value",d),t.state_Link=b.ScheduleCallback(t.state_Link,a)})),Ie.HiddenObserve(e,"BoolFactory",(function(e,n){t.state_OpenInTabValue=b.ScheduleCallback(t.state_OpenInTabValue,i)})),Ie.HiddenObserve(e,"OpenInTabValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",c),null!=n&&Ie.HiddenObserve(n,"Value",c),t.state_OpenInTab=b.ScheduleCallback(t.state_OpenInTab,r)})),Ie.HiddenObserve(e,"OpenInTab",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"Link",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),n(),a(),i(),r(),o()};xn.__name__=!0;var Dn=function(){De.call(this),this.LoadingBarComponentObserver=new Pn(this)};Dn.__name__=!0,Dn.__super__=De,Dn.prototype=i(De.prototype,{_updateVisible:function(){return null!=this.LoadStateProvider&&null!=this.LoadStateProvider.LoadState&&2==this.LoadStateProvider.LoadState._hx_index},_updateVisibleStyle:function(){return null==this.Visible?"":this.Visible?"opacity: 1;\n\t\t\t\t\tvisibility: visible;":"opacity: 0;\n\t\t\t\t\tvisibility: hidden;"},_updateLoadingPercentage:function(){if(null==this.LoadStateProvider||null==this.LoadStateProvider.LoadState)return 0;var e=this.LoadStateProvider.LoadState;switch(e._hx_index){case 0:return 0;case 1:return 100;case 2:return 100*e.progress}},_updateBackgroundBarStyle:function(){if(null==this.Settings)return"";var e=[];return tl.IsNullOrWhiteSpace(this.Settings.backgroundColor)||e.push("background: "+this.Settings.backgroundColor),tl.IsNullOrWhiteSpace(this.Settings.borderRadius)||e.push("border-radius: "+this.Settings.borderRadius),e.join(";")},_updateProgressBarStyle:function(){if(null==this.Settings)return"";var e=[];return tl.IsNullOrWhiteSpace(this.Settings.progressColor)||e.push("background: "+this.Settings.progressColor),tl.IsNullOrWhiteSpace(this.Settings.borderRadius)||e.push("border-radius: "+this.Settings.borderRadius),e.join(";")},_updateVirtualDom:function(){var e=null;if(null!=this.Settings){(e=Oe.CreateNode("div")).Attributes.style="position: relative; width: 100%; height: 100%; "+this.BackgroundBarStyle+"; "+this.VisibleStyle,e.Attributes.class="binkies-animated";var t=e.AddNode("div");t.Attributes.style="position: relative; width: "+this.LoadingPercentage+"%; height: 100%; "+this.ProgressBarStyle+";",t.Attributes.class="binkies-loading-bar-progress"}return null==e&&(e=Oe.CreateNode(this.converter.GetPlaceholderTag())),e}});var Pn=function(e){var t=this;this.state_Visible=!1,this.state_VisibleStyle=!1,this.state_LoadingPercentage=!1,this.state_BackgroundBarStyle=!1,this.state_ProgressBarStyle=!1,this.state_VirtualDom=!1;var n=function(){e.Visible=e._updateVisible(),t.state_Visible=!0},a=function(){e.VisibleStyle=e._updateVisibleStyle(),t.state_VisibleStyle=!0},i=function(){e.LoadingPercentage=e._updateLoadingPercentage(),t.state_LoadingPercentage=!0},r=function(){e.BackgroundBarStyle=e._updateBackgroundBarStyle(),t.state_BackgroundBarStyle=!0},o=function(){e.ProgressBarStyle=e._updateProgressBarStyle(),t.state_ProgressBarStyle=!0},s=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},l=function(e,a){t.state_Visible=b.ScheduleCallback(t.state_Visible,n),t.state_LoadingPercentage=b.ScheduleCallback(t.state_LoadingPercentage,i)},u=function(e,n){t.state_BackgroundBarStyle=b.ScheduleCallback(t.state_BackgroundBarStyle,r)},d=function(e,n){t.state_BackgroundBarStyle=b.ScheduleCallback(t.state_BackgroundBarStyle,r),t.state_ProgressBarStyle=b.ScheduleCallback(t.state_ProgressBarStyle,o)},c=function(e,n){t.state_ProgressBarStyle=b.ScheduleCallback(t.state_ProgressBarStyle,o)};Ie.HiddenObserve(e,"LoadStateProvider",(function(e,a){null!=e&&Ie.HiddenForget(e,"LoadState",l),null!=a&&Ie.HiddenObserve(a,"LoadState",l),t.state_Visible=b.ScheduleCallback(t.state_Visible,n),t.state_LoadingPercentage=b.ScheduleCallback(t.state_LoadingPercentage,i)})),Ie.HiddenObserve(e,"Visible",(function(e,n){t.state_VisibleStyle=b.ScheduleCallback(t.state_VisibleStyle,a)})),Ie.HiddenObserve(e,"Settings",(function(e,n){null!=e&&(Ie.HiddenForget(e,"backgroundColor",u),Ie.HiddenForget(e,"borderRadius",d),Ie.HiddenForget(e,"progressColor",c)),null!=n&&(Ie.HiddenObserve(n,"backgroundColor",u),Ie.HiddenObserve(n,"borderRadius",d),Ie.HiddenObserve(n,"progressColor",c)),t.state_BackgroundBarStyle=b.ScheduleCallback(t.state_BackgroundBarStyle,r),t.state_ProgressBarStyle=b.ScheduleCallback(t.state_ProgressBarStyle,o),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,s)})),Ie.HiddenObserve(e,"BackgroundBarStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,s)})),Ie.HiddenObserve(e,"VisibleStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,s)})),Ie.HiddenObserve(e,"LoadingPercentage",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,s)})),Ie.HiddenObserve(e,"ProgressBarStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,s)})),n(),a(),i(),r(),o(),s()};Pn.__name__=!0;var An=function(){var e=S.stringGeneratorsByLength.h[0];null==e&&(e=new C(S.acceptedCharacters.split(""),null),S.stringGeneratorsByLength.h[0]=e),this.id="binkies-id-"+e.Get(),De.call(this),this.NavigationButtonsComponentObserver=new In(this)};An.__name__=!0,An.__super__=De,An.prototype=i(De.prototype,{navigationButtonClicked:function(e){this.Route.GoTo(this.Settings.buttons[e].route),this.FireEvent("click",e)},_updateStyle:function(){if(null==this.Settings||null==this.Settings.style)return"";var e=[];return tl.IsNullOrWhiteSpace(this.Settings.style.border)||e.push("border: "+this.Settings.style.border),tl.IsNullOrWhiteSpace(this.Settings.style.borderWidth)||e.push("border-width: "+this.Settings.style.borderWidth),tl.IsNullOrWhiteSpace(this.Settings.style.borderRadius)||e.push("border-radius: "+this.Settings.style.borderRadius),tl.IsNullOrWhiteSpace(this.Settings.style.background)||e.push("background: "+this.Settings.style.background),tl.IsNullOrWhiteSpace(this.Settings.style.boxShadow)||e.push("box-shadow: "+this.Settings.style.boxShadow),tl.IsNullOrWhiteSpace(this.Settings.style.opacity)||e.push("opacity: "+this.Settings.style.opacity),e.join(";")},_updateInlineBoxSettings:function(){if(null==this.Settings||null==this.Settings.style)return"";var e=[];return tl.IsNullOrWhiteSpace(this.Settings.style.border)||e.push("border: "+this.Settings.style.border),tl.IsNullOrWhiteSpace(this.Settings.style.borderWidth)||e.push("border-width: "+this.Settings.style.borderWidth),tl.IsNullOrWhiteSpace(this.Settings.style.borderRadius)||e.push("border-radius: "+this.Settings.style.borderRadius),tl.IsNullOrWhiteSpace(this.Settings.style.background)||e.push("background: "+this.Settings.style.background),tl.IsNullOrWhiteSpace(this.Settings.style.boxShadow)||e.push("box-shadow: "+this.Settings.style.boxShadow),tl.IsNullOrWhiteSpace(this.Settings.style.opacity)||e.push("opacity: "+this.Settings.style.opacity),e.join(";")},_updateActiveIndexChanged:function(){return null==this.Route||null==this.Settings||null==this.activeIndex||this.Route.GoTo(this.Settings.buttons[this.activeIndex].route),null},_updateactiveIndex:function(){if(!this.get_IsMounted())return null;if(null==this.Settings)return null;for(var e=0,t=this.Settings.buttons.length;e<t;){var n=e++;if(this.Route.Value==this.Settings.buttons[n].route)return n}return null},_updateVirtualDom:function(){var e=this,t=function(t){var n=function(){e.navigationButtonClicked(t)};return n.hash="0-"+Ae.GetId(t),n},n=null;if(null!=this.Settings){(n=Oe.CreateNode("div")).Attributes.style="pointer-events: all; flex-wrap: wrap; overflow: hidden; flex: 1 1 auto; position: absolute; left: 0; top: 0; width: 100%; height: 100%; "+this.Style,n.Attributes.id=this.id,n.Attributes.class="binkies-flex-centered binkies-horizontal-box";var a=n.AddNode("style");tl.IsNullOrWhiteSpace(this.Settings.distanceBetweenItems)||a.AddText("\n\t\t\t#"+this.id+' > div + div::before\n\t\t\t{\n\t\t\t\tcontent: "";\n\t\t\t\tpadding: calc('+this.Settings.distanceBetweenItems+" * 0.5);\n\t\t\t}\n\t\t\t");for(var i=0,r=this.Settings.buttons.length;i<r;){var o=i++,s=n.AddNode("buttoncomponent"),l=t(o);s.Events.click=l,s.Attributes.Styles=this.Settings.buttons[o].buttonStyles,s.Attributes.StringFactory=this.StringFactory,s.Attributes.IsActive=o==this.activeIndex}}return null==n&&(n=Oe.CreateNode(this.converter.GetPlaceholderTag())),n}});var In=function(e){var t=this;this.state_Style=!1,this.state_InlineBoxSettings=!1,this.state_ActiveIndexChanged=!1,this.state_activeIndex=!1,this.state_VirtualDom=!1;var n=function(){e.Style=e._updateStyle(),t.state_Style=!0},a=function(){e.InlineBoxSettings=e._updateInlineBoxSettings(),t.state_InlineBoxSettings=!0},i=function(){e.ActiveIndexChanged=e._updateActiveIndexChanged(),t.state_ActiveIndexChanged=!0},r=function(){e.activeIndex=e._updateactiveIndex(),t.state_activeIndex=!0},o=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},s=function(e,i){t.state_Style=b.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=b.ScheduleCallback(t.state_InlineBoxSettings,a)},l=function(e,n){t.state_ActiveIndexChanged=b.ScheduleCallback(t.state_ActiveIndexChanged,i),t.state_activeIndex=b.ScheduleCallback(t.state_activeIndex,r)},u=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)},d=function(e,n){null!=e&&(Ie.HiddenForget(e,"route",l),Ie.HiddenForget(e,"buttonStyles",u)),null!=n&&(Ie.HiddenObserve(n,"route",l),Ie.HiddenObserve(n,"buttonStyles",u)),t.state_ActiveIndexChanged=b.ScheduleCallback(t.state_ActiveIndexChanged,i),t.state_activeIndex=b.ScheduleCallback(t.state_activeIndex,r),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)},c=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)},h=function(e,n){t.state_activeIndex=b.ScheduleCallback(t.state_activeIndex,r)};Ie.HiddenObserve(e,"Settings",(function(e,l){null!=e&&(Ie.HiddenForget(e,"style",s),Ie.HiddenForget(e,"buttons",d),Ie.HiddenForget(e,"distanceBetweenItems",c)),null!=l&&(Ie.HiddenObserve(l,"style",s),Ie.HiddenObserve(l,"buttons",d),Ie.HiddenObserve(l,"distanceBetweenItems",c)),t.state_Style=b.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=b.ScheduleCallback(t.state_InlineBoxSettings,a),t.state_ActiveIndexChanged=b.ScheduleCallback(t.state_ActiveIndexChanged,i),t.state_activeIndex=b.ScheduleCallback(t.state_activeIndex,r),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"Route",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",h),null!=n&&Ie.HiddenObserve(n,"Value",h),t.state_ActiveIndexChanged=b.ScheduleCallback(t.state_ActiveIndexChanged,i),t.state_activeIndex=b.ScheduleCallback(t.state_activeIndex,r)})),Ie.HiddenObserve(e,"activeIndex",(function(e,n){t.state_ActiveIndexChanged=b.ScheduleCallback(t.state_ActiveIndexChanged,i),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"Style",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"id",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),Ie.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,o)})),n(),a(),i(),r(),o()};In.__name__=!0;var Tn=function(){this.DocumentLanguage=new gt("html",null,(function(e){return e.getAttribute("lang")})),De.call(this),this.PartyModeHintComponentObserver=new Mn(this)};Tn.__name__=!0,Tn.__super__=De,Tn.prototype=i(De.prototype,{_updateDisplay:function(){return null!=this.Settings&&(null!=this.NavigationFocusMode&&"none"==this.NavigationFocusMode.Value)},_updateImageSourceValue:function(){return null==this.Settings||null==this.Settings.imageSource?null:this.StringFactory.Create(this.Settings.imageSource)},_updateImageSource:function(){return null==this.ImageSourceValue?null:this.ImageSourceValue.Value},_updateAspectRatio:function(){if(null==this.Settings||null==this.Settings.aspectRatio)return{width:1,height:1};var e=this.Settings.aspectRatio;return null==e.width&&(e.width=1),null==e.height&&(e.height=1),e},_updateCanvasWrapperStyle:function(){if(null==this.Settings)return"";var e=[];return tl.IsNullOrWhiteSpace(this.Settings.border)||e.push("border: "+this.Settings.border),tl.IsNullOrWhiteSpace(this.Settings.borderWidth)||e.push("border-width: "+this.Settings.borderWidth),tl.IsNullOrWhiteSpace(this.Settings.borderRadius)||e.push("border-radius: "+this.Settings.borderRadius),tl.IsNullOrWhiteSpace(this.Settings.background)||e.push("background: "+this.Settings.background),tl.IsNullOrWhiteSpace(this.Settings.boxShadow)||e.push("box-shadow: "+this.Settings.boxShadow),tl.IsNullOrWhiteSpace(this.Settings.opacity)||e.push("opacity: "+this.Settings.opacity),e.join(";")},_updateCanvasStyle:function(){if(null==this.Settings)return"";var e=[];return null!=this.Settings.imageScale&&e.push("transform: scale("+this.Settings.imageScale+")"),tl.IsNullOrWhiteSpace(this.ImageSource)||(e.push("background-image: url('"+this.ImageSource+"')"),e.push("background-size: contain"),e.push("background-repeat: no-repeat"),e.push("background-position: center")),e.join(";")},_updateVirtualDom:function(){var e=null;if(this.Display){if((e=Oe.CreateNode("div")).Attributes.style="cursor: pointer; pointer-events: all; position: relative; box-sizing: border-box; width: 100%; height: 100% "+this.CanvasWrapperStyle,e.Attributes.class="binkies-flex-centered",null!=this.Settings&&null!=this.Settings.text){var t=e.AddNode("textcomponent");t.Attributes.StringFactory=this.StringFactory,t.Attributes.Settings=this.Settings.text}var n=e.AddNode("canvas");n.Attributes.width=this.AspectRatio.width,n.Attributes.style="flex: none; display: inline-block; width:100%; height: 100%; "+this.CanvasStyle,n.Attributes.height=this.AspectRatio.height}return null==e&&(e=Oe.CreateNode(this.converter.GetPlaceholderTag())),e}});var Mn=function(e){var t=this;this.state_Display=!1,this.state_ImageSourceValue=!1,this.state_ImageSource=!1,this.state_AspectRatio=!1,this.state_CanvasWrapperStyle=!1,this.state_CanvasStyle=!1,this.state_VirtualDom=!1;var n=function(){e.Display=e._updateDisplay(),t.state_Display=!0},a=function(){e.ImageSourceValue=e._updateImageSourceValue(),t.state_ImageSourceValue=!0},i=function(){e.ImageSource=e._updateImageSource(),t.state_ImageSource=!0},r=function(){e.AspectRatio=e._updateAspectRatio(),t.state_AspectRatio=!0},o=function(){e.CanvasWrapperStyle=e._updateCanvasWrapperStyle(),t.state_CanvasWrapperStyle=!0},s=function(){e.CanvasStyle=e._updateCanvasStyle(),t.state_CanvasStyle=!0},l=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},u=function(e,n){t.state_ImageSourceValue=b.ScheduleCallback(t.state_ImageSourceValue,a)},d=function(e,n){t.state_AspectRatio=b.ScheduleCallback(t.state_AspectRatio,r)},c=function(e,n){t.state_CanvasWrapperStyle=b.ScheduleCallback(t.state_CanvasWrapperStyle,o)},h=function(e,n){t.state_CanvasWrapperStyle=b.ScheduleCallback(t.state_CanvasWrapperStyle,o)},_=function(e,n){t.state_CanvasWrapperStyle=b.ScheduleCallback(t.state_CanvasWrapperStyle,o)},g=function(e,n){t.state_CanvasWrapperStyle=b.ScheduleCallback(t.state_CanvasWrapperStyle,o)},v=function(e,n){t.state_CanvasWrapperStyle=b.ScheduleCallback(t.state_CanvasWrapperStyle,o)},f=function(e,n){t.state_CanvasWrapperStyle=b.ScheduleCallback(t.state_CanvasWrapperStyle,o)},p=function(e,n){t.state_CanvasStyle=b.ScheduleCallback(t.state_CanvasStyle,s)},m=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},S=function(e,a){t.state_Display=b.ScheduleCallback(t.state_Display,n)},C=function(e,n){t.state_ImageSource=b.ScheduleCallback(t.state_ImageSource,i)},y=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},k=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)};Ie.HiddenObserve(e,"Settings",(function(e,i){null!=e&&(Ie.HiddenForget(e,"imageSource",u),Ie.HiddenForget(e,"aspectRatio",d),Ie.HiddenForget(e,"border",c),Ie.HiddenForget(e,"borderWidth",h),Ie.HiddenForget(e,"borderRadius",_),Ie.HiddenForget(e,"background",g),Ie.HiddenForget(e,"boxShadow",v),Ie.HiddenForget(e,"opacity",f),Ie.HiddenForget(e,"imageScale",p),Ie.HiddenForget(e,"text",m)),null!=i&&(Ie.HiddenObserve(i,"imageSource",u),Ie.HiddenObserve(i,"aspectRatio",d),Ie.HiddenObserve(i,"border",c),Ie.HiddenObserve(i,"borderWidth",h),Ie.HiddenObserve(i,"borderRadius",_),Ie.HiddenObserve(i,"background",g),Ie.HiddenObserve(i,"boxShadow",v),Ie.HiddenObserve(i,"opacity",f),Ie.HiddenObserve(i,"imageScale",p),Ie.HiddenObserve(i,"text",m)),t.state_Display=b.ScheduleCallback(t.state_Display,n),t.state_ImageSourceValue=b.ScheduleCallback(t.state_ImageSourceValue,a),t.state_AspectRatio=b.ScheduleCallback(t.state_AspectRatio,r),t.state_CanvasWrapperStyle=b.ScheduleCallback(t.state_CanvasWrapperStyle,o),t.state_CanvasStyle=b.ScheduleCallback(t.state_CanvasStyle,s),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"NavigationFocusMode",(function(e,a){null!=e&&Ie.HiddenForget(e,"Value",S),null!=a&&Ie.HiddenObserve(a,"Value",S),t.state_Display=b.ScheduleCallback(t.state_Display,n)})),Ie.HiddenObserve(e,"ImageSourceValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",C),null!=n&&Ie.HiddenObserve(n,"Value",C),t.state_ImageSource=b.ScheduleCallback(t.state_ImageSource,i)})),Ie.HiddenObserve(e,"ImageSource",(function(e,n){t.state_CanvasStyle=b.ScheduleCallback(t.state_CanvasStyle,s)})),Ie.HiddenObserve(e,"Display",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"CanvasWrapperStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"AspectRatio",(function(e,n){null!=e&&(Ie.HiddenForget(e,"width",y),Ie.HiddenForget(e,"height",k)),null!=n&&(Ie.HiddenObserve(n,"width",y),Ie.HiddenObserve(n,"height",k)),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"CanvasStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),n(),a(),i(),r(),o(),s(),l()};Mn.__name__=!0;var Rn=function(){De.call(this),this.ResetNavigationButtonComponentObserver=new Nn(this)};Rn.__name__=!0,Rn.__super__=De,Rn.prototype=i(De.prototype,{ResetNavigation:function(){$.Fire("resetnavigation",new ge)},_updateVirtualDom:function(){var e=this,t=function(){e.ResetNavigation()};t.hash=0;var n=null;return null!=this.Settings&&((n=Oe.CreateNode("buttoncomponent")).Events.click=t,n.Attributes.Styles=this.Settings.styles,n.Attributes.StringFactory=this.StringFactory),null==n&&(n=Oe.CreateNode(this.converter.GetPlaceholderTag())),n}});var Nn=function(e){var t=this;this.state_VirtualDom=!1;var n=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},a=function(e,a){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,n)};Ie.HiddenObserve(e,"Settings",(function(e,i){null!=e&&Ie.HiddenForget(e,"styles",a),null!=i&&Ie.HiddenObserve(i,"styles",a),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,n)})),Ie.HiddenObserve(e,"StringFactory",(function(e,a){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,n)})),n()};Nn.__name__=!0;var Ln=function(){De.call(this),this.RouteComponentObserver=new En(this)};Ln.__name__=!0,Ln.__super__=De,Ln.prototype=i(De.prototype,{_updateViewStyle:function(){return"box-sizing: border-box;pointer-events: none;","position: absolute;","left: 0;","top: 0;","width: 100%;","height: 100%;","box-sizing: border-box;pointer-events: none;position: absolute;left: 0;top: 0;width: 100%;height: 100%;"},_updateActiveComponentDefinition:function(){if(null==this.Settings)return null;if(null==this.Route||null==this.Route.Value)return null;for(var e=0,t=this.Settings.routes;e<t.length;){var n=t[e];if(++e,this.Route.Value==n.route)return n.component}return null},_updateComponent:function(){return null==this.ComponentFactory||null==this.ActiveComponentDefinition?null:this.ComponentFactory.Create(this.ActiveComponentDefinition)},_updateVirtualDom:function(){var e=Oe.CreateNode("div");return e.Attributes.style=this.ViewStyle,null!=this.Component&&null!=this.Component.Value&&e.AddChild(we.Clone(this.Component.Value)),e}});var En=function(e){var t=this;this.state_ViewStyle=!1,this.state_ActiveComponentDefinition=!1,this.state_Component=!1,this.state_VirtualDom=!1;var n=function(){e.ActiveComponentDefinition=e._updateActiveComponentDefinition(),t.state_ActiveComponentDefinition=!0},a=function(){e.Component=e._updateComponent(),t.state_Component=!0},i=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},r=function(e,a){t.state_ActiveComponentDefinition=b.ScheduleCallback(t.state_ActiveComponentDefinition,n)},o=function(e,a){t.state_ActiveComponentDefinition=b.ScheduleCallback(t.state_ActiveComponentDefinition,n)},s=function(e,a){null!=e&&(Ie.HiddenForget(e,"route",r),Ie.HiddenForget(e,"component",o)),null!=a&&(Ie.HiddenObserve(a,"route",r),Ie.HiddenObserve(a,"component",o)),t.state_ActiveComponentDefinition=b.ScheduleCallback(t.state_ActiveComponentDefinition,n)},l=function(e,a){t.state_ActiveComponentDefinition=b.ScheduleCallback(t.state_ActiveComponentDefinition,n)},u=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,i)};Ie.HiddenObserve(e,"Settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"routes",s),null!=a&&Ie.HiddenObserve(a,"routes",s),t.state_ActiveComponentDefinition=b.ScheduleCallback(t.state_ActiveComponentDefinition,n)})),Ie.HiddenObserve(e,"Route",(function(e,a){null!=e&&Ie.HiddenForget(e,"Value",l),null!=a&&Ie.HiddenObserve(a,"Value",l),t.state_ActiveComponentDefinition=b.ScheduleCallback(t.state_ActiveComponentDefinition,n)})),Ie.HiddenObserve(e,"ComponentFactory",(function(e,n){t.state_Component=b.ScheduleCallback(t.state_Component,a)})),Ie.HiddenObserve(e,"ActiveComponentDefinition",(function(e,n){t.state_Component=b.ScheduleCallback(t.state_Component,a)})),Ie.HiddenObserve(e,"ViewStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,i)})),Ie.HiddenObserve(e,"Component",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",u),null!=n&&Ie.HiddenObserve(n,"Value",u),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,i)})),e.ViewStyle=e._updateViewStyle(),t.state_ViewStyle=!0,n(),a(),i()};En.__name__=!0;var Bn=function(){De.call(this),this.resizeObserver=new ct,this.ResizeSensorComponentObserver=new Wn(this)};Bn.__name__=!0,Bn.__super__=De,Bn.prototype=i(De.prototype,{Mounted:function(){De.prototype.Mounted.call(this),this.resizeObserver.Attach(this.parent)},Unmounted:function(){De.prototype.Unmounted.call(this),this.resizeObserver.Attach(null)},_updateFireSizeChanged:function(){return this.FireEvent("SizeChanged",this.resizeObserver.Width,this.resizeObserver.Height),!this.FireSizeChanged}});var Wn=function(e){var t=this;this.state_FireSizeChanged=!1;var n=function(){e.FireSizeChanged=e._updateFireSizeChanged(),t.state_FireSizeChanged=!0},a=function(e,a){t.state_FireSizeChanged=b.ScheduleCallback(t.state_FireSizeChanged,n)},i=function(e,a){t.state_FireSizeChanged=b.ScheduleCallback(t.state_FireSizeChanged,n)};Ie.HiddenObserve(e,"resizeObserver",(function(e,r){null!=e&&(Ie.HiddenForget(e,"Width",a),Ie.HiddenForget(e,"Height",i)),null!=r&&(Ie.HiddenObserve(r,"Width",a),Ie.HiddenObserve(r,"Height",i)),t.state_FireSizeChanged=b.ScheduleCallback(t.state_FireSizeChanged,n)})),Ie.HiddenObserve(e,"FireSizeChanged",(function(e,a){t.state_FireSizeChanged=b.ScheduleCallback(t.state_FireSizeChanged,n)})),n()};Wn.__name__=!0;var Un=function(){De.call(this),this.ShareButtonComponentObserver=new Gn(this)};Un.__name__=!0,Un.__super__=De,Un.prototype=i(De.prototype,{_updateDisplay:function(){return null!=this.Settings&&(null!=this.ShareManager&&this.ShareManager.CanShare)},_updateurl:function(){return null==this.Settings||null==this.Settings.url?null:this.StringFactory.Create(this.Settings.url)},_updateanchor:function(){return null==this.Settings||null==this.Settings.anchor?null:this.StringFactory.Create(this.Settings.anchor)},_updateurlParameter:function(){return null==this.Settings||null==this.Settings.urlParameter?null:{name:this.StringFactory.Create(this.Settings.urlParameter.name),value:this.StringFactory.Create(this.Settings.urlParameter.value)}},_updatetitle:function(){return null==this.Settings||null==this.Settings.title?null:this.StringFactory.Create(this.Settings.title)},getTitleValue:function(){return null==this.title||tl.IsNullOrWhiteSpace(this.title.Value)?tl.IsNullOrWhiteSpace(window.document.title)?"Binkies3D":window.document.title:this.title.Value},_updatetext:function(){return null==this.Settings||null==this.Settings.text?null:this.StringFactory.Create(this.Settings.text)},Share:function(){try{this.ShareManager.Share(this.getShareData())}catch(e){el.trace(e instanceof rl?e.val:e,{fileName:"../libraries/configurable-integration/project/src/binkies/integration/components/sharebutton/ShareButtonComponent.hx",lineNumber:96,className:"binkies.integration.components.sharebutton.ShareButtonComponent",methodName:"Share"})}},getShareData:function(){var e={url:this.getURL()};return e.title=this.getTitleValue(),null!=this.text&&null!=this.text.Value&&(e.text=this.text.Value),e},getURL:function(){var e=new URL(null==this.url?window.location.href:this.url.Value);return null!=this.urlParameter&&null!=this.urlParameter.name.Value&&null!=this.urlParameter.value.Value&&e.searchParams.set(this.urlParameter.name.Value,this.urlParameter.value.Value),null!=this.anchor&&null!=this.anchor.Value&&(e.hash=this.anchor.Value),e.href},_updateVirtualDom:function(){var e=this,t=function(){e.Share()};t.hash=0;var n=null;return this.Display&&((n=Oe.CreateNode("buttoncomponent")).Events.click=t,n.Attributes.Styles=this.Settings.styles,n.Attributes.StringFactory=this.StringFactory,n.Attributes.Settings=this.Settings),null==n&&(n=Oe.CreateNode(this.converter.GetPlaceholderTag())),n}});var Gn=function(e){var t=this;this.state_Display=!1,this.state_url=!1,this.state_anchor=!1,this.state_urlParameter=!1,this.state_title=!1,this.state_text=!1,this.state_VirtualDom=!1;var n=function(){e.Display=e._updateDisplay(),t.state_Display=!0},a=function(){e.url=e._updateurl(),t.state_url=!0},i=function(){e.anchor=e._updateanchor(),t.state_anchor=!0},r=function(){e.urlParameter=e._updateurlParameter(),t.state_urlParameter=!0},o=function(){e.title=e._updatetitle(),t.state_title=!0},s=function(){e.text=e._updatetext(),t.state_text=!0},l=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},u=function(e,n){t.state_url=b.ScheduleCallback(t.state_url,a)},d=function(e,n){t.state_anchor=b.ScheduleCallback(t.state_anchor,i)},c=function(e,n){t.state_urlParameter=b.ScheduleCallback(t.state_urlParameter,r)},h=function(e,n){t.state_title=b.ScheduleCallback(t.state_title,o)},_=function(e,n){t.state_text=b.ScheduleCallback(t.state_text,s)},g=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)},v=function(e,a){t.state_Display=b.ScheduleCallback(t.state_Display,n)};Ie.HiddenObserve(e,"Settings",(function(e,v){null!=e&&(Ie.HiddenForget(e,"url",u),Ie.HiddenForget(e,"anchor",d),Ie.HiddenForget(e,"urlParameter",c),Ie.HiddenForget(e,"title",h),Ie.HiddenForget(e,"text",_),Ie.HiddenForget(e,"styles",g)),null!=v&&(Ie.HiddenObserve(v,"url",u),Ie.HiddenObserve(v,"anchor",d),Ie.HiddenObserve(v,"urlParameter",c),Ie.HiddenObserve(v,"title",h),Ie.HiddenObserve(v,"text",_),Ie.HiddenObserve(v,"styles",g)),t.state_Display=b.ScheduleCallback(t.state_Display,n),t.state_url=b.ScheduleCallback(t.state_url,a),t.state_anchor=b.ScheduleCallback(t.state_anchor,i),t.state_urlParameter=b.ScheduleCallback(t.state_urlParameter,r),t.state_title=b.ScheduleCallback(t.state_title,o),t.state_text=b.ScheduleCallback(t.state_text,s),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"ShareManager",(function(e,a){null!=e&&Ie.HiddenForget(e,"CanShare",v),null!=a&&Ie.HiddenObserve(a,"CanShare",v),t.state_Display=b.ScheduleCallback(t.state_Display,n)})),Ie.HiddenObserve(e,"Display",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),Ie.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,l)})),n(),a(),i(),r(),o(),s(),l()};Gn.__name__=!0;var Xn=function(){null!=window.navigator.share&&(this.nativeShareFunction=function(e){return window.navigator.share(e)}),this.currentShareFunction=this.nativeShareFunction,this.ShareManagerObserver=new Yn(this)};Xn.__name__=!0,Xn.prototype={_updateCanShare:function(){var e=null!=this.currentShareFunction;return e&&!this.canShareEventSent&&($.Fire("canshare",new te),this.canShareEventSent=!0),e},Share:function(e){null!=this.currentShareFunction&&null!=e&&($.Fire("sharestarted",new fe),this.currentShareFunction(e).then((function(e){$.Fire("sharecompleted",new be)})))},_updateDebugModeChanged:function(){return this.currentShareFunction=this.DebugModeEnabled?dl(this,this.fakeShare):this.nativeShareFunction,!1},fakeShare:function(e){return el.trace("Binkies Debug Share Started!",{fileName:"../libraries/configurable-integration/project/src/binkies/integration/components/sharebutton/ShareManager.hx",lineNumber:64,className:"binkies.integration.components.sharebutton.ShareManager",methodName:"fakeShare"}),new Promise((function(t,n){el.trace("Binkies Debug Share Done! Data:",{fileName:"../libraries/configurable-integration/project/src/binkies/integration/components/sharebutton/ShareManager.hx",lineNumber:66,className:"binkies.integration.components.sharebutton.ShareManager",methodName:"fakeShare",customParams:[e]}),t(!0)}))}};var Yn=function(e){var t=this;this.state_CanShare=!1,this.state_DebugModeChanged=!1;var n=function(){e.CanShare=e._updateCanShare(),t.state_CanShare=!0},a=function(){e.DebugModeChanged=e._updateDebugModeChanged(),t.state_DebugModeChanged=!0};Ie.HiddenObserve(e,"currentShareFunction",(function(e,a){t.state_CanShare=b.ScheduleCallback(t.state_CanShare,n)})),Ie.HiddenObserve(e,"canShareEventSent",(function(e,a){t.state_CanShare=b.ScheduleCallback(t.state_CanShare,n)})),Ie.HiddenObserve(e,"DebugModeEnabled",(function(e,n){t.state_DebugModeChanged=b.ScheduleCallback(t.state_DebugModeChanged,a)})),Ie.HiddenObserve(e,"nativeShareFunction",(function(e,n){t.state_DebugModeChanged=b.ScheduleCallback(t.state_DebugModeChanged,a)})),n(),a()};Yn.__name__=!0;var zn=function(){De.call(this),this.ShowHide3dButtonComponentObserver=new Zn(this)};zn.__name__=!0,zn.__super__=De,zn.prototype=i(De.prototype,{_updateDisplay:function(){return null!=this.Settings&&(null!=this.State&&!(!this.State.ContentCanBeDownloaded&&!this.State.ContentDownloaded))},OnClick:function(){switch(this.Behavior){case"hide3d":this.State.WantToShowContent.SetValue(!1);break;case"show3d":this.State.WantToShowContent.SetValue(!0)}},_updateVirtualDom:function(){var e=this,t=function(){e.OnClick()};t.hash=0;var n=null;return this.Display&&((n=Oe.CreateNode("buttoncomponent")).Events.click=t,n.Attributes.Styles=this.Settings.styles,n.Attributes.StringFactory=this.StringFactory),null==n&&(n=Oe.CreateNode(this.converter.GetPlaceholderTag())),n}});var Zn=function(e){var t=this;this.state_Display=!1,this.state_VirtualDom=!1;var n=function(){e.Display=e._updateDisplay(),t.state_Display=!0},a=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},i=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)},r=function(e,a){t.state_Display=b.ScheduleCallback(t.state_Display,n)},o=function(e,a){t.state_Display=b.ScheduleCallback(t.state_Display,n)};Ie.HiddenObserve(e,"Settings",(function(e,r){null!=e&&Ie.HiddenForget(e,"styles",i),null!=r&&Ie.HiddenObserve(r,"styles",i),t.state_Display=b.ScheduleCallback(t.state_Display,n),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),Ie.HiddenObserve(e,"State",(function(e,a){null!=e&&(Ie.HiddenForget(e,"ContentCanBeDownloaded",r),Ie.HiddenForget(e,"ContentDownloaded",o)),null!=a&&(Ie.HiddenObserve(a,"ContentCanBeDownloaded",r),Ie.HiddenObserve(a,"ContentDownloaded",o)),t.state_Display=b.ScheduleCallback(t.state_Display,n)})),Ie.HiddenObserve(e,"Display",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),Ie.HiddenObserve(e,"StringFactory",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),n(),a()};Zn.__name__=!0;var Qn=function(){De.call(this),this.StylePaneComponentObserver=new jn(this)};Qn.__name__=!0,Qn.__super__=De,Qn.prototype=i(De.prototype,{_updateStyle:function(){if(null==this.Settings||null==this.Settings.style)return"";var e=[];return tl.IsNullOrWhiteSpace(this.Settings.style.border)||e.push("border: "+this.Settings.style.border),tl.IsNullOrWhiteSpace(this.Settings.style.borderWidth)||e.push("border-width: "+this.Settings.style.borderWidth),tl.IsNullOrWhiteSpace(this.Settings.style.borderRadius)||e.push("border-radius: "+this.Settings.style.borderRadius),tl.IsNullOrWhiteSpace(this.Settings.style.background)||e.push("background: "+this.Settings.style.background),tl.IsNullOrWhiteSpace(this.Settings.style.boxShadow)||e.push("box-shadow: "+this.Settings.style.boxShadow),tl.IsNullOrWhiteSpace(this.Settings.style.opacity)||e.push("opacity: "+this.Settings.style.opacity),e.join(";")},_updateInlineBoxSettings:function(){if(null==this.Settings||null==this.Settings.style)return"";var e=[];return tl.IsNullOrWhiteSpace(this.Settings.style.border)||e.push("border: "+this.Settings.style.border),tl.IsNullOrWhiteSpace(this.Settings.style.borderWidth)||e.push("border-width: "+this.Settings.style.borderWidth),tl.IsNullOrWhiteSpace(this.Settings.style.borderRadius)||e.push("border-radius: "+this.Settings.style.borderRadius),tl.IsNullOrWhiteSpace(this.Settings.style.background)||e.push("background: "+this.Settings.style.background),tl.IsNullOrWhiteSpace(this.Settings.style.boxShadow)||e.push("box-shadow: "+this.Settings.style.boxShadow),tl.IsNullOrWhiteSpace(this.Settings.style.opacity)||e.push("opacity: "+this.Settings.style.opacity),e.join(";")},_updateVirtualDom:function(){var e=null;return null!=this.Settings&&((e=Oe.CreateNode("div")).Attributes.style="pointer-events: none; flex-wrap: wrap; overflow: hidden; flex: 1 1 auto; position: absolute; left: 0; top: 0; width: 100%; height: 100%; "+this.Style,e.Attributes.class="binkies-flex-centered binkies-horizontal-box binkies-unselectable"),null==e&&(e=Oe.CreateNode(this.converter.GetPlaceholderTag())),e}});var jn=function(e){var t=this;this.state_Style=!1,this.state_InlineBoxSettings=!1,this.state_VirtualDom=!1;var n=function(){e.Style=e._updateStyle(),t.state_Style=!0},a=function(){e.InlineBoxSettings=e._updateInlineBoxSettings(),t.state_InlineBoxSettings=!0},i=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},r=function(e,i){t.state_Style=b.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=b.ScheduleCallback(t.state_InlineBoxSettings,a)},o=function(e,i){t.state_Style=b.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=b.ScheduleCallback(t.state_InlineBoxSettings,a)},s=function(e,i){t.state_Style=b.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=b.ScheduleCallback(t.state_InlineBoxSettings,a)},l=function(e,i){t.state_Style=b.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=b.ScheduleCallback(t.state_InlineBoxSettings,a)},u=function(e,i){t.state_Style=b.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=b.ScheduleCallback(t.state_InlineBoxSettings,a)},d=function(e,i){t.state_Style=b.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=b.ScheduleCallback(t.state_InlineBoxSettings,a)},c=function(e,i){null!=e&&(Ie.HiddenForget(e,"border",r),Ie.HiddenForget(e,"borderWidth",o),Ie.HiddenForget(e,"borderRadius",s),Ie.HiddenForget(e,"background",l),Ie.HiddenForget(e,"boxShadow",u),Ie.HiddenForget(e,"opacity",d)),null!=i&&(Ie.HiddenObserve(i,"border",r),Ie.HiddenObserve(i,"borderWidth",o),Ie.HiddenObserve(i,"borderRadius",s),Ie.HiddenObserve(i,"background",l),Ie.HiddenObserve(i,"boxShadow",u),Ie.HiddenObserve(i,"opacity",d)),t.state_Style=b.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=b.ScheduleCallback(t.state_InlineBoxSettings,a)};Ie.HiddenObserve(e,"Settings",(function(e,r){null!=e&&Ie.HiddenForget(e,"style",c),null!=r&&Ie.HiddenObserve(r,"style",c),t.state_Style=b.ScheduleCallback(t.state_Style,n),t.state_InlineBoxSettings=b.ScheduleCallback(t.state_InlineBoxSettings,a),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,i)})),Ie.HiddenObserve(e,"Style",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,i)})),n(),a(),i()};jn.__name__=!0;var qn=function(){this.fontSize=120;var e=S.stringGeneratorsByLength.h[0];null==e&&(e=new C(S.acceptedCharacters.split(""),null),S.stringGeneratorsByLength.h[0]=e),this.id="binkies-id-"+e.Get(),De.call(this),this.TextComponentObserver=new Kn(this)};qn.__name__=!0,qn.__super__=De,qn.prototype=i(De.prototype,{_updateTextValue:function(){return null==this.Settings||null==this.StringFactory?null:this.StringFactory.Create(this.Settings.content)},_updateText:function(){return null==this.TextValue?null:this.TextValue.Value},_updateTextStyle:function(){if(null==this.Settings)return"";var e="";e="height: auto;",e="height: auto;width: auto;",e+="font-size:"+this.fontSize+"px;",e+="white-space: nowrap;",e+="flex: 0 0 auto;",e+="margin: 0;",e+="line-height: normal;";var t=this.Settings.style;return null==t||(tl.IsNullOrWhiteSpace(t.fontFamily)||(e+="font-family: "+t.fontFamily+";"),tl.IsNullOrWhiteSpace(t.color)||(e+="color: "+t.color+";"),tl.IsNullOrWhiteSpace(t.textShadow)||(e+="text-shadow: "+t.textShadow+";"),tl.IsNullOrWhiteSpace(t.opacity)||(e+="opacity: "+t.opacity+";"),tl.IsNullOrWhiteSpace(t.textDecoration)||(e+="text-decoration: "+t.textDecoration+";"),tl.IsNullOrWhiteSpace(t.border)||(e+="border: "+t.border+";"),tl.IsNullOrWhiteSpace(t.borderWidth)||(e+="border-width: "+t.borderWidth+";"),tl.IsNullOrWhiteSpace(t.padding)||(e+="padding: "+t.padding+";"),tl.IsNullOrWhiteSpace(t.fontWeight)||(e+="font-weight: "+t.fontWeight+";")),e},_updateTextWrapperStyle:function(){if(null==this.Settings)return"";var e,t="";t="position: "+(this.AutoAdjustSize?"absolute":"relative")+";",t+="display: flex;",t+="height: 100%;",t+="width: 100%;",t+="box-sizing: border-box;",tl.IsNullOrWhiteSpace(this.Settings.padding)||(t+="padding: "+this.Settings.padding+";");var n,a=this.Settings.horizontalAlign;if(null==a)e="center";else switch(a){case"center":default:e="center";break;case"end":e="flex-end";break;case"start":e="flex-start";break;case"stretch":e="stretch"}t+="justify-content: "+e+";";var i=this.Settings.verticalAlign;if(null==i)n="center";else switch(i){case"center":default:n="center";break;case"end":n="flex-end";break;case"start":n="flex-start";break;case"stretch":n="stretch"}return t+="align-items: "+n+";"},SensorSizeChanged:function(e,t){this.width=e,this.height=t},_updateUpdateText:function(){return null==this.width||null==this.height||null==this.Text||null==this.TextElementQuery||null==this.TextElementQuery.Result||null==this.AutoAdjustSize||this.updateText(this.TextElementQuery.Result,this.width,this.height,this.Text),null},_updateTextElementQuery:function(){return new gt("#"+this.id)},_updateAutoAdjustSize:function(){return null==this.Settings||null==this.Settings.style||null==this.Settings.style.fontSize},updateText:function(e,t,n,a){var i=this.TextElementQuery.Result;if(i.textContent=a,this.AutoAdjustSize){var r=Math.min(t/i.clientWidth,n/i.clientHeight);isNaN(r)||0==r?this.fontSize*=.1:this.fontSize*=r}else this.fontSize=this.Settings.style.fontSize},_updateVirtualDom:function(){var e=this,t=function(t,n){e.SensorSizeChanged(t,n)};t.hash=0;var n=null;if(null!=this.Text){(n=Oe.CreateNode("div")).Attributes.style=this.TextWrapperStyle,n.AddNode("resizesensor").Events.SizeChanged=t;var a=n.AddNode("p");a.Attributes.translate="no",a.Attributes.style=this.TextStyle,a.Attributes.id=this.id,a.Attributes.class="notranslate"}return null==n&&(n=Oe.CreateNode(this.converter.GetPlaceholderTag())),n}});var Kn=function(e){var t=this;this.state_TextValue=!1,this.state_Text=!1,this.state_TextStyle=!1,this.state_TextWrapperStyle=!1,this.state_UpdateText=!1,this.state_TextElementQuery=!1,this.state_AutoAdjustSize=!1,this.state_VirtualDom=!1;var n=function(){e.TextValue=e._updateTextValue(),t.state_TextValue=!0},a=function(){e.Text=e._updateText(),t.state_Text=!0},i=function(){e.TextStyle=e._updateTextStyle(),t.state_TextStyle=!0},r=function(){e.TextWrapperStyle=e._updateTextWrapperStyle(),t.state_TextWrapperStyle=!0},o=function(){e.UpdateText=e._updateUpdateText(),t.state_UpdateText=!0},s=function(){e.TextElementQuery=e._updateTextElementQuery(),t.state_TextElementQuery=!0},l=function(){e.AutoAdjustSize=e._updateAutoAdjustSize(),t.state_AutoAdjustSize=!0},u=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},d=function(e,a){t.state_TextValue=b.ScheduleCallback(t.state_TextValue,n)},c=function(e,n){t.state_TextStyle=b.ScheduleCallback(t.state_TextStyle,i),t.state_AutoAdjustSize=b.ScheduleCallback(t.state_AutoAdjustSize,l)},h=function(e,n){t.state_TextWrapperStyle=b.ScheduleCallback(t.state_TextWrapperStyle,r)},_=function(e,n){t.state_TextWrapperStyle=b.ScheduleCallback(t.state_TextWrapperStyle,r)},g=function(e,n){t.state_TextWrapperStyle=b.ScheduleCallback(t.state_TextWrapperStyle,r)},v=function(e,n){t.state_Text=b.ScheduleCallback(t.state_Text,a)},f=function(e,n){t.state_UpdateText=b.ScheduleCallback(t.state_UpdateText,o)};Ie.HiddenObserve(e,"Settings",(function(e,a){null!=e&&(Ie.HiddenForget(e,"content",d),Ie.HiddenForget(e,"style",c),Ie.HiddenForget(e,"padding",h),Ie.HiddenForget(e,"horizontalAlign",_),Ie.HiddenForget(e,"verticalAlign",g)),null!=a&&(Ie.HiddenObserve(a,"content",d),Ie.HiddenObserve(a,"style",c),Ie.HiddenObserve(a,"padding",h),Ie.HiddenObserve(a,"horizontalAlign",_),Ie.HiddenObserve(a,"verticalAlign",g)),t.state_TextValue=b.ScheduleCallback(t.state_TextValue,n),t.state_TextStyle=b.ScheduleCallback(t.state_TextStyle,i),t.state_TextWrapperStyle=b.ScheduleCallback(t.state_TextWrapperStyle,r),t.state_AutoAdjustSize=b.ScheduleCallback(t.state_AutoAdjustSize,l)})),Ie.HiddenObserve(e,"StringFactory",(function(e,a){t.state_TextValue=b.ScheduleCallback(t.state_TextValue,n)})),Ie.HiddenObserve(e,"TextValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",v),null!=n&&Ie.HiddenObserve(n,"Value",v),t.state_Text=b.ScheduleCallback(t.state_Text,a)})),Ie.HiddenObserve(e,"fontSize",(function(e,n){t.state_TextStyle=b.ScheduleCallback(t.state_TextStyle,i)})),Ie.HiddenObserve(e,"AutoAdjustSize",(function(e,n){t.state_TextWrapperStyle=b.ScheduleCallback(t.state_TextWrapperStyle,r),t.state_UpdateText=b.ScheduleCallback(t.state_UpdateText,o)})),Ie.HiddenObserve(e,"width",(function(e,n){t.state_UpdateText=b.ScheduleCallback(t.state_UpdateText,o)})),Ie.HiddenObserve(e,"height",(function(e,n){t.state_UpdateText=b.ScheduleCallback(t.state_UpdateText,o)})),Ie.HiddenObserve(e,"Text",(function(e,n){t.state_UpdateText=b.ScheduleCallback(t.state_UpdateText,o),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,u)})),Ie.HiddenObserve(e,"TextElementQuery",(function(e,n){null!=e&&Ie.HiddenForget(e,"Result",f),null!=n&&Ie.HiddenObserve(n,"Result",f),t.state_UpdateText=b.ScheduleCallback(t.state_UpdateText,o)})),Ie.HiddenObserve(e,"id",(function(e,n){t.state_TextElementQuery=b.ScheduleCallback(t.state_TextElementQuery,s),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,u)})),Ie.HiddenObserve(e,"TextWrapperStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,u)})),Ie.HiddenObserve(e,"TextStyle",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,u)})),n(),a(),i(),r(),o(),s(),l(),u()};Kn.__name__=!0;var Jn=function(){};Jn.__name__=!0,Jn.IntegrationAlreadyOnPage=function(e){var t=window.BinkiesIntegrationIds;return null==t&&(t={},window.BinkiesIntegrationIds=t),!!Object.prototype.hasOwnProperty.call(t,e.IntegrationId)||(t[e.IntegrationId]=!0,!1)};var $n=function(e,t,n,a,i,r,o,s,l,u,d,c,h){this.state=n,this.contentQueue=a,this.navigationFocusMode=i,this.elementFactory=o,this.componentFactory=t,this.boolFactory=s,this.stringFactory=l,this.displayMode=u,this.route=d,this.testManager=c,this.manipulatorStore=h;for(var _=0;_<e.length;)this.CreateFeatureInstance(e[_++])};$n.__name__=!0,$n.CreateStaticFeatureInstance=function(e){if(null!=e)switch(e.Id){case"CustomAnalytics":new la(e.Settings);break;case"GoogleAnalytics":new ca(e.Settings)}},$n.prototype={CreateFeatureInstance:function(e){switch(e.Id){case"CreditCardCustomization":return new aa(this.manipulatorStore,e.Settings);case"Crossfader":return new ia(this.state,this.displayMode,e.Settings);case"CustomAnalytics":case"GoogleAnalytics":return null;case"ExposeContentState":return new ua(this.elementFactory,this.state,e.Settings);case"MarkElements":return new fa(this.stringFactory,e.Settings);case"NavigationFocus":return new ma(this.state,this.navigationFocusMode,this.boolFactory,e.Settings);case"Root":return new Ca(this.elementFactory,this.componentFactory,this.state,this.route,e.Settings);case"RouteButton":return new Ha(this.elementFactory,this.route,this.state,e.Settings);case"RouteHistory":return new wa(this.route,e.Settings);case"Testing":return new Ma(this.testManager,e.Settings);case"ValueInspection":return new La(this.stringFactory,e.Settings);default:throw new rl("Unknown Feature ID: "+e.Id)}}};var ea=function(e,t){this.elementFactory=e,this.targetElementFeatureSettings=t,this.TargetElementFeatureObserver=new ta(this)};ea.__name__=!0,ea.prototype={_updateTargetProvider:function(){return null==this.targetElementFeatureSettings||null==this.targetElementFeatureSettings.targetElement?null:this.elementFactory.Create(this.targetElementFeatureSettings.targetElement)}};var ta=function(e){var t=this;this.state_TargetProvider=!1;var n=function(){e.TargetProvider=e._updateTargetProvider(),t.state_TargetProvider=!0},a=function(e,a){t.state_TargetProvider=b.ScheduleCallback(t.state_TargetProvider,n)};Ie.HiddenObserve(e,"targetElementFeatureSettings",(function(e,i){null!=e&&Ie.HiddenForget(e,"targetElement",a),null!=i&&Ie.HiddenObserve(i,"targetElement",a),t.state_TargetProvider=b.ScheduleCallback(t.state_TargetProvider,n)})),n()};ta.__name__=!0;var na=function(e){this.settings=e};na.__name__=!0,na.prototype={process:function(e,t){if("WmmbsN"==e.UId){var n=t.Materials[t.Models[0].MaterialIndex];null!=this.settings.color&&(n.Maps.diffuse=t.Textures.length,t.Textures.push(new Eo(this.settings.color,1,1,1,2,-1))),null!=this.settings.normal&&(n.Maps.normal=t.Textures.length,t.Textures.push(new Eo(this.settings.normal,1,1,1,0,-1)))}}};var aa=function(e,t){e.Add(new na(t))};aa.__name__=!0;var ia=function(e,t,n){this.settings=n,this.state=e,this.displayMode=t,this.component=new ra,this.component.Settings=n,this.component.Mount(window.document.head),this.FeatureObserver=new sa(this)};ia.__name__=!0,ia.prototype={_updateEnabled:function(){return null!=this.displayMode&&"onpage"==this.displayMode.Value},_updateUpdateComponent:function(){return null!=this.Enabled&&(this.component.Enabled=this.Enabled,this.component.Visible=this.state.ShowContent||this.state.ShowFullscreen,!0)}};var ra=function(){De.call(this),this.FeatureComponentObserver=new oa(this)};ra.__name__=!0,ra.__super__=De,ra.prototype=i(De.prototype,{_updateContent:function(){return this.Visible?ra.shownStateStyle:ra.hiddenStateStyle},_updateVirtualDom:function(){var e=null;return null!=this.Settings&&this.Enabled&&(e=Oe.CreateNode("style")).AddText("\n\t\t"+this.Content+"\n\t"),null==e&&(e=Oe.CreateNode(this.converter.GetPlaceholderTag())),e}});var oa=function(e){var t=this;this.state_Content=!1,this.state_VirtualDom=!1;var n=function(){e.Content=e._updateContent(),t.state_Content=!0},a=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0};Ie.HiddenObserve(e,"Visible",(function(e,a){t.state_Content=b.ScheduleCallback(t.state_Content,n)})),Ie.HiddenObserve(e,"shownStateStyle",(function(e,a){t.state_Content=b.ScheduleCallback(t.state_Content,n)})),Ie.HiddenObserve(e,"hiddenStateStyle",(function(e,a){t.state_Content=b.ScheduleCallback(t.state_Content,n)})),Ie.HiddenObserve(e,"Settings",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),Ie.HiddenObserve(e,"Enabled",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),Ie.HiddenObserve(e,"Content",(function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),n(),a()};oa.__name__=!0;var sa=function(e){var t=this;this.state_Enabled=!1,this.state_UpdateComponent=!1;var n=function(){e.Enabled=e._updateEnabled(),t.state_Enabled=!0},a=function(){e.UpdateComponent=e._updateUpdateComponent(),t.state_UpdateComponent=!0},i=function(e,a){t.state_Enabled=b.ScheduleCallback(t.state_Enabled,n)},r=function(e,n){t.state_UpdateComponent=b.ScheduleCallback(t.state_UpdateComponent,a)},o=function(e,n){t.state_UpdateComponent=b.ScheduleCallback(t.state_UpdateComponent,a)};Ie.HiddenObserve(e,"displayMode",(function(e,a){null!=e&&Ie.HiddenForget(e,"Value",i),null!=a&&Ie.HiddenObserve(a,"Value",i),t.state_Enabled=b.ScheduleCallback(t.state_Enabled,n)})),Ie.HiddenObserve(e,"Enabled",(function(e,n){t.state_UpdateComponent=b.ScheduleCallback(t.state_UpdateComponent,a)})),Ie.HiddenObserve(e,"state",(function(e,n){null!=e&&(Ie.HiddenForget(e,"ShowContent",r),Ie.HiddenForget(e,"ShowFullscreen",o)),null!=n&&(Ie.HiddenObserve(n,"ShowContent",r),Ie.HiddenObserve(n,"ShowFullscreen",o)),t.state_UpdateComponent=b.ScheduleCallback(t.state_UpdateComponent,a)})),n(),a()};sa.__name__=!0;var la=function(e){null!=e&&(this.settings=e,this.target=window[this.settings.target],null!=this.target?new y(this):console.error("Binkies 3D: Unable to find window."+this.settings.target))};la.__name__=!0,la.prototype={OnBookmarkClicked:function(e,t){var n=this.target.bookmarkClicked;null!=n&&n.call(this.target,e.Name)},OnContentLoaded:function(e,t){var n=this.target.contentLoaded;null!=n&&n.call(this.target)},OnContentSwitched:function(e,t){var n=this.target.contentSwitched;null!=n&&n.call(this.target)},OnContentFound:function(e,t){var n=this.target.contentFound;null!=n&&n.call(this.target,e.ContentIdentifier)},OnContentNotFound:function(e,t){var n=this.target.contentNotFound;null!=n&&n.call(this.target,e.ContentIdentifier)},OnDriverInfo:function(e,t){},OnEngaged:function(e,t){var n=this.target.engaged;null!=n&&n.call(this.target)},OnEnterFullscreen:function(e,t){var n=this.target.enterFullscreen;null!=n&&n.call(this.target)},OnLeaveFullscreen:function(e,t){var n=this.target.leaveFullscreen;null!=n&&n.call(this.target)},OnIntegrationLoaded:function(e,t){var n=this.target.integrationLoaded;null!=n&&n.call(this.target)},OnSupports3D:function(e,t){var n=this.target.supports3D;null!=n&&n.call(this.target,e.Supported)},OnResetNavigation:function(e,t){var n=this.target.resetNavigation;null!=n&&n.call(this.target)},OnRouteChanged:function(e,t){var n=this.target.routeChanged;null!=n&&n.call(this.target,e.Route)},OnCanShare:function(e,t){var n=this.target.canShare;null!=n&&n.call(this.target)},OnShareStarted:function(e,t){var n=this.target.shareStarted;null!=n&&n.call(this.target)},OnShareCompleted:function(e,t){var n=this.target.shareCompleted;null!=n&&n.call(this.target)},OnLinkFollowed:function(e,t){var n=this.target.linkFollowed;null!=n&&n.call(this.target,e.Href)},OnIntegrationDisplayMode:function(e,t){var n=this.target.integrationDisplayMode;null!=n&&n.call(this.target,e.IntegrationDisplayMode)},OnTestVariant:function(e,t){var n=this.target.testVariant;null!=n&&n.call(this.target,e.TestVariantName)},OnFlipperClicked:function(e,t){var n=this.target.flipperClicked;null!=n&&n.call(this.target,e.Direction)}};var ua=function(e,t,n){ea.call(this,e,n),this.state=t,this.settings=n,this.ExposeContentStateFeatureObserver=new da(this)};ua.__name__=!0,ua.__super__=ea,ua.prototype=i(ea.prototype,{_updateTarget:function(){return null==this.TargetProvider?null:(null!=this.Target&&(ll.RemoveClass(this.Target,this.settings.availableClass),ll.RemoveClass(this.Target,this.settings.unavailableClass)),this.TargetProvider.Value)},_updateStateApplied:function(){return null!=this.Target&&(this.state.ContentAvailable?(ll.AddClass(this.Target,this.settings.availableClass),ll.RemoveClass(this.Target,this.settings.unavailableClass)):(ll.RemoveClass(this.Target,this.settings.availableClass),ll.AddClass(this.Target,this.settings.unavailableClass)),!0)}});var da=function(e){var t=this;this.state_Target=!1,this.state_StateApplied=!1;var n=function(){e.Target=e._updateTarget(),t.state_Target=!0},a=function(){e.StateApplied=e._updateStateApplied(),t.state_StateApplied=!0},i=function(e,i){t.state_Target=b.ScheduleCallback(t.state_Target,n),t.state_StateApplied=b.ScheduleCallback(t.state_StateApplied,a)},r=function(e,i){t.state_Target=b.ScheduleCallback(t.state_Target,n),t.state_StateApplied=b.ScheduleCallback(t.state_StateApplied,a)},o=function(e,n){t.state_StateApplied=b.ScheduleCallback(t.state_StateApplied,a)};Ie.HiddenObserve(e,"Target",(function(e,i){t.state_Target=b.ScheduleCallback(t.state_Target,n),t.state_StateApplied=b.ScheduleCallback(t.state_StateApplied,a)})),Ie.HiddenObserve(e,"settings",(function(e,o){null!=e&&(Ie.HiddenForget(e,"availableClass",i),Ie.HiddenForget(e,"unavailableClass",r)),null!=o&&(Ie.HiddenObserve(o,"availableClass",i),Ie.HiddenObserve(o,"unavailableClass",r)),t.state_Target=b.ScheduleCallback(t.state_Target,n),t.state_StateApplied=b.ScheduleCallback(t.state_StateApplied,a)})),Ie.HiddenObserve(e,"state",(function(e,n){null!=e&&Ie.HiddenForget(e,"ContentAvailable",o),null!=n&&Ie.HiddenObserve(n,"ContentAvailable",o),t.state_StateApplied=b.ScheduleCallback(t.state_StateApplied,a)}));var s=function(e,a){t.state_Target=b.ScheduleCallback(t.state_Target,n)};Ie.HiddenObserve(e,"TargetProvider",(function(e,a){null!=e&&Ie.HiddenForget(e,"Value",s),null!=a&&Ie.HiddenObserve(a,"Value",s),t.state_Target=b.ScheduleCallback(t.state_Target,n)})),n(),a()};da.__name__=!0;var ca=function(e){var t,n=e.sendTarget;switch(null==n&&(n="ga"),n){case"ga":t=new ba(e,window);break;case"gtag":t=new ga(e,window);break;case"gtm":t=new ha(e,window)}new va(new V(null,t))};ca.__name__=!0;var ha=function(e,t){this.defaultEventName="track",this.defaultDataLayerName="dataLayer",this.settings=e,this.provider=t,this.GTMEndpointObserver=new _a(this)};ha.__name__=!0,ha.prototype={_updateDataLayerName:function(){return null==this.settings||null==this.settings.googleTagManagerDatalayer||null==this.settings.googleTagManagerDatalayer.name?this.defaultDataLayerName:this.settings.googleTagManagerDatalayer.name},_updateEventName:function(){return null==this.settings||null==this.settings.googleTagManagerDatalayer||null==this.settings.googleTagManagerDatalayer.eventName?this.defaultEventName:this.settings.googleTagManagerDatalayer.eventName},getDataLayer:function(){var e=this.provider[this.DataLayerName];return null==e||null==e.push?null:e},TryToSendMessages:function(e){var t=this.getDataLayer();if(null==t)return!1;for(var n=0;n<e.length;){var a=e[n];if(++n,-1!=this.settings.events.indexOf(a.data.action)){var i={event:this.EventName,eventAction:a.data.action};null!=a.data.label&&(i.eventLabel=a.data.label),null!=this.settings.category&&(i.eventCategory=this.settings.category),t.push(i)}}return!0}};var _a=function(e){var t=this;this.state_DataLayerName=!1,this.state_EventName=!1;var n=function(){e.DataLayerName=e._updateDataLayerName(),t.state_DataLayerName=!0},a=function(){e.EventName=e._updateEventName(),t.state_EventName=!0},i=function(e,i){t.state_DataLayerName=b.ScheduleCallback(t.state_DataLayerName,n),t.state_EventName=b.ScheduleCallback(t.state_EventName,a)};Ie.HiddenObserve(e,"settings",(function(e,r){null!=e&&Ie.HiddenForget(e,"googleTagManagerDatalayer",i),null!=r&&Ie.HiddenObserve(r,"googleTagManagerDatalayer",i),t.state_DataLayerName=b.ScheduleCallback(t.state_DataLayerName,n),t.state_EventName=b.ScheduleCallback(t.state_EventName,a)})),Ie.HiddenObserve(e,"defaultDataLayerName",(function(e,a){t.state_DataLayerName=b.ScheduleCallback(t.state_DataLayerName,n)})),Ie.HiddenObserve(e,"defaultEventName",(function(e,n){t.state_EventName=b.ScheduleCallback(t.state_EventName,a)})),n(),a()};_a.__name__=!0;var ga=function(e,t){this.settings=e,this.provider=t};ga.__name__=!0,ga.prototype={gtagAvailable:function(){return null!=this.provider&&null!=this.provider.gtag},TryToSendMessages:function(e){if(!this.gtagAvailable())return!1;for(var t=0;t<e.length;){var n=e[t];if(++t,-1!=this.settings.events.indexOf(n.data.action)){var a={};null!=this.settings.category&&(a.event_category=this.settings.category),null!=n.data.label&&(a.event_label=n.data.label),null!=n.nonInteraction&&(a.non_interaction=n.nonInteraction),this.provider.gtag("event",n.data.action,a)}}return!0}};var va=function(e){if(null==e)throw new rl("Argument null exception. Parameter: endpoint");this.endpoint=e,new y(this)};va.__name__=!0,va.prototype={OnBookmarkClicked:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"BookmarkClicked",label:e.Name},timestamp:t,nonInteraction:!1}])},OnContentLoaded:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"ContentLoaded",label:null},timestamp:t,nonInteraction:!0}])},OnContentSwitched:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"ContentSwitched",label:null},timestamp:t,nonInteraction:!0}])},OnContentFound:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"ContentFound",label:e.ContentIdentifier},timestamp:t,nonInteraction:!0}])},OnContentNotFound:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"ContentNotFound",label:e.ContentIdentifier},timestamp:t,nonInteraction:!0}])},OnDriverInfo:function(e,t){},OnEngaged:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"Engaged",label:null},timestamp:t,nonInteraction:!1}])},OnEnterFullscreen:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"EnterFullscreen",label:null},timestamp:t,nonInteraction:!1}])},OnLeaveFullscreen:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"LeaveFullscreen",label:null},timestamp:t,nonInteraction:!1}])},OnIntegrationLoaded:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"IntegrationLoaded",label:null},timestamp:t,nonInteraction:!0}])},OnSupports3D:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"Supports3D",label:e.Supported?"true":"false: "+e.Reason},timestamp:t,nonInteraction:!0}])},OnResetNavigation:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"ResetNavigation",label:null},timestamp:t,nonInteraction:!1}])},OnRouteChanged:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"RouteChanged",label:e.Route},timestamp:t,nonInteraction:!0}])},OnCanShare:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"CanShare",label:null},timestamp:t,nonInteraction:!0}])},OnShareStarted:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"ShareStarted",label:null},timestamp:t,nonInteraction:!1}])},OnShareCompleted:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"ShareCompleted",label:null},timestamp:t,nonInteraction:!1}])},OnLinkFollowed:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"LinkFollowed",label:e.Href},timestamp:t,nonInteraction:!1}])},OnIntegrationDisplayMode:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"IntegrationDisplayMode",label:e.IntegrationDisplayMode},timestamp:t,nonInteraction:!0}])},OnTestVariant:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"TestVariant",label:e.TestVariantName},timestamp:t,nonInteraction:!0}])},OnFlipperClicked:function(e,t){this.endpoint.TryToSendMessages([{data:{action:"FlipperClicked",label:""+e.Direction},timestamp:t,nonInteraction:!1}])}};var ba=function(e,t){this.settings=e,this.provider=t};ba.__name__=!0,ba.prototype={getTracker:function(){if(!this.gaAvailable())return null;var e=this.provider.ga.getAll();if(null==this.settings||null==this.settings.googleAnalyticsObject||null==this.settings.googleAnalyticsObject.trackingId)return e[0];for(var t=[],n=0;n<e.length;){var a=e[n];++n,a.get("trackingId")==this.settings.googleAnalyticsObject.trackingId&&t.push(a)}return t[0]},gaAvailable:function(){return null!=this.provider&&null!=this.provider.ga&&null!=this.provider.ga.getAll},TryToSendMessages:function(e){var t=this.getTracker();if(null==t)return!1;for(var n=0;n<e.length;){var a=e[n];if(++n,-1!=this.settings.events.indexOf(a.data.action)){var i={eventCategory:this.settings.category,eventAction:a.data.action};null!=a.data.label&&(i.eventLabel=a.data.label),null!=a.nonInteraction&&(i.nonInteraction=a.nonInteraction),t.send("event",i)}}return!0}};var fa=function(e,t){this.stringFactory=e,this.settings=t,this.MarkElementsFeatureObserver=new pa(this)};fa.__name__=!0,fa.prototype={_updateSelector:function(){return null==this.settings||null==this.settings.selector?null:this.stringFactory.Create(this.settings.selector)},_updateTargetElementQuery:function(){if(null==this.Selector)return null;if(tl.IsNullOrWhiteSpace(this.Selector.Value))return null;var e=null==this.settings.childOfRootTarget||this.settings.childOfRootTarget?'[data-binkies-content="pageTarget"] ':"";return e+=this.Selector.Value,new vt(e)},_updateMarker:function(){return null==this.settings||null==this.settings.marker?null:this.stringFactory.Create(this.settings.marker)},_updateElements:function(){if(null!=this.Elements)for(var e=0,t=this.Elements;e<t.length;)t[e++].removeAttribute("data-binkies-content");return null==this.TargetElementQuery||null==this.TargetElementQuery.Result?null:this.TargetElementQuery.Result.slice()},_updateElementsChanged:function(){if(null==this.Elements)return null;if(null==this.Marker||null==this.Marker.Value)return null;for(var e=0,t=this.Elements;e<t.length;)t[e++].setAttribute("data-binkies-content",this.Marker.Value);return null}};var pa=function(e){var t=this;this.state_Selector=!1,this.state_TargetElementQuery=!1,this.state_Marker=!1,this.state_Elements=!1,this.state_ElementsChanged=!1;var n=function(){e.Selector=e._updateSelector(),t.state_Selector=!0},a=function(){e.TargetElementQuery=e._updateTargetElementQuery(),t.state_TargetElementQuery=!0},i=function(){e.Marker=e._updateMarker(),t.state_Marker=!0},r=function(){e.Elements=e._updateElements(),t.state_Elements=!0},o=function(){e.ElementsChanged=e._updateElementsChanged(),t.state_ElementsChanged=!0},s=function(e,a){t.state_Selector=b.ScheduleCallback(t.state_Selector,n)},l=function(e,n){t.state_TargetElementQuery=b.ScheduleCallback(t.state_TargetElementQuery,a)},u=function(e,n){t.state_Marker=b.ScheduleCallback(t.state_Marker,i)},d=function(e,n){t.state_TargetElementQuery=b.ScheduleCallback(t.state_TargetElementQuery,a)},c=function(e,n){t.state_Elements=b.ScheduleCallback(t.state_Elements,r)},h=function(e,n){t.state_ElementsChanged=b.ScheduleCallback(t.state_ElementsChanged,o)};Ie.HiddenObserve(e,"settings",(function(e,r){null!=e&&(Ie.HiddenForget(e,"selector",s),Ie.HiddenForget(e,"childOfRootTarget",l),Ie.HiddenForget(e,"marker",u)),null!=r&&(Ie.HiddenObserve(r,"selector",s),Ie.HiddenObserve(r,"childOfRootTarget",l),Ie.HiddenObserve(r,"marker",u)),t.state_Selector=b.ScheduleCallback(t.state_Selector,n),t.state_TargetElementQuery=b.ScheduleCallback(t.state_TargetElementQuery,a),t.state_Marker=b.ScheduleCallback(t.state_Marker,i)})),Ie.HiddenObserve(e,"Selector",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",d),null!=n&&Ie.HiddenObserve(n,"Value",d),t.state_TargetElementQuery=b.ScheduleCallback(t.state_TargetElementQuery,a)})),Ie.HiddenObserve(e,"Elements",(function(e,n){t.state_Elements=b.ScheduleCallback(t.state_Elements,r),t.state_ElementsChanged=b.ScheduleCallback(t.state_ElementsChanged,o)})),Ie.HiddenObserve(e,"TargetElementQuery",(function(e,n){null!=e&&Ie.HiddenForget(e,"Result",c),null!=n&&Ie.HiddenObserve(n,"Result",c),t.state_Elements=b.ScheduleCallback(t.state_Elements,r)})),Ie.HiddenObserve(e,"Marker",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",h),null!=n&&Ie.HiddenObserve(n,"Value",h),t.state_ElementsChanged=b.ScheduleCallback(t.state_ElementsChanged,o)})),n(),a(),i(),r(),o()};pa.__name__=!0;var ma=function(e,t,n,a){this.settings=a,this.state=e,this.navigationFocusMode=t,this.boolFactory=n,this.FeatureObserver=new Sa(this)};ma.__name__=!0,ma.prototype={_updatedisableNavigation:function(){return null==this.settings||null==this.settings.disableNavigation?null:this.boolFactory.Create(this.settings.disableNavigation)},_updateCurrentNavigationFocus:function(){return null==this.state||null==this.disableNavigation?"none":this.state.ShowFullscreen?"canvas":this.disableNavigation.Value?"none":"product"},_updateSetNavigationFocus:function(){return this.navigationFocusMode.SetValue(this.CurrentNavigationFocus),!0}};var Sa=function(e){var t=this;this.state_disableNavigation=!1,this.state_CurrentNavigationFocus=!1,this.state_SetNavigationFocus=!1;var n=function(){e.disableNavigation=e._updatedisableNavigation(),t.state_disableNavigation=!0},a=function(){e.CurrentNavigationFocus=e._updateCurrentNavigationFocus(),t.state_CurrentNavigationFocus=!0},i=function(){e.SetNavigationFocus=e._updateSetNavigationFocus(),t.state_SetNavigationFocus=!0},r=function(e,a){t.state_disableNavigation=b.ScheduleCallback(t.state_disableNavigation,n)},o=function(e,n){t.state_CurrentNavigationFocus=b.ScheduleCallback(t.state_CurrentNavigationFocus,a)},s=function(e,n){t.state_CurrentNavigationFocus=b.ScheduleCallback(t.state_CurrentNavigationFocus,a)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"disableNavigation",r),null!=a&&Ie.HiddenObserve(a,"disableNavigation",r),t.state_disableNavigation=b.ScheduleCallback(t.state_disableNavigation,n)})),Ie.HiddenObserve(e,"state",(function(e,n){null!=e&&Ie.HiddenForget(e,"ShowFullscreen",o),null!=n&&Ie.HiddenObserve(n,"ShowFullscreen",o),t.state_CurrentNavigationFocus=b.ScheduleCallback(t.state_CurrentNavigationFocus,a)})),Ie.HiddenObserve(e,"disableNavigation",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",s),null!=n&&Ie.HiddenObserve(n,"Value",s),t.state_CurrentNavigationFocus=b.ScheduleCallback(t.state_CurrentNavigationFocus,a)})),Ie.HiddenObserve(e,"CurrentNavigationFocus",(function(e,n){t.state_SetNavigationFocus=b.ScheduleCallback(t.state_SetNavigationFocus,i)})),n(),a(),i()};Sa.__name__=!0;var Ca=function(e,t,n,a,i){ea.call(this,e,i),this.state=n,this.settings=i,this.route=a,this.fullscreenProvider=new hi("binkies-fullscreen","body",null!=i.overflowTarget?i.overflowTarget:"body");var r=new ya;r.Settings=i,r.ComponentFactory=t,new ye(this,r,new Pe({childList:!0})),this.FeatureObserver=new Va(this)};Ca.__name__=!0,Ca.__super__=ea,Ca.prototype=i(ea.prototype,{_updateIsFullscreen:function(){return null!=this.route&&this.route.ContainsFullscreen},_updateResetState:function(){return null!=this.TargetProvider&&null!=this.TargetProvider.Value||this.state.Reset(),!1},_updateMonitorActive:function(){return this.componentMonitor=new gt('[data-binkies-content="root"]'),!0},_updateUpdateCanShowContent:function(){var e=null!=this.componentMonitor.Result;return this.state.CanShowContent=e,this.state.CanShowFullscreen=null!=this.fullscreenProvider.Target,e},_updatePageTarget:function(){return null==this.TargetProvider?null:(null!=this.PageTarget&&this.PageTarget.removeAttribute("data-binkies-content"),null!=this.TargetProvider.Value&&this.TargetProvider.Value.setAttribute("data-binkies-content","pageTarget"),this.TargetProvider.Value)},_updateTarget:function(){return this.IsFullscreen?(this.fullscreenProvider.Enabled=!0,this.fullscreenProvider.Target):(this.fullscreenProvider.Enabled=!1,this.PageTarget)}});var ya=function(){this.originalPosition=null,De.call(this),this.FeatureComponentObserver=new ka(this)};ya.__name__=!0,ya.__super__=De,ya.prototype=i(De.prototype,{Mounted:function(){De.prototype.Mounted.call(this),this.ApplyPositionOverride(this.root.parentElement)},Unmount:function(){this.RemovePositionOverride(this.root.parentElement),De.prototype.Unmount.call(this)},BeforeRemount:function(){this.RemovePositionOverride(this.root.parentElement)},Remounted:function(){var e=this;this.ApplyPositionOverride(this.root.parentElement),this.root.removeAttribute("mounted"),window.requestAnimationFrame((function(t){e.root.setAttribute("mounted","true")}))},ApplyPositionOverride:function(e){null!=e&&"static"==window.getComputedStyle(e,null).getPropertyValue("position")&&(this.originalPosition=e.style.position,e.style.position="relative")},RemovePositionOverride:function(e){null!=e&&null!=this.originalPosition&&(e.style.position=this.originalPosition,this.originalPosition=null)},_updateComponent:function(){return null==this.ComponentFactory?null:this.ComponentFactory.Create(this.Settings.component)},_updateVirtualDom:function(){var e=Oe.CreateNode("div");return e.Events.click=function(e){e.stopPropagation()},null==this.Settings||(e.Attributes["data-binkies-content"]="root",e.Attributes.class="binkies-unselectable",e.Attributes.mounted="true",e.Attributes.style="position: absolute; left: 0; right: 0; top: 0; bottom: 0;",e.AddNode("style").AddText("#binkies-fullscreen\n\t\t{\n\t\t\tbackground-color: "+this.Settings.fullscreenBackgroundColor+";\n\t\t\tmax-height: 100%;\n\t\t}"),null!=this.Component&&null!=this.Component.Value&&e.AddChild(we.Clone(this.Component.Value))),e}});var ka=function(e){var t=this;this.state_Component=!1,this.state_VirtualDom=!1;var n=function(){e.Component=e._updateComponent(),t.state_Component=!0},a=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},i=function(e,a){t.state_Component=b.ScheduleCallback(t.state_Component,n)},r=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)},o=function(e,n){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)};Ie.HiddenObserve(e,"ComponentFactory",(function(e,a){t.state_Component=b.ScheduleCallback(t.state_Component,n)})),Ie.HiddenObserve(e,"Settings",(function(e,o){null!=e&&(Ie.HiddenForget(e,"component",i),Ie.HiddenForget(e,"fullscreenBackgroundColor",r)),null!=o&&(Ie.HiddenObserve(o,"component",i),Ie.HiddenObserve(o,"fullscreenBackgroundColor",r)),t.state_Component=b.ScheduleCallback(t.state_Component,n),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),Ie.HiddenObserve(e,"Component",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",o),null!=n&&Ie.HiddenObserve(n,"Value",o),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,a)})),n(),a()};ka.__name__=!0;var Va=function(e){var t=this;this.state_IsFullscreen=!1,this.state_ResetState=!1,this.state_MonitorActive=!1,this.state_UpdateCanShowContent=!1,this.state_PageTarget=!1,this.state_Target=!1;var n=function(){e.IsFullscreen=e._updateIsFullscreen(),t.state_IsFullscreen=!0},a=function(){e.ResetState=e._updateResetState(),t.state_ResetState=!0},i=function(){e.UpdateCanShowContent=e._updateUpdateCanShowContent(),t.state_UpdateCanShowContent=!0},r=function(){e.PageTarget=e._updatePageTarget(),t.state_PageTarget=!0},o=function(){e.Target=e._updateTarget(),t.state_Target=!0},s=function(e,a){t.state_IsFullscreen=b.ScheduleCallback(t.state_IsFullscreen,n)},l=function(e,n){t.state_UpdateCanShowContent=b.ScheduleCallback(t.state_UpdateCanShowContent,i)},u=function(e,n){t.state_UpdateCanShowContent=b.ScheduleCallback(t.state_UpdateCanShowContent,i),t.state_Target=b.ScheduleCallback(t.state_Target,o)};Ie.HiddenObserve(e,"route",(function(e,a){null!=e&&Ie.HiddenForget(e,"ContainsFullscreen",s),null!=a&&Ie.HiddenObserve(a,"ContainsFullscreen",s),t.state_IsFullscreen=b.ScheduleCallback(t.state_IsFullscreen,n)})),Ie.HiddenObserve(e,"componentMonitor",(function(e,n){null!=e&&Ie.HiddenForget(e,"Result",l),null!=n&&Ie.HiddenObserve(n,"Result",l),t.state_UpdateCanShowContent=b.ScheduleCallback(t.state_UpdateCanShowContent,i)})),Ie.HiddenObserve(e,"fullscreenProvider",(function(e,n){null!=e&&Ie.HiddenForget(e,"Target",u),null!=n&&Ie.HiddenObserve(n,"Target",u),t.state_UpdateCanShowContent=b.ScheduleCallback(t.state_UpdateCanShowContent,i),t.state_Target=b.ScheduleCallback(t.state_Target,o)})),Ie.HiddenObserve(e,"PageTarget",(function(e,n){t.state_PageTarget=b.ScheduleCallback(t.state_PageTarget,r),t.state_Target=b.ScheduleCallback(t.state_Target,o)})),Ie.HiddenObserve(e,"IsFullscreen",(function(e,n){t.state_Target=b.ScheduleCallback(t.state_Target,o)}));var d=function(e,n){t.state_ResetState=b.ScheduleCallback(t.state_ResetState,a),t.state_PageTarget=b.ScheduleCallback(t.state_PageTarget,r)};Ie.HiddenObserve(e,"TargetProvider",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",d),null!=n&&Ie.HiddenObserve(n,"Value",d),t.state_ResetState=b.ScheduleCallback(t.state_ResetState,a),t.state_PageTarget=b.ScheduleCallback(t.state_PageTarget,r)})),n(),a(),e.MonitorActive=e._updateMonitorActive(),t.state_MonitorActive=!0,i(),r(),o()};Va.__name__=!0;var Ha=function(e,t,n,a){ea.call(this,e,a),this.route=t,this.state=n,this.settings=a,this.RouteButtonFeatureObserver=new Oa(this)};Ha.__name__=!0,Ha.__super__=ea,Ha.prototype=i(ea.prototype,{_updateTarget:function(){return null==this.TargetProvider?null:(null!=this.Target&&this.Target.removeEventListener("click",dl(this,this.Clicked)),null!=this.TargetProvider.Value&&this.TargetProvider.Value.addEventListener("click",dl(this,this.Clicked)),this.TargetProvider.Value)},Clicked:function(){this.state.ContentAvailable&&this.route.GoTo(this.settings.route)}});var Oa=function(e){var t=this;this.state_Target=!1;var n=function(){e.Target=e._updateTarget(),t.state_Target=!0};Ie.HiddenObserve(e,"Target",(function(e,a){t.state_Target=b.ScheduleCallback(t.state_Target,n)}));var a=function(e,a){t.state_Target=b.ScheduleCallback(t.state_Target,n)};Ie.HiddenObserve(e,"TargetProvider",(function(e,i){null!=e&&Ie.HiddenForget(e,"Value",a),null!=i&&Ie.HiddenObserve(i,"Value",a),t.state_Target=b.ScheduleCallback(t.state_Target,n)})),n()};Oa.__name__=!0;var wa=function(e,t){this.settings=t,this.route=e,this.FeatureObserver=new Fa(this)};wa.__name__=!0,wa.prototype={_updateMode:function(){if(null!=this.Mode&&this.Mode.Dispose(),"urlparameter"===this.settings.mode)return new Ia("binkies-route",this.route)}};var Fa=function(e){var t=this;this.state_Mode=!1;var n=function(){e.Mode=e._updateMode(),t.state_Mode=!0},a=function(e,a){t.state_Mode=b.ScheduleCallback(t.state_Mode,n)};Ie.HiddenObserve(e,"Mode",(function(e,a){t.state_Mode=b.ScheduleCallback(t.state_Mode,n)})),Ie.HiddenObserve(e,"settings",(function(e,i){null!=e&&Ie.HiddenForget(e,"mode",a),null!=i&&Ie.HiddenObserve(i,"mode",a),t.state_Mode=b.ScheduleCallback(t.state_Mode,n)})),Ie.HiddenObserve(e,"route",(function(e,a){t.state_Mode=b.ScheduleCallback(t.state_Mode,n)})),n()};Fa.__name__=!0;var xa=function(e){this.route=e,window.addEventListener("hashchange",dl(this,this.HashChangeHandler)),this.HashChangeHandler(),this.AnchorModeObserver=new Da(this)};xa.__name__=!0,xa.prototype={Dispose:function(){window.removeEventListener("hashchange",dl(this,this.HashChangeHandler))},_updateRouteChanged:function(){return this.scrollX=window.scrollX,this.scrollY=window.scrollY,window.location.hash=c.replace(this.route.Value,"/","_"),window.scrollTo(this.scrollX,this.scrollY),null},HashChangeHandler:function(){this.route.GoTo(c.replace(c.replace(window.location.hash.toLowerCase(),"#",""),"_","/"))}};var Da=function(e){var t=this;this.state_RouteChanged=!1;var n=function(){e.RouteChanged=e._updateRouteChanged(),t.state_RouteChanged=!0},a=function(e,a){t.state_RouteChanged=b.ScheduleCallback(t.state_RouteChanged,n)};Ie.HiddenObserve(e,"route",(function(e,i){null!=e&&Ie.HiddenForget(e,"Value",a),null!=i&&Ie.HiddenObserve(i,"Value",a),t.state_RouteChanged=b.ScheduleCallback(t.state_RouteChanged,n)})),Ie.HiddenObserve(e,"scrollX",(function(e,a){t.state_RouteChanged=b.ScheduleCallback(t.state_RouteChanged,n)})),Ie.HiddenObserve(e,"scrollY",(function(e,a){t.state_RouteChanged=b.ScheduleCallback(t.state_RouteChanged,n)})),n()};Da.__name__=!0;var Pa=function(e){this.route=e,window.addEventListener("popstate",dl(this,this.StateChangedHandler)),this.StateChangedHandler(),this.StateModeObserver=new Aa(this)};Pa.__name__=!0,Pa.prototype={Dispose:function(){window.removeEventListener("popstate",dl(this,this.StateChangedHandler))},_updateRouteChanged:function(){return this.getCurrentRoute()==this.route.Value||window.history.pushState({route:this.route.Value},"binkies-route"),null},StateChangedHandler:function(){var e=this.getCurrentRoute();null!=e&&this.route.GoTo(e)},getCurrentRoute:function(){var e=window.history.state;return null==e?null:e.route}};var Aa=function(e){var t=this;this.state_RouteChanged=!1;var n=function(){e.RouteChanged=e._updateRouteChanged(),t.state_RouteChanged=!0},a=function(e,a){t.state_RouteChanged=b.ScheduleCallback(t.state_RouteChanged,n)};Ie.HiddenObserve(e,"route",(function(e,i){null!=e&&Ie.HiddenForget(e,"Value",a),null!=i&&Ie.HiddenObserve(i,"Value",a),t.state_RouteChanged=b.ScheduleCallback(t.state_RouteChanged,n)})),n()};Aa.__name__=!0;var Ia=function(e,t){this.urlParameter=e,this.route=t,window.addEventListener("popstate",dl(this,this.StateChangedHandler)),window.addEventListener("locationchange",dl(this,this.LocationChangeHandler)),this.LocationChangeHandler(),this.URLParameterModeObserver=new Ta(this)};Ia.__name__=!0,Ia.prototype={Dispose:function(){window.removeEventListener("popstate",dl(this,this.StateChangedHandler)),window.removeEventListener("locationchange",dl(this,this.LocationChangeHandler))},_updateRouteChanged:function(){var e=this.getCurrentRoute();if(e==this.route.Value)return null;var t=new URL(window.location.href),n=c.replace(this.route.Value,"/","_");n.length>0?t.searchParams.set(this.urlParameter,n):t.searchParams.delete(this.urlParameter);var a=null!=e&&s.has(e.split("/"),"fullscreen");if(a&&!this.route.ContainsFullscreen)window.history.back();else if(!a&&this.route.ContainsFullscreen){var i=this.getState();i.binkiesRoute=this.route.Value,window.history.pushState(i,"",t.href)}else{var r=this.getState();r.binkiesRoute=this.route.Value,window.history.replaceState(r,"",t.href)}return null},StateChangedHandler:function(){var e=this.getCurrentRoute();this.route.GoTo(e)},getCurrentRoute:function(){var e=this.getState();return null==e.binkiesRoute?"":e.binkiesRoute},getState:function(){var e=window.history.state;return null!=e&&u.isObject(e)||(e={binkiesRoute:""}),e},LocationChangeHandler:function(){var e=new URL(window.location.href).searchParams.get(this.urlParameter);e=null==e?"":e,this.route.GoTo(c.replace(e,"_","/"))}};var Ta=function(e){var t=this;this.state_RouteChanged=!1;var n=function(){e.RouteChanged=e._updateRouteChanged(),t.state_RouteChanged=!0},a=function(e,a){t.state_RouteChanged=b.ScheduleCallback(t.state_RouteChanged,n)},i=function(e,a){t.state_RouteChanged=b.ScheduleCallback(t.state_RouteChanged,n)};Ie.HiddenObserve(e,"route",(function(e,r){null!=e&&(Ie.HiddenForget(e,"Value",a),Ie.HiddenForget(e,"ContainsFullscreen",i)),null!=r&&(Ie.HiddenObserve(r,"Value",a),Ie.HiddenObserve(r,"ContainsFullscreen",i)),t.state_RouteChanged=b.ScheduleCallback(t.state_RouteChanged,n)})),Ie.HiddenObserve(e,"urlParameter",(function(e,a){t.state_RouteChanged=b.ScheduleCallback(t.state_RouteChanged,n)})),n()};Ta.__name__=!0;var Ma=function(e,t){this.urlParameterName="binkies-testing",this.storageKey="binkies-testing";var n=this.DetermineActiveTestVariantName(t.testVariants);this.SetVariantInStorage(n),e.SetActiveTestVariantName(n)};Ma.__name__=!0,Ma.prototype={DetermineActiveTestVariantName:function(e){var t=this.GetTestVariantNameFromUrl();if(this.IsValidTestVariantName(t,e))return t;var n=this.GetTestVariantNameFromStorage();return this.IsValidTestVariantName(n,e)?n:n=this.RandomPickTestVariantName(Math.random(),e)},GetTestVariantNameFromUrl:function(){return new URL(window.location.href).searchParams.get(this.urlParameterName)},GetTestVariantNameFromStorage:function(){return Ma.storage.getItem(this.storageKey)},SetVariantInStorage:function(e){Ma.storage.setItem(this.storageKey,e)},IsValidTestVariantName:function(e,t){if(null==e)return!1;for(var n=0;n<t.length;)if(t[n++].name==e)return!0;return!1},RandomPickTestVariantName:function(e,t){for(var n=0,a=0;a<t.length;)n+=Math.max(0,t[a++].chance);for(var i=n,r=0,o=0;o<t.length;){var s=t[o];if(++o,e<=(r+=s.chance)/i)return s.name}return null}};var Ra=function(){this.doubleTapExpired=null,this.isMinimizedKey="binkies-value-inspector-minimized",this.minimized=!1,Pt.call(this),Ra.cssAddedToPage||(this.AddStyleToHead("#value-inspector\n{\n\tbackground: white;\n\tbackground-color: rgba(255, 255, 255, 0.7);\n\tborder: 1px solid darkorange;\n\tz-index: 2147483647;\n\n\ttop: 10px;\n\tleft: 10px;\n}\n\n#value-inspector .binkies-dragger\n{\n\tpadding: 10px;\n\tbackground-color: rgba(255, 140, 0, 0.7);\n\tcolor: #fff;\n\tborder: 1px solid darkorange;\n}\n\n#debugger-header.minimized\n{\n\twidth: 30px;\n\theight: 15px;\n}"),Ra.cssAddedToPage=!0),this.ValueInspectionComponentObserver=new Na(this)};Ra.__name__=!0,Ra.__super__=Pt,Ra.prototype=i(Pt.prototype,{Mounted:function(){Pt.prototype.Mounted.call(this),this.minimized="true"==Ra.storage.getItem(this.isMinimizedKey)},ToggleMinimize:function(){this.minimized=!this.minimized,this.minimized?Ra.storage.setItem(this.isMinimizedKey,"true"):Ra.storage.removeItem(this.isMinimizedKey)},DoubleTap:function(e){1==e.touches.length&&(e.timeStamp<=this.doubleTapExpired?(e.preventDefault(),this.ToggleMinimize(),this.doubleTapExpired=null):this.doubleTapExpired=e.timeStamp+400)},_updateVirtualDom:function(){var e=this,t=function(t){e.DoubleTap(t)};t.hash=0;var n=function(){e.ToggleMinimize()};n.hash=1;var a=null;if((a=Oe.CreateNode("div")).Attributes.id="value-inspector",a.Attributes.class="binkies-draggable",1==this.minimized){var i=a.AddNode("div");i.Events.touchstart=t,i.Events.dblclick=n,i.Attributes.class="binkies-dragger minimized"}if(0==this.minimized){var r=a.AddNode("div");r.Events.touchstart=t,r.Events.dblclick=n,r.Attributes.class="binkies-dragger",r.AddText("\n\t\t\tValue Inspector\n\t\t");var o=a.AddNode("ul");if(null!=this.Values)for(var s=0,l=this.Values.length;s<l;){var u=s++;o.AddNode("li").AddText(this.Names[u]+': "'+this.Values[u].Value+'"')}}return null==a&&(a=Oe.CreateNode(this.converter.GetPlaceholderTag())),a}});var Na=function(e){var t=this;this.state_VirtualDom=!1;var n=function(){e.VirtualDom=e._updateVirtualDom(),t.state_VirtualDom=!0},a=function(e,a){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,n)};Ie.HiddenObserve(e,"minimized",(function(e,a){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,n)})),Ie.HiddenObserve(e,"Values",(function(e,i){null!=e&&Ie.HiddenForget(e,"Value",a),null!=i&&Ie.HiddenObserve(i,"Value",a),t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,n)})),Ie.HiddenObserve(e,"Names",(function(e,a){t.state_VirtualDom=b.ScheduleCallback(t.state_VirtualDom,n)})),n()};Na.__name__=!0;var La=function(e,t){this.stringFactory=e,this.settings=t,Ut.DebuggerEnabled()&&(this.component=new Ra,this.component.Mount(window.document.body),this.ValueInspectionFeatureObserver=new Ea(this))};La.__name__=!0,La.prototype={_updateInspectedValues:function(){var e=[];if(null==this.component)return e;for(var t=0,n=this.settings.values;t<n.length;)e.push(this.stringFactory.Create(n[t++].value));for(var a=this.settings.values,i=new Array(a.length),r=0,o=a.length;r<o;){var s=r++;i[s]=a[s].name}return this.component.Names=i,this.component.Values=e,e}};var Ea=function(e){var t=this;this.state_InspectedValues=!1;var n=function(){e.InspectedValues=e._updateInspectedValues(),t.state_InspectedValues=!0},a=function(e,a){t.state_InspectedValues=b.ScheduleCallback(t.state_InspectedValues,n)};Ie.HiddenObserve(e,"component",(function(e,a){t.state_InspectedValues=b.ScheduleCallback(t.state_InspectedValues,n)})),Ie.HiddenObserve(e,"settings",(function(e,i){null!=e&&Ie.HiddenForget(e,"values",a),null!=i&&Ie.HiddenObserve(i,"values",a),t.state_InspectedValues=b.ScheduleCallback(t.state_InspectedValues,n)})),n()};Ea.__name__=!0;var Ba=function(e,t){this.navigationFactory=e,this.comparisonCreated=t};Ba.__name__=!0,Ba.prototype={Create:function(e){return null==e?null:("comparison"==e.id.toLowerCase()&&this.comparisonCreated.SetValue(!0),this.navigationFactory.Create(e))}};var Wa=function(e,t,n,a,i,r,o,s){this.instantInit=!0,this.navigationManager=e,this.sceneManager=t,this.transitionFactory=n,this.activeBookmarkHandler=a,this.navigationFactory=i,this.contentQueue=r,this.comparisonContentQueue=o,this.route=s,this.NavigationFactoryObserver=new Ua(this)};Wa.__name__=!0,Wa.prototype={_updateIsFullscreen:function(){return null!=this.route&&this.route.ContainsFullscreen},_updateIsFullscreenChanged:function(){return null==this.IsFullscreen?null:(this.instantInit=!0,this.IsFullscreen)},Create:function(e){if(null==e)return null;var t,n=e.settings;switch(e.id.toLowerCase()){case"comparison":t=new Ga([new _(this.contentQueue),new _(this.comparisonContentQueue)],new Za(null==n.defaultOrientation?za.Bookmark("front"):za.Snapshot(n.defaultOrientation),this.transitionFactory,this.activeBookmarkHandler,this.instantInit,n),new Ya(this.navigationFactory),this.navigationManager,this.sceneManager);break;case"justviewing":t=new Ga([new _(this.contentQueue)],new oi(null==n.defaultOrientation?ri.Bookmark("front"):ri.Snapshot(n.defaultOrientation),this.transitionFactory,this.activeBookmarkHandler,this.instantInit,n),new ii(this.navigationFactory,ai.SmallObject),this.navigationManager,this.sceneManager);break;case"justviewinghotspo":t=new Ga([new _(this.contentQueue)],new oi(null==n.defaultOrientation?ri.Bookmark("front"):ri.Snapshot(n.defaultOrientation),this.transitionFactory,this.activeBookmarkHandler,this.instantInit,n),new ii(this.navigationFactory,ai.Hotspot),this.navigationManager,this.sceneManager)}if(this.instantInit=!1,null==t)throw new rl("Unknown definition id: "+e.id);return t}};var Ua=function(e){var t=this;this.state_IsFullscreen=!1,this.state_IsFullscreenChanged=!1;var n=function(){e.IsFullscreen=e._updateIsFullscreen(),t.state_IsFullscreen=!0},a=function(){e.IsFullscreenChanged=e._updateIsFullscreenChanged(),t.state_IsFullscreenChanged=!0},i=function(e,a){t.state_IsFullscreen=b.ScheduleCallback(t.state_IsFullscreen,n)};Ie.HiddenObserve(e,"route",(function(e,a){null!=e&&Ie.HiddenForget(e,"ContainsFullscreen",i),null!=a&&Ie.HiddenObserve(a,"ContainsFullscreen",i),t.state_IsFullscreen=b.ScheduleCallback(t.state_IsFullscreen,n)})),Ie.HiddenObserve(e,"IsFullscreen",(function(e,n){t.state_IsFullscreenChanged=b.ScheduleCallback(t.state_IsFullscreenChanged,a)})),n(),a()};Ua.__name__=!0;var Ga=function(e,t,n,a,i){this.items=e,this.stateMachine=t,this.controllerBuilder=n,this.navigationManager=a,this.sceneManager=i,this.SceneNavigationObserver=new Xa(this)};Ga.__name__=!0,Ga.prototype={Start:function(){this.running||(this.sceneManager.SetSceneItems(this.items),this.running=!0)},Stop:function(){this.running&&(this.stateMachine.Stop(),this.running=!1)},_updateProductsReady:function(){return null==this.stateMachine||null==this.items?null:null!=this.items[0].Composition&&(this.stateMachine.Start(),!0)},_updateState:function(){return null==this.navigationManager||null==this.controllerBuilder||null==this.stateMachine||null==this.stateMachine.State?null:this.State!=this.stateMachine.State&&this.running?(this.navigationManager.NavigationController.NavigationModel.ProductTransformModels.length>0&&this.navigationManager.SetNavigationController(this.controllerBuilder.Build(this.stateMachine.State,this.navigationManager.NavigationController)),this.stateMachine.State):this.State}};var Xa=function(e){var t=this;this.state_ProductsReady=!1,this.state_State=!1;var n=function(){e.ProductsReady=e._updateProductsReady(),t.state_ProductsReady=!0},a=function(){e.State=e._updateState(),t.state_State=!0},i=function(e,n){t.state_State=b.ScheduleCallback(t.state_State,a)},r=function(e,a){t.state_ProductsReady=b.ScheduleCallback(t.state_ProductsReady,n)},o=function(e,n){t.state_State=b.ScheduleCallback(t.state_State,a)},s=function(e,n){null!=e&&Ie.HiddenForget(e,"ProductTransformModels",o),null!=n&&Ie.HiddenObserve(n,"ProductTransformModels",o),t.state_State=b.ScheduleCallback(t.state_State,a)},l=function(e,n){null!=e&&Ie.HiddenForget(e,"NavigationModel",s),null!=n&&Ie.HiddenObserve(n,"NavigationModel",s),t.state_State=b.ScheduleCallback(t.state_State,a)};Ie.HiddenObserve(e,"stateMachine",(function(e,r){null!=e&&Ie.HiddenForget(e,"State",i),null!=r&&Ie.HiddenObserve(r,"State",i),t.state_ProductsReady=b.ScheduleCallback(t.state_ProductsReady,n),t.state_State=b.ScheduleCallback(t.state_State,a)})),Ie.HiddenObserve(e,"items",(function(e,a){null!=e&&Ie.HiddenForget(e,"Composition",r),null!=a&&Ie.HiddenObserve(a,"Composition",r),t.state_ProductsReady=b.ScheduleCallback(t.state_ProductsReady,n)})),Ie.HiddenObserve(e,"navigationManager",(function(e,n){null!=e&&Ie.HiddenForget(e,"NavigationController",l),null!=n&&Ie.HiddenObserve(n,"NavigationController",l),t.state_State=b.ScheduleCallback(t.state_State,a)})),Ie.HiddenObserve(e,"controllerBuilder",(function(e,n){t.state_State=b.ScheduleCallback(t.state_State,a)})),Ie.HiddenObserve(e,"State",(function(e,n){t.state_State=b.ScheduleCallback(t.state_State,a)})),Ie.HiddenObserve(e,"running",(function(e,n){t.state_State=b.ScheduleCallback(t.state_State,a)})),n(),a()};Xa.__name__=!0;var Ya=function(e){this.navigationFactory=e};Ya.__name__=!0,Ya.prototype={Build:function(e,t,n){null==n&&(n=!1);var a=this.navigationFactory.Create(Ko.SnapShot(t));switch(e._hx_index){case 0:return this.HandleInit(e.state,t,e.instant);case 1:return this.HandleBookmark(this.convertBookmarkToQuaternion(e.bookmark),a,n,!0);case 2:return this.HandleBookmark(this.convertOrientationToQuaternion(e.orientation),a,n,!0);case 3:case 4:return t;case 5:return this.HandleNavigate(a);case 6:return this.HandleAutoRotate(a,n)}},HandleInit:function(e,t,n){switch(e._hx_index){case 1:return this.HandleBookmark(this.convertBookmarkToQuaternion(e.bookmark),t,n,!1);case 2:return this.HandleBookmark(this.convertOrientationToQuaternion(e.orientation),t,n,!1);default:return this.Build(e,t,n)}},HandleBookmark:function(e,t,n,a){var i=this.navigationFactory.Create(Ko.Bookmark([e,e],-t.NavigationModel.CameraPosition.Z,t.NavigationModel.CameraFieldOfView));return i=this.navigationFactory.Create(Ko.SizeComparePositionate(i)),i=this.navigationFactory.Create(Ko.SizeCompareKeepOnScreen(i)),i=this.navigationFactory.Create(Ko.Blend(t,i,n?0:null)),a&&(i=this.navigationFactory.Create(Ko.SizeComparePositionate(i))),i},HandleNavigate:function(e){var t=this.navigationFactory.Create(Ko.SizeCompareRotate(e));return t=this.navigationFactory.Create(Ko.SizeComparePositionate(t)),t=this.navigationFactory.Create(Ko.SizeCompareKeepOnScreen(t))},HandleAutoRotate:function(e,t){var n=this.getStandingOrientation(e.NavigationModel.ProductTransformModels[0].ProductOrientation),a=this.navigationFactory.Create(Ko.Bookmark([n,n],-e.NavigationModel.CameraPosition.Z,e.NavigationModel.CameraFieldOfView));return a=this.navigationFactory.Create(Ko.AutoRotate(a)),a=this.navigationFactory.Create(Ko.SizeComparePositionate(a)),a=this.navigationFactory.Create(Ko.SizeCompareKeepOnScreen(a)),a=this.navigationFactory.Create(Ko.Blend(e,a,t?0:null))},convertOrientationToQuaternion:function(e){return Co.FromYawPitchRoll(.017453292519943*e.yaw,.017453292519943*e.pitch,.017453292519943*e.roll)},convertBookmarkToQuaternion:function(e){switch(e){case"back":return{X:0,Y:0,Z:0,W:1};case"bottom":var t=-.5*Math.PI,n=Math.sin(.5*t),a=Math.cos(.5*t),i=.5*Math.PI-1e-4,r=Math.sin(.5*i),o=Math.cos(.5*i);return{X:0*o+0*a+n*r,Y:n*o+0*a-0*r,Z:0*o+a*r-0*n,W:a*o-0*n-0*r};case"front":var s=Math.PI;return{X:0,Y:Math.sin(.5*s),Z:0,W:Math.cos(.5*s)};case"left":var l=-.5*Math.PI;return{X:0,Y:Math.sin(.5*l),Z:0,W:Math.cos(.5*l)};case"right":var u=.5*Math.PI;return{X:0,Y:Math.sin(.5*u),Z:0,W:Math.cos(.5*u)};case"top":var d=-.5*Math.PI,c=Math.sin(.5*d),h=Math.cos(.5*d),_=.5*-Math.PI+1e-4,g=Math.sin(.5*_),v=Math.cos(.5*_);return{X:0*v+0*h+c*g,Y:c*v+0*h-0*g,Z:0*v+h*g-0*c,W:h*v-0*c-0*g};default:return null}},getStandingOrientation:function(e){var t=e.Y,n=e.W,a=Math.sqrt(t*t+n*n);return{X:0*(a=0==a?1:1/a),Y:t*a,Z:0*a,W:n*a}}};var za=a["binkies.integration.navigation.comparison.ComparisonState"]={__ename__:!0,__constructs__:["Init","Bookmark","Snapshot","Timeout","InitTimeout","Navigate","AutoRotate"],Init:(t=function(e,t){return{_hx_index:0,state:e,instant:t,__enum__:"binkies.integration.navigation.comparison.ComparisonState",toString:n}},t.__params__=["state","instant"],t),Bookmark:(t=function(e){return{_hx_index:1,bookmark:e,__enum__:"binkies.integration.navigation.comparison.ComparisonState",toString:n}},t.__params__=["bookmark"],t),Snapshot:(t=function(e){return{_hx_index:2,orientation:e,__enum__:"binkies.integration.navigation.comparison.ComparisonState",toString:n}},t.__params__=["orientation"],t),Timeout:{_hx_index:3,__enum__:"binkies.integration.navigation.comparison.ComparisonState",toString:n},InitTimeout:{_hx_index:4,__enum__:"binkies.integration.navigation.comparison.ComparisonState",toString:n},Navigate:{_hx_index:5,__enum__:"binkies.integration.navigation.comparison.ComparisonState",toString:n},AutoRotate:{_hx_index:6,__enum__:"binkies.integration.navigation.comparison.ComparisonState",toString:n}},Za=function(e,t,n,a,i){var r=null==i.autoRotation||i.autoRotation;this.stateMachine=new Ts(za.Init(e,a),[{State:za.Init(null,null),Transitions:[t.Timeout(1e3,za.InitTimeout)]},{State:za.InitTimeout,Transitions:[r?t.Timeout(2e3,za.AutoRotate):t.Noop(),t.StartInteracting(za.Navigate),t.BookmarkClicked((function(e){return za.Bookmark(e)}))]},{State:za.Bookmark(null),Transitions:[t.GoTo(za.Timeout)]},{State:za.AutoRotate,Transitions:[t.BookmarkClicked((function(e){return za.Bookmark(e)})),t.StartInteracting(za.Navigate),t.ResetNavigation(za.Init(e,!1))]},{State:za.Timeout,Transitions:[r?t.Timeout(5e3,za.AutoRotate):t.Noop(),t.StartInteracting(za.Navigate),t.BookmarkClicked((function(e){return za.Bookmark(e)})),t.ResetNavigation(za.Init(e,!1))]},{State:za.Navigate,Transitions:[t.BookmarkClicked((function(e){return za.Bookmark(e)})),t.ResetNavigation(za.Init(e,!1)),t.StoppedInteracting(za.Timeout)]},{State:za.Snapshot(null),Transitions:[t.GoTo(za.Timeout)]}]),this.activeBookmarkHandler=n,this.ComparisonStateMachineObserver=new Qa(this)};Za.__name__=!0,Za.prototype={_updateState:function(){var e=this.stateMachine.State;return this.handleState(e),e},handleState:function(e){if(null!=e)switch(e._hx_index){case 0:this.activeBookmarkHandler.SetValue(null),this.handleState(e.state);break;case 1:this.activeBookmarkHandler.SetValue(e.bookmark);break;case 5:case 6:this.activeBookmarkHandler.SetValue(null)}},Start:function(){this.stateMachine.Start()},Stop:function(){this.stateMachine.Stop()}};var Qa=function(e){var t=this;this.state_State=!1;var n=function(){e.State=e._updateState(),t.state_State=!0},a=function(e,a){t.state_State=b.ScheduleCallback(t.state_State,n)};Ie.HiddenObserve(e,"stateMachine",(function(e,i){null!=e&&Ie.HiddenForget(e,"State",a),null!=i&&Ie.HiddenObserve(i,"State",a),t.state_State=b.ScheduleCallback(t.state_State,n)})),n()};Qa.__name__=!0;var ja=function(e,t){this.primaryInput=e,this.secondaryInput=t,this.GestureAdapterObserver=new qa(this)};ja.__name__=!0,ja.prototype={_updateprimaryInputActive:function(){return this.primaryInput.Gesture!=cs.None},_updateGesture:function(){return this.primaryInputActive?this.primaryInput.Gesture:this.secondaryInput.Gesture},Update:function(e,t){this.primaryInput.Update(e,t),this.secondaryInput.Update(e,t)},_updateIsUserInteracting:function(){return this.primaryInputActive?this.primaryInput.IsUserInteracting:this.secondaryInput.IsUserInteracting}};var qa=function(e){var t=this;this.state_primaryInputActive=!1,this.state_Gesture=!1,this.state_IsUserInteracting=!1;var n=function(){e.primaryInputActive=e._updateprimaryInputActive(),t.state_primaryInputActive=!0},a=function(){e.Gesture=e._updateGesture(),t.state_Gesture=!0},i=function(){e.IsUserInteracting=e._updateIsUserInteracting(),t.state_IsUserInteracting=!0},r=function(e,i){t.state_primaryInputActive=b.ScheduleCallback(t.state_primaryInputActive,n),t.state_Gesture=b.ScheduleCallback(t.state_Gesture,a)},o=function(e,n){t.state_IsUserInteracting=b.ScheduleCallback(t.state_IsUserInteracting,i)},s=function(e,n){t.state_Gesture=b.ScheduleCallback(t.state_Gesture,a)},l=function(e,n){t.state_IsUserInteracting=b.ScheduleCallback(t.state_IsUserInteracting,i)};Ie.HiddenObserve(e,"primaryInput",(function(e,s){null!=e&&(Ie.HiddenForget(e,"Gesture",r),Ie.HiddenForget(e,"IsUserInteracting",o)),null!=s&&(Ie.HiddenObserve(s,"Gesture",r),Ie.HiddenObserve(s,"IsUserInteracting",o)),t.state_primaryInputActive=b.ScheduleCallback(t.state_primaryInputActive,n),t.state_Gesture=b.ScheduleCallback(t.state_Gesture,a),t.state_IsUserInteracting=b.ScheduleCallback(t.state_IsUserInteracting,i)})),Ie.HiddenObserve(e,"primaryInputActive",(function(e,n){t.state_Gesture=b.ScheduleCallback(t.state_Gesture,a),t.state_IsUserInteracting=b.ScheduleCallback(t.state_IsUserInteracting,i)})),Ie.HiddenObserve(e,"secondaryInput",(function(e,n){null!=e&&(Ie.HiddenForget(e,"Gesture",s),Ie.HiddenForget(e,"IsUserInteracting",l)),null!=n&&(Ie.HiddenObserve(n,"Gesture",s),Ie.HiddenObserve(n,"IsUserInteracting",l)),t.state_Gesture=b.ScheduleCallback(t.state_Gesture,a),t.state_IsUserInteracting=b.ScheduleCallback(t.state_IsUserInteracting,i)})),n(),a(),i()};qa.__name__=!0;var Ka=function(e){this.Gesture=cs.None,this.inputProvider=e};Ka.__name__=!0,Ka.prototype={Update:function(e,t){e!=this.lastTime&&e!=this.lastTime&&(this.inputProvider.Update(e,t),this.lastTime=e,this.Gesture=cs.None,this.IsUserInteracting=!1,0!=this.inputProvider.ScrollTicks&&(this.AddGesture(cs.Zoom(this.inputProvider.InputPointA.Position,1+this.inputProvider.ScrollTicks*t)),this.IsUserInteracting=!0),!this.inputProvider.InputPointA.Down&&this.inputProvider.InputPointB.Down&&(this.AddGesture(cs.Pan(this.inputProvider.InputPointB.Position,this.inputProvider.InputPointB.Delta)),this.IsUserInteracting=!0),this.inputProvider.InputPointA.Down&&!this.inputProvider.InputPointB.Down&&(this.AddGesture(cs.Rotate(this.inputProvider.InputPointA.Delta.X,this.inputProvider.InputPointA.Delta.Y)),this.IsUserInteracting=!0))},AddGesture:function(e){var t=this.Gesture;switch(t._hx_index){case 0:this.Gesture=e;break;case 5:t.gestures.push(e);break;default:this.Gesture=cs.Multiple([this.Gesture,e])}}};var Ja=function(e,t){this.scrollDirectionThisFrame=0,new hs(e),this.element=e,this.navigationFocusMode=t,this.InputPointA=new vs(e,"left"),this.InputPointB=new vs(e,"right"),this.MouseInputProviderObserver=new $a(this)};Ja.__name__=!0,Ja.prototype={_updateScrollTicks:function(){return this.scrollDirectionThisFrame},_updateNavigationFocusEnabled:function(){return"none"!=this.navigationFocusMode.Value},_updateNavigationFocusEnabledChanged:function(){return this.NavigationFocusEnabled?(this.InputPointA.Enable(),this.InputPointB.Enable(),this.element.addEventListener("wheel",dl(this,this.Wheel))):(this.InputPointA.Disable(),this.InputPointB.Disable(),this.element.removeEventListener("wheel",dl(this,this.Wheel))),!1},Update:function(e,t){this.NavigationFocusEnabled&&(this.InputPointA.Update(),this.InputPointB.Update(),this.scrollDirectionThisFrame=0)},Wheel:function(e){var t=e.deltaY,n=0;t<0&&(n=-1),t>0&&(n=1),this.scrollDirectionThisFrame=n,e.preventDefault()}};var $a=function(e){var t=this;this.state_ScrollTicks=!1,this.state_NavigationFocusEnabled=!1,this.state_NavigationFocusEnabledChanged=!1;var n=function(){e.ScrollTicks=e._updateScrollTicks(),t.state_ScrollTicks=!0},a=function(){e.NavigationFocusEnabled=e._updateNavigationFocusEnabled(),t.state_NavigationFocusEnabled=!0},i=function(){e.NavigationFocusEnabledChanged=e._updateNavigationFocusEnabledChanged(),t.state_NavigationFocusEnabledChanged=!0},r=function(e,n){t.state_NavigationFocusEnabled=b.ScheduleCallback(t.state_NavigationFocusEnabled,a)};Ie.HiddenObserve(e,"scrollDirectionThisFrame",(function(e,a){t.state_ScrollTicks=b.ScheduleCallback(t.state_ScrollTicks,n)})),Ie.HiddenObserve(e,"navigationFocusMode",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",r),null!=n&&Ie.HiddenObserve(n,"Value",r),t.state_NavigationFocusEnabled=b.ScheduleCallback(t.state_NavigationFocusEnabled,a)})),Ie.HiddenObserve(e,"NavigationFocusEnabled",(function(e,n){t.state_NavigationFocusEnabledChanged=b.ScheduleCallback(t.state_NavigationFocusEnabledChanged,i)})),n(),a(),i()};$a.__name__=!0;var ei=function(e){this.Gesture=cs.None,this.inputProvider=e};ei.__name__=!0,ei.prototype={Update:function(e,t){if(e!=this.lastTime&&e!=this.lastTime){if(this.inputProvider.Update(e,t),this.lastTime=e,this.Gesture=cs.None,this.IsUserInteracting=!1,this.inputProvider.InputPointA.Down&&this.inputProvider.InputPointB.Down){var n=this.inputProvider.InputPointB.Position,a=this.inputProvider.InputPointA.Position,i=n.X-a.X,r=n.Y-a.Y;null==this.previousVector&&(this.previousVector={X:i,Y:r});var o=this.inputProvider.InputPointA.Position,s=this.inputProvider.InputPointB.Position,l={X:o.X+.5*(s.X-o.X),Y:o.Y+.5*(s.Y-o.Y)},u=this.inputProvider.InputPointA.Delta,d=this.inputProvider.InputPointB.Delta,c={X:u.X+.5*(d.X-u.X),Y:u.Y+.5*(d.Y-u.Y)};1!=this.inputProvider.ZoomFactor&&this.AddGesture(cs.Zoom(l,this.inputProvider.ZoomFactor)),this.AddGesture(cs.Pan(l,c)),this.IsUserInteracting=!0;var h=Math.sqrt(i*i+r*r);h=0==h?1:1/h;var _=this.previousVector,g=Math.sqrt(_.X*_.X+_.Y*_.Y);g=0==g?1:1/g;var v=_.X*g*(i*h)+_.Y*g*(r*h),b=v;v<-1?b=-1:v>1&&(b=1),this.AddGesture(cs.Roll(l,Math.acos(b)*(i*this.previousVector.Y-r*this.previousVector.X<0?1:-1))),this.IsUserInteracting=!0,this.previousVector.X=i,this.previousVector.Y=r}else this.previousVector=null;this.inputProvider.InputPointA.Down&&!this.inputProvider.InputPointB.Down&&(this.AddGesture(cs.Rotate(this.inputProvider.InputPointA.Delta.X,this.inputProvider.InputPointA.Delta.Y)),this.IsUserInteracting=!0)}},AddGesture:function(e){var t=this.Gesture;switch(t._hx_index){case 0:this.Gesture=e;break;case 5:t.gestures.push(e);break;default:this.Gesture=cs.Multiple([this.Gesture,e])}}};var ti=function(e,t){this.element=e,this.navigationFocusMode=t,this.InputPointA=new bs(e,0),this.InputPointB=new bs(e,1),this.TouchInputProviderObserver=new ni(this)};ti.__name__=!0,ti.prototype={_updateZoomFactor:function(){if(null==this.VectorAB)return 1;if(null==this.previousLength)return 1;if(0==this.previousLength)return 1;var e=this.VectorAB;return this.previousLength/Math.sqrt(e.X*e.X+e.Y*e.Y)},_updateVectorAB:function(){if(null==this.InputPointA||null==this.InputPointA.Position)return{X:0,Y:0};if(null==this.InputPointB||null==this.InputPointB.Position)return{X:0,Y:0};var e=this.InputPointA.Position,t=this.InputPointB.Position;return{X:e.X-t.X,Y:e.Y-t.Y}},_updateNavigationFocusEnabled:function(){return"none"!=this.navigationFocusMode.Value},_updateNavigationFocusEnabledChanged:function(){return this.NavigationFocusEnabled?(this.InputPointA.Enable(),this.InputPointB.Enable()):(this.InputPointA.Disable(),this.InputPointB.Disable()),!1},Update:function(e,t){if(this.NavigationFocusEnabled){this.InputPointA.Update(),this.InputPointB.Update();var n=this.VectorAB;this.previousLength=Math.sqrt(n.X*n.X+n.Y*n.Y)}}};var ni=function(e){var t=this;this.state_ZoomFactor=!1,this.state_VectorAB=!1,this.state_NavigationFocusEnabled=!1,this.state_NavigationFocusEnabledChanged=!1;var n=function(){e.ZoomFactor=e._updateZoomFactor(),t.state_ZoomFactor=!0},a=function(){e.VectorAB=e._updateVectorAB(),t.state_VectorAB=!0},i=function(){e.NavigationFocusEnabled=e._updateNavigationFocusEnabled(),t.state_NavigationFocusEnabled=!0},r=function(){e.NavigationFocusEnabledChanged=e._updateNavigationFocusEnabledChanged(),t.state_NavigationFocusEnabledChanged=!0},o=function(e,a){t.state_ZoomFactor=b.ScheduleCallback(t.state_ZoomFactor,n)},s=function(e,a){t.state_ZoomFactor=b.ScheduleCallback(t.state_ZoomFactor,n)},l=function(e,n){t.state_VectorAB=b.ScheduleCallback(t.state_VectorAB,a)},u=function(e,n){t.state_VectorAB=b.ScheduleCallback(t.state_VectorAB,a)},d=function(e,n){null!=e&&(Ie.HiddenForget(e,"X",l),Ie.HiddenForget(e,"Y",u)),null!=n&&(Ie.HiddenObserve(n,"X",l),Ie.HiddenObserve(n,"Y",u)),t.state_VectorAB=b.ScheduleCallback(t.state_VectorAB,a)},c=function(e,n){t.state_VectorAB=b.ScheduleCallback(t.state_VectorAB,a)},h=function(e,n){t.state_VectorAB=b.ScheduleCallback(t.state_VectorAB,a)},_=function(e,n){null!=e&&(Ie.HiddenForget(e,"X",c),Ie.HiddenForget(e,"Y",h)),null!=n&&(Ie.HiddenObserve(n,"X",c),Ie.HiddenObserve(n,"Y",h)),t.state_VectorAB=b.ScheduleCallback(t.state_VectorAB,a)},g=function(e,n){t.state_NavigationFocusEnabled=b.ScheduleCallback(t.state_NavigationFocusEnabled,i)};Ie.HiddenObserve(e,"VectorAB",(function(e,a){null!=e&&(Ie.HiddenForget(e,"X",o),Ie.HiddenForget(e,"Y",s)),null!=a&&(Ie.HiddenObserve(a,"X",o),Ie.HiddenObserve(a,"Y",s)),t.state_ZoomFactor=b.ScheduleCallback(t.state_ZoomFactor,n)})),Ie.HiddenObserve(e,"previousLength",(function(e,a){t.state_ZoomFactor=b.ScheduleCallback(t.state_ZoomFactor,n)})),Ie.HiddenObserve(e,"InputPointA",(function(e,n){null!=e&&Ie.HiddenForget(e,"Position",d),null!=n&&Ie.HiddenObserve(n,"Position",d),t.state_VectorAB=b.ScheduleCallback(t.state_VectorAB,a)})),Ie.HiddenObserve(e,"InputPointB",(function(e,n){null!=e&&Ie.HiddenForget(e,"Position",_),null!=n&&Ie.HiddenObserve(n,"Position",_),t.state_VectorAB=b.ScheduleCallback(t.state_VectorAB,a)})),Ie.HiddenObserve(e,"navigationFocusMode",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",g),null!=n&&Ie.HiddenObserve(n,"Value",g),t.state_NavigationFocusEnabled=b.ScheduleCallback(t.state_NavigationFocusEnabled,i)})),Ie.HiddenObserve(e,"NavigationFocusEnabled",(function(e,n){t.state_NavigationFocusEnabledChanged=b.ScheduleCallback(t.state_NavigationFocusEnabledChanged,r)})),n(),a(),i(),r()};ni.__name__=!0;var ai=a["binkies.integration.navigation.justviewing.UserNavigationType"]={__ename__:!0,__constructs__:["Hotspot","SmallObject"],Hotspot:{_hx_index:0,__enum__:"binkies.integration.navigation.justviewing.UserNavigationType",toString:n},SmallObject:{_hx_index:1,__enum__:"binkies.integration.navigation.justviewing.UserNavigationType",toString:n}},ii=function(e,t){this.navigationFactory=e,this.userNavigationType=t};ii.__name__=!0,ii.prototype={Build:function(e,t,n){null==n&&(n=!1);var a=this.navigationFactory.Create(Ko.SnapShot(t));switch(e._hx_index){case 0:return this.Build(e.state,t,e.instant);case 1:return this.HandleBookmark(this.convertBookmarkToQuaternion(e.bookmark),a,n);case 2:return this.HandleBookmark(this.convertOrientationToQuaternion(e.orientation),a,n);case 3:case 4:return t;case 5:return this.HandleUserNavigation(a);case 6:return this.HandleAutoRotate(a,n);case 7:return this.HandleFitToScreen(t,n)}},HandleBookmark:function(e,t,n){var a=this.navigationFactory.Create(Ko.Bookmark([e],.5,t.NavigationModel.CameraFieldOfView));return a=this.navigationFactory.Create(Ko.KeepOnScreen(a)),a=this.navigationFactory.Create(Ko.Blend(t,a,n?0:null))},HandleUserNavigation:function(e){var t;switch(this.userNavigationType._hx_index){case 0:t=Ko.HotspotRotate(e);break;case 1:t=Ko.SmallObjectRotate(e)}var n=this.navigationFactory.Create(t);return this.userNavigationType==ai.SmallObject&&(n=this.navigationFactory.Create(Ko.Zoom(n)),n=this.navigationFactory.Create(Ko.Pan(n)),n=this.navigationFactory.Create(Ko.Roll(n))),n=this.navigationFactory.Create(Ko.RubberBand(n)),n=this.navigationFactory.Create(Ko.ZoomLimiter(n)),n=this.navigationFactory.Create(Ko.BrickWall(n))},HandleFitToScreen:function(e,t){var n=this.navigationFactory.Create(Ko.KeepOnScreen(e));return n=this.navigationFactory.Create(Ko.Blend(e,n,t?0:null))},HandleAutoRotate:function(e,t){var n=this.navigationFactory.Create(Ko.Bookmark([this.getStandingOrientation(e.NavigationModel.ProductTransformModels[0].ProductOrientation)],.5,e.NavigationModel.CameraFieldOfView));return n=this.navigationFactory.Create(Ko.KeepOnScreen(n)),n=this.navigationFactory.Create(Ko.AutoRotate(n)),n=this.navigationFactory.Create(Ko.Blend(e,n,t?0:null))},convertOrientationToQuaternion:function(e){return Co.FromYawPitchRoll(.017453292519943*e.yaw,.017453292519943*e.pitch,.017453292519943*e.roll)},convertBookmarkToQuaternion:function(e){switch(e){case"back":return{X:0,Y:0,Z:0,W:1};case"bottom":var t=Math.PI,n=Math.sin(.5*t),a=Math.cos(.5*t),i=.5*Math.PI,r=Math.sin(.5*i),o=Math.cos(.5*i);return{X:0*o+a*r+0*n,Y:n*o+0*a+0*r,Z:0*o+0*a-n*r,W:a*o-0*r-0*n};case"front":var s=Math.PI;return{X:0,Y:Math.sin(.5*s),Z:0,W:Math.cos(.5*s)};case"left":var l=-.5*Math.PI;return{X:0,Y:Math.sin(.5*l),Z:0,W:Math.cos(.5*l)};case"right":var u=.5*Math.PI;return{X:0,Y:Math.sin(.5*u),Z:0,W:Math.cos(.5*u)};case"top":var d=Math.PI,c=Math.sin(.5*d),h=Math.cos(.5*d),_=.5*-Math.PI,g=Math.sin(.5*_),v=Math.cos(.5*_);return{X:0*v+h*g+0*c,Y:c*v+0*h+0*g,Z:0*v+0*h-c*g,W:h*v-0*g-0*c};default:return null}},getStandingOrientation:function(e){var t=e.Y,n=e.W,a=Math.sqrt(t*t+n*n);return{X:0*(a=0==a?1:1/a),Y:t*a,Z:0*a,W:n*a}}};var ri=a["binkies.integration.navigation.justviewing.JustViewingState"]={__ename__:!0,__constructs__:["Init","Bookmark","Snapshot","Timeout","InitTimeout","Navigate","AutoRotate","FitToScreen"],Init:(t=function(e,t){return{_hx_index:0,state:e,instant:t,__enum__:"binkies.integration.navigation.justviewing.JustViewingState",toString:n}},t.__params__=["state","instant"],t),Bookmark:(t=function(e){return{_hx_index:1,bookmark:e,__enum__:"binkies.integration.navigation.justviewing.JustViewingState",toString:n}},t.__params__=["bookmark"],t),Snapshot:(t=function(e){return{_hx_index:2,orientation:e,__enum__:"binkies.integration.navigation.justviewing.JustViewingState",toString:n}},t.__params__=["orientation"],t),Timeout:{_hx_index:3,__enum__:"binkies.integration.navigation.justviewing.JustViewingState",toString:n},InitTimeout:{_hx_index:4,__enum__:"binkies.integration.navigation.justviewing.JustViewingState",toString:n},Navigate:{_hx_index:5,__enum__:"binkies.integration.navigation.justviewing.JustViewingState",toString:n},AutoRotate:{_hx_index:6,__enum__:"binkies.integration.navigation.justviewing.JustViewingState",toString:n},FitToScreen:{_hx_index:7,__enum__:"binkies.integration.navigation.justviewing.JustViewingState",toString:n}},oi=function(e,t,n,a,i){var r=null==i.autoRotation||i.autoRotation;this.stateMachine=new Ts(ri.Init(e,a),[{State:ri.Init(null,null),Transitions:[t.Timeout(1e3,ri.InitTimeout)]},{State:ri.InitTimeout,Transitions:[r?t.Timeout(2e3,ri.AutoRotate):t.Noop(),t.StartInteracting(ri.Navigate),t.ScreenSizeChanged(ri.FitToScreen),t.BookmarkClicked((function(e){return ri.Bookmark(e)}))]},{State:ri.Bookmark(null),Transitions:[t.GoTo(ri.Timeout),t.NavigationFocusDisabled(e)]},{State:ri.AutoRotate,Transitions:[t.BookmarkClicked((function(e){return ri.Bookmark(e)})),t.StartInteracting(ri.Navigate),t.NavigationFocusDisabled(e),t.ResetNavigation(ri.Init(e,!1))]},{State:ri.Timeout,Transitions:[r?t.Timeout(5e3,ri.AutoRotate):t.Noop(),t.StartInteracting(ri.Navigate),t.BookmarkClicked((function(e){return ri.Bookmark(e)})),t.ScreenSizeChanged(ri.FitToScreen),t.NavigationFocusDisabled(e),t.ResetNavigation(ri.Init(e,!1))]},{State:ri.Navigate,Transitions:[t.BookmarkClicked((function(e){return ri.Bookmark(e)})),t.ResetNavigation(ri.Init(e,!1)),t.ScreenSizeChanged(ri.FitToScreen),t.NavigationFocusDisabled(e),t.StoppedInteracting(ri.Timeout)]},{State:ri.FitToScreen,Transitions:[t.GoTo(ri.Timeout),t.NavigationFocusDisabled(e)]},{State:ri.Snapshot(null),Transitions:[t.GoTo(ri.Timeout),t.NavigationFocusDisabled(e)]}]),this.activeBookmarkHandler=n,this.JustViewingStateMachineObserver=new si(this)};oi.__name__=!0,oi.prototype={_updateState:function(){var e=this.stateMachine.State;return this.handleState(e),e},handleState:function(e){if(null!=e)switch(e._hx_index){case 0:this.activeBookmarkHandler.SetValue(null),this.handleState(e.state);break;case 1:this.activeBookmarkHandler.SetValue(e.bookmark);break;case 5:case 6:this.activeBookmarkHandler.SetValue(null)}},Start:function(){this.stateMachine.Start()},Stop:function(){this.stateMachine.Stop()}};var si=function(e){var t=this;this.state_State=!1;var n=function(){e.State=e._updateState(),t.state_State=!0},a=function(e,a){t.state_State=b.ScheduleCallback(t.state_State,n)};Ie.HiddenObserve(e,"stateMachine",(function(e,i){null!=e&&Ie.HiddenForget(e,"State",a),null!=i&&Ie.HiddenObserve(i,"State",a),t.state_State=b.ScheduleCallback(t.state_State,n)})),n()};si.__name__=!0;var li=function(e){this.decoratee=e};li.__name__=!0,li.prototype={GetPlayer:function(e){if(null!=this.cachedValue){var t=this.cachedValue;return window.clearTimeout(this.timeoutHandle),this.cachedValue=null,t}return this.decoratee.GetPlayer(e)},ReturnPlayer:function(e){var t=this;this.cachedValue=e,this.timeoutHandle=window.setTimeout((function(){return t.decoratee.ReturnPlayer(e),t.cachedValue=null}),5e3)}};var ui=function(){};ui.__name__=!0,ui.prototype={GetPlayer:function(e){var t=window.document.createElement("div");t.style.position="relative",t.style.width="100%",t.style.height="100%",t.style.display="inline-block";var n=BinkiesPlayer.CreatePlayer(e,t),a=!1;return{appendTo:function(e){return e.appendChild(t)},remove:function(){t.remove()},dispose:function(){n.Dispose()},switchToComposition:function(e,t,i){1==i&&(a=!0),n.SwitchToComposition(e,t,i)},updateExternalNavigation:function(e){a&&1==e.products.length&&(a=!1,n.SwitchToComposition(null,"",1)),n.UpdateExternalNavigation(e)},resume:function(){n.Resume()},pause:function(){n.Pause()},getPlayer:function(){return n}}},ReturnPlayer:function(e){e.remove(),e.dispose()}};var di=function(e,t){this.contentIdentifierProvider=e,this.contentIdentifierTransformer=t,this.ContentIdentifierProviderTransformerObserver=new ci(this)};di.__name__=!0,di.prototype={_updateValue:function(){return this.Transform(this.contentIdentifierProvider.Value)},Transform:function(e){return this.contentIdentifierTransformer.Transform(e)}};var ci=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)};Ie.HiddenObserve(e,"contentIdentifierProvider",(function(e,i){null!=e&&Ie.HiddenForget(e,"Value",a),null!=i&&Ie.HiddenObserve(i,"Value",a),t.state_Value=b.ScheduleCallback(t.state_Value,n)})),n()};ci.__name__=!0;var hi=function(e,t,n,a){null==a&&(a=Ve.Append),this.Enabled=!1,this.parentSelector=t,this.insertMode=a,this.overflowTarget=n,this.targetElement=window.document.createElement("div"),this.targetElement.id=e,this.targetElement.style.display="none",this.targetElement.tabIndex=-1,this.SetStyling(),"loading"==window.document.readyState?window.document.addEventListener("DOMContentLoaded",dl(this,this.ObserveMutations)):this.ObserveMutations(),this.FullscreenTargetElementInjectorObserver=new _i(this)};hi.__name__=!0,hi.prototype={_updateTarget:function(){return null==this.parentElement?null:this.targetElement},ObserveMutations:function(){var e,t=this;switch(this.overflowTarget){case"body":e=window.document.body;break;case"html":e=window.document.documentElement}this.overflowElement=e;var n=!1;new MutationObserver((function(e,a){t.parentElement=t.GetParentElement(),n||null==t.parentElement||(n=!0,t.GetElementAtInjectPosition()!=t.targetElement&&t.RepositionTargetElement(),n=!1)})).observe(window.document.body,{childList:!0,subtree:!0}),Ie.HiddenObserve(this,"Enabled",(function(e,n){n?t.Enable():t.Disable()}),!0)},Enable:function(){null==this.originalOverflowValue&&(this.originalOverflowValue=this.overflowElement.style.overflow),this.overflowElement.style.overflow="hidden",this.targetElement.style.display="block",this.targetElement.setAttribute("aria-modal","true"),this.targetElement.focus()},Disable:function(){null!=this.originalOverflowValue&&(this.overflowElement.style.overflow=this.originalOverflowValue,this.originalOverflowValue=null),this.targetElement.style.display="none",this.targetElement.setAttribute("aria-modal","false"),this.targetElement.blur()},GetParentElement:function(){return window.document.querySelector(this.parentSelector)},GetElementAtInjectPosition:function(){var e=this.insertMode;switch(e._hx_index){case 0:return this.parentElement.lastElementChild;case 1:return this.parentElement.children[e.index];case 2:return this.parentElement.firstElementChild}},RepositionTargetElement:function(){ll.RemoveFromParent(this.targetElement),this.SetStyling();var e=this.insertMode;switch(e._hx_index){case 0:this.parentElement.appendChild(this.targetElement);break;case 1:this.parentElement.insertBefore(this.targetElement,this.parentElement.children[e.index]);break;case 2:this.parentElement.insertBefore(this.targetElement,this.parentElement.children[0])}},SetStyling:function(){this.targetElement.style.position="fixed",this.targetElement.style.top="0",this.targetElement.style.bottom="0",this.targetElement.style.left="0",this.targetElement.style.right="0",this.targetElement.style.zIndex="2147483647",this.Enabled?this.Enable():this.Disable()}};var _i=function(e){var t=this;this.state_Target=!1;var n=function(){e.Target=e._updateTarget(),t.state_Target=!0};Ie.HiddenObserve(e,"parentElement",(function(e,a){t.state_Target=b.ScheduleCallback(t.state_Target,n)})),Ie.HiddenObserve(e,"targetElement",(function(e,a){t.state_Target=b.ScheduleCallback(t.state_Target,n)})),n()};_i.__name__=!0;var gi=function(e,t){this.valueDefinitionProvider=e,this.stringFactory=t,this.IntegrationConfigurationContentIdentifierProviderObserver=new vi(this)};gi.__name__=!0,gi.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.valueDefinitionProvider.ContentIdentifierProvider)},_updateValue:function(){return null==this.StringValue?null:this.StringValue.Value}};var vi=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"valueDefinitionProvider",(function(e,a){null!=e&&Ie.HiddenForget(e,"ContentIdentifierProvider",i),null!=a&&Ie.HiddenObserve(a,"ContentIdentifierProvider",i),t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n)})),Ie.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",r),null!=n&&Ie.HiddenObserve(n,"Value",r),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};vi.__name__=!0;var bi=function(e){this.targetElement=new gt(e),this.QueryTargetElementProviderObserver=new fi(this)};bi.__name__=!0,bi.prototype={_updateTarget:function(){return this.targetElement.Result}};var fi=function(e){var t=this;this.state_Target=!1;var n=function(){e.Target=e._updateTarget(),t.state_Target=!0},a=function(e,a){t.state_Target=b.ScheduleCallback(t.state_Target,n)};Ie.HiddenObserve(e,"targetElement",(function(e,i){null!=e&&Ie.HiddenForget(e,"Result",a),null!=i&&Ie.HiddenObserve(i,"Result",a),t.state_Target=b.ScheduleCallback(t.state_Target,n)})),n()};fi.__name__=!0;var pi=function(e){null==e&&(e=""),this.FullscreenRoute="fullscreen",this.Value=e,this.RouteObserver=new mi(this)};pi.__name__=!0,pi.prototype={Contains:function(e){return null!=this.Value&&s.has(this.Value.split("/"),e)},_updateContainsFullscreen:function(){return null!=this.Value&&this.Contains(this.FullscreenRoute)},GoTo:function(e){e!=this.Value&&(this.Value=e,$.Fire("routechanged",new ve(this.Value)))}};var mi=function(e){var t=this;this.state_ContainsFullscreen=!1;var n=function(){e.ContainsFullscreen=e._updateContainsFullscreen(),t.state_ContainsFullscreen=!0};Ie.HiddenObserve(e,"Value",(function(e,a){t.state_ContainsFullscreen=b.ScheduleCallback(t.state_ContainsFullscreen,n)})),Ie.HiddenObserve(e,"FullscreenRoute",(function(e,a){t.state_ContainsFullscreen=b.ScheduleCallback(t.state_ContainsFullscreen,n)})),n()};mi.__name__=!0;var Si=function(e,t){this.accessKey=e,this.viewId=t};Si.__name__=!0,Si.prototype={Request:function(e,t){var n=new XMLHttpRequest;n.onload=function(){if(200==n.status){var e=JSON.parse(n.response);t(e)}else t({path:null,optionUId:null,productUId:null})};var a=window.location.href;n.open("GET","https://embed.binkies3d.com/content/"+this.accessKey+"/"+this.viewId+"/"+e,!0),n.setRequestHeader("x-referrer",a),n.responseType="text",n.send()}};var Ci=function(){this.Value=null};Ci.__name__=!0,Ci.prototype={SetActiveTestVariantName:function(e){null==this.Value&&(this.Value=e,$.Fire("testvariant",new me(e)))}};var yi=function(e,t,n){this.boolFactory=e,this.factory=t,this.settings=n,this.ConditionalObserver=new ki(this)};yi.__name__=!0,yi.prototype={_updateCondition:function(){return null==this.settings||null==this.settings.condition?null:this.boolFactory.Create(this.settings.condition)},_updateIfTrue:function(){return null==this.settings||null==this.settings.ifTrue?null:this.factory.Create(this.settings.ifTrue)},_updateIfFalse:function(){return null==this.settings||null==this.settings.ifFalse?null:this.factory.Create(this.settings.ifFalse)},_updateConditionResult:function(){return null==this.Condition||null==this.Condition.Value?null:this.Condition.Value?this.IfTrue:this.IfFalse},_updateValue:function(){return null==this.ConditionResult?null:this.ConditionResult.Value}};var ki=function(e){var t=this;this.state_Condition=!1,this.state_IfTrue=!1,this.state_IfFalse=!1,this.state_ConditionResult=!1,this.state_Value=!1;var n=function(){e.Condition=e._updateCondition(),t.state_Condition=!0},a=function(){e.IfTrue=e._updateIfTrue(),t.state_IfTrue=!0},i=function(){e.IfFalse=e._updateIfFalse(),t.state_IfFalse=!0},r=function(){e.ConditionResult=e._updateConditionResult(),t.state_ConditionResult=!0},o=function(){e.Value=e._updateValue(),t.state_Value=!0},s=function(e,a){t.state_Condition=b.ScheduleCallback(t.state_Condition,n)},l=function(e,n){t.state_IfTrue=b.ScheduleCallback(t.state_IfTrue,a)},u=function(e,n){t.state_IfFalse=b.ScheduleCallback(t.state_IfFalse,i)},d=function(e,n){t.state_ConditionResult=b.ScheduleCallback(t.state_ConditionResult,r)},c=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,o)};Ie.HiddenObserve(e,"settings",(function(e,r){null!=e&&(Ie.HiddenForget(e,"condition",s),Ie.HiddenForget(e,"ifTrue",l),Ie.HiddenForget(e,"ifFalse",u)),null!=r&&(Ie.HiddenObserve(r,"condition",s),Ie.HiddenObserve(r,"ifTrue",l),Ie.HiddenObserve(r,"ifFalse",u)),t.state_Condition=b.ScheduleCallback(t.state_Condition,n),t.state_IfTrue=b.ScheduleCallback(t.state_IfTrue,a),t.state_IfFalse=b.ScheduleCallback(t.state_IfFalse,i)})),Ie.HiddenObserve(e,"Condition",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",d),null!=n&&Ie.HiddenObserve(n,"Value",d),t.state_ConditionResult=b.ScheduleCallback(t.state_ConditionResult,r)})),Ie.HiddenObserve(e,"IfTrue",(function(e,n){t.state_ConditionResult=b.ScheduleCallback(t.state_ConditionResult,r)})),Ie.HiddenObserve(e,"IfFalse",(function(e,n){t.state_ConditionResult=b.ScheduleCallback(t.state_ConditionResult,r)})),Ie.HiddenObserve(e,"ConditionResult",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",c),null!=n&&Ie.HiddenObserve(n,"Value",c),t.state_Value=b.ScheduleCallback(t.state_Value,o)})),n(),a(),i(),r(),o()};ki.__name__=!0;var Vi=function(e){this.settings=e,this.ConstantObserver=new Hi(this)};Vi.__name__=!0,Vi.prototype={_updateValue:function(){return this.settings.value}};var Hi=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)};Ie.HiddenObserve(e,"settings",(function(e,i){null!=e&&Ie.HiddenForget(e,"value",a),null!=i&&Ie.HiddenObserve(i,"value",a),t.state_Value=b.ScheduleCallback(t.state_Value,n)})),n()};Hi.__name__=!0;var Oi=function(e,t){this.factory=e,this.settings=t,this.FirstMatchObserver=new wi(this)};Oi.__name__=!0,Oi.prototype={_updateValues:function(){if(null==this.settings||null==this.settings.values)return null;for(var e=this.settings.values,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=this.factory.Create(e[i])}return t},_updateValue:function(){if(null==this.Values)return null;for(var e=0,t=this.Values;e<t.length;){var n=t[e];if(++e,null!=n.Value)return n.Value}return null}};var wi=function(e){var t=this;this.state_Values=!1,this.state_Value=!1;var n=function(){e.Values=e._updateValues(),t.state_Values=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_Values=b.ScheduleCallback(t.state_Values,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"values",i),null!=a&&Ie.HiddenObserve(a,"values",i),t.state_Values=b.ScheduleCallback(t.state_Values,n)})),Ie.HiddenObserve(e,"Values",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",r),null!=n&&Ie.HiddenObserve(n,"Value",r),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};wi.__name__=!0;var Fi=function(e,t,n,a,i){this.objectFactory=t,this.stringFactory=e,this.settings=n,this.updateTrigger=a,this.validatorFunction=i,this.FromFieldObserver=new xi(this)};Fi.__name__=!0,Fi.prototype={_updateObjectValue:function(){return this.objectFactory.Create(this.settings.object)},_updateAttributePath:function(){return this.stringFactory.Create(this.settings.attributePath)},_updateValue:function(){if(null==this.updateTrigger||null==this.updateTrigger.Value)return null;if(null==this.ObjectValue||null==this.ObjectValue.Value)return null;if(null==this.AttributePath||null==this.AttributePath.Value)return null;var e=Ai.EvaluatePath(this.ObjectValue.Value,this.AttributePath.Value);return null==e||this.validatorFunction(e)?e:(el.trace("Binkies 3D: value found at "+d.string(this.settings.attributePath)+" is not of the requested type!",{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/FromField.hx",lineNumber:55,className:"binkies.integration.values.FromField",methodName:"_updateValue"}),null)}};var xi=function(e){var t=this;this.state_ObjectValue=!1,this.state_AttributePath=!1,this.state_Value=!1;var n=function(){e.ObjectValue=e._updateObjectValue(),t.state_ObjectValue=!0},a=function(){e.AttributePath=e._updateAttributePath(),t.state_AttributePath=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_ObjectValue=b.ScheduleCallback(t.state_ObjectValue,n)},o=function(e,n){t.state_AttributePath=b.ScheduleCallback(t.state_AttributePath,a),t.state_Value=b.ScheduleCallback(t.state_Value,i)},s=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)},l=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)},u=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)};Ie.HiddenObserve(e,"settings",(function(e,s){null!=e&&(Ie.HiddenForget(e,"object",r),Ie.HiddenForget(e,"attributePath",o)),null!=s&&(Ie.HiddenObserve(s,"object",r),Ie.HiddenObserve(s,"attributePath",o)),t.state_ObjectValue=b.ScheduleCallback(t.state_ObjectValue,n),t.state_AttributePath=b.ScheduleCallback(t.state_AttributePath,a),t.state_Value=b.ScheduleCallback(t.state_Value,i)})),Ie.HiddenObserve(e,"updateTrigger",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",s),null!=n&&Ie.HiddenObserve(n,"Value",s),t.state_Value=b.ScheduleCallback(t.state_Value,i)})),Ie.HiddenObserve(e,"ObjectValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",l),null!=n&&Ie.HiddenObserve(n,"Value",l),t.state_Value=b.ScheduleCallback(t.state_Value,i)})),Ie.HiddenObserve(e,"AttributePath",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",u),null!=n&&Ie.HiddenObserve(n,"Value",u),t.state_Value=b.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};xi.__name__=!0;var Di=function(e,t,n,a){this.stringFactory=e,this.settings=t,this.updateTrigger=n,this.validatorFunction=a,this.FromJavaScriptObserver=new Pi(this)};Di.__name__=!0,Di.prototype={_updateAttributePathValue:function(){return this.stringFactory.Create(this.settings.attributePath)},_updateAttributePath:function(){if(null==this.AttributePathValue||null==this.AttributePathValue.Value)return null;var e=this.AttributePathValue.Value;switch(null==this.settings.scope?"window":this.settings.scope){case"global":break;case"window":e="window."+e}return e},_updateValue:function(){if(null==this.AttributePath)return null;if(null==this.updateTrigger||null==this.updateTrigger.Value)return null;var e=Ai.EvaluatePath(null,this.AttributePath);return null==e||this.validatorFunction(e)?e:(el.trace("Binkies 3D: value found at "+this.AttributePath+" is not of the requested type!",{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/FromJavaScript.hx",lineNumber:65,className:"binkies.integration.values.FromJavaScript",methodName:"_updateValue"}),null)}};var Pi=function(e){var t=this;this.state_AttributePathValue=!1,this.state_AttributePath=!1,this.state_Value=!1;var n=function(){e.AttributePathValue=e._updateAttributePathValue(),t.state_AttributePathValue=!0},a=function(){e.AttributePath=e._updateAttributePath(),t.state_AttributePath=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_AttributePathValue=b.ScheduleCallback(t.state_AttributePathValue,n)},o=function(e,n){t.state_AttributePath=b.ScheduleCallback(t.state_AttributePath,a)},s=function(e,n){t.state_AttributePath=b.ScheduleCallback(t.state_AttributePath,a)},l=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)};Ie.HiddenObserve(e,"settings",(function(e,i){null!=e&&(Ie.HiddenForget(e,"attributePath",r),Ie.HiddenForget(e,"scope",o)),null!=i&&(Ie.HiddenObserve(i,"attributePath",r),Ie.HiddenObserve(i,"scope",o)),t.state_AttributePathValue=b.ScheduleCallback(t.state_AttributePathValue,n),t.state_AttributePath=b.ScheduleCallback(t.state_AttributePath,a)})),Ie.HiddenObserve(e,"AttributePathValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",s),null!=n&&Ie.HiddenObserve(n,"Value",s),t.state_AttributePath=b.ScheduleCallback(t.state_AttributePath,a)})),Ie.HiddenObserve(e,"AttributePath",(function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)})),Ie.HiddenObserve(e,"updateTrigger",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",l),null!=n&&Ie.HiddenObserve(n,"Value",l),t.state_Value=b.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};Pi.__name__=!0;var Ai=function(){};Ai.__name__=!0,Ai.EvaluatePath=function(e,t){if(!Ai.IsValidPath(t))throw new rl("Invalid attribute path detected");try{var n;return n=null==e?'"use strict";return ('+t+")":'"use strict";return (this.'+t+")",new Function(n).call(e)}catch(e){return null}},Ai.IsValidPath=function(e){if(tl.IsNullOrWhiteSpace(e))return!1;for(var t=["(",")","=","<",">"],n=0;n<t.length;)if(e.indexOf(t[n++])>-1)return!1;return!0};var Ii=function(e,t){this.settings=t,this.state=e,this.ActiveStateIsObserver=new Ti(this)};Ii.__name__=!0,Ii.prototype={_updateLoadedFirst:function(){return!!this.LoadedFirst||this.state.ResourcesLoaded},_updateValue:function(){switch(this.settings.State){case"loading":return!this.state.ResourcesLoaded;case"loadingfirst":return!this.LoadedFirst}}};var Ti=function(e){var t=this;this.state_LoadedFirst=!1,this.state_Value=!1;var n=function(){e.LoadedFirst=e._updateLoadedFirst(),t.state_LoadedFirst=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,i){t.state_LoadedFirst=b.ScheduleCallback(t.state_LoadedFirst,n),t.state_Value=b.ScheduleCallback(t.state_Value,a)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"LoadedFirst",(function(e,i){t.state_LoadedFirst=b.ScheduleCallback(t.state_LoadedFirst,n),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),Ie.HiddenObserve(e,"state",(function(e,r){null!=e&&Ie.HiddenForget(e,"ResourcesLoaded",i),null!=r&&Ie.HiddenObserve(r,"ResourcesLoaded",i),t.state_LoadedFirst=b.ScheduleCallback(t.state_LoadedFirst,n),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),Ie.HiddenObserve(e,"settings",(function(e,n){null!=e&&Ie.HiddenForget(e,"State",r),null!=n&&Ie.HiddenObserve(n,"State",r),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};Ti.__name__=!0;var Mi=function(e,t){this.boolFactory=e,this.settings=t,this.AndObserver=new Ri(this)};Mi.__name__=!0,Mi.prototype={_updateConditions:function(){if(null==this.settings||null==this.settings.conditions)return null;for(var e=this.settings.conditions,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=this.boolFactory.Create(e[i])}return t},_updateValue:function(){if(null==this.Conditions)return!1;for(var e=0,t=this.Conditions;e<t.length;){var n=t[e];if(++e,0==n.Value)return!1;if(null==n.Value)return null}return!0}};var Ri=function(e){var t=this;this.state_Conditions=!1,this.state_Value=!1;var n=function(){e.Conditions=e._updateConditions(),t.state_Conditions=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_Conditions=b.ScheduleCallback(t.state_Conditions,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"conditions",i),null!=a&&Ie.HiddenObserve(a,"conditions",i),t.state_Conditions=b.ScheduleCallback(t.state_Conditions,n)})),Ie.HiddenObserve(e,"Conditions",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",r),null!=n&&Ie.HiddenObserve(n,"Value",r),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};Ri.__name__=!0;var Ni=function(e,t,n,a){this.leftValueFactory=e,this.rightValueFactory=t,this.comparator=n,this.settings=a,this.ComparisonObserver=new Li(this)};Ni.__name__=!0,Ni.prototype={_updateLeft:function(){return null==this.settings?null:this.leftValueFactory.Create(this.settings.left)},_updateRight:function(){return null==this.settings?null:this.rightValueFactory.Create(this.settings.right)},_updateValue:function(){if(null==this.Left)return null;if(null==this.Right)return null;var e=this.Left.Value,t=this.Right.Value;try{return this.comparator.compare(e,t,this.settings.op)}catch(e){var n=e instanceof rl?e.val:e;if("string"==typeof n)return el.trace(n,{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/bool/Comparison.hx",lineNumber:76,className:"binkies.integration.values.bool.Comparison",methodName:"_updateValue"}),null;throw e}}};var Li=function(e){var t=this;this.state_Left=!1,this.state_Right=!1,this.state_Value=!1;var n=function(){e.Left=e._updateLeft(),t.state_Left=!0},a=function(){e.Right=e._updateRight(),t.state_Right=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_Left=b.ScheduleCallback(t.state_Left,n)},o=function(e,n){t.state_Right=b.ScheduleCallback(t.state_Right,a)},s=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)},l=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)},u=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)};Ie.HiddenObserve(e,"settings",(function(e,l){null!=e&&(Ie.HiddenForget(e,"left",r),Ie.HiddenForget(e,"right",o),Ie.HiddenForget(e,"op",s)),null!=l&&(Ie.HiddenObserve(l,"left",r),Ie.HiddenObserve(l,"right",o),Ie.HiddenObserve(l,"op",s)),t.state_Left=b.ScheduleCallback(t.state_Left,n),t.state_Right=b.ScheduleCallback(t.state_Right,a),t.state_Value=b.ScheduleCallback(t.state_Value,i)})),Ie.HiddenObserve(e,"Left",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",l),null!=n&&Ie.HiddenObserve(n,"Value",l),t.state_Value=b.ScheduleCallback(t.state_Value,i)})),Ie.HiddenObserve(e,"Right",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",u),null!=n&&Ie.HiddenObserve(n,"Value",u),t.state_Value=b.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};Li.__name__=!0;var Ei=function(e,t){this.networkSpeed=e,this.settings=t,this.ConnectionSpeedIsObserver=new Bi(this)};Ei.__name__=!0,Ei.prototype={_updateValue:function(){return null==this.settings||null==this.settings.connectionSpeed||null==this.networkSpeed||null==this.networkSpeed.connectionSpeed?null:this.networkSpeed.connectionSpeed==this.settings.connectionSpeed}};var Bi=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)},i=function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)};Ie.HiddenObserve(e,"settings",(function(e,i){null!=e&&Ie.HiddenForget(e,"connectionSpeed",a),null!=i&&Ie.HiddenObserve(i,"connectionSpeed",a),t.state_Value=b.ScheduleCallback(t.state_Value,n)})),Ie.HiddenObserve(e,"networkSpeed",(function(e,a){null!=e&&Ie.HiddenForget(e,"connectionSpeed",i),null!=a&&Ie.HiddenObserve(a,"connectionSpeed",i),t.state_Value=b.ScheduleCallback(t.state_Value,n)})),n()};Bi.__name__=!0;var Wi=function(e,t){this.settings=t,this.displayMode=e,this.DisplayModeIsObserver=new Ui(this)};Wi.__name__=!0,Wi.prototype={_updateValue:function(){return this.settings.displayMode==this.displayMode.Value}};var Ui=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)},i=function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)};Ie.HiddenObserve(e,"settings",(function(e,i){null!=e&&Ie.HiddenForget(e,"displayMode",a),null!=i&&Ie.HiddenObserve(i,"displayMode",a),t.state_Value=b.ScheduleCallback(t.state_Value,n)})),Ie.HiddenObserve(e,"displayMode",(function(e,a){null!=e&&Ie.HiddenForget(e,"Value",i),null!=a&&Ie.HiddenObserve(a,"Value",i),t.state_Value=b.ScheduleCallback(t.state_Value,n)})),n()};Ui.__name__=!0;var Gi=function(e,t){this.factory=e,this.settings=t,this.ExistsObserver=new Xi(this)};Gi.__name__=!0,Gi.prototype={_updateWrappedValue:function(){return this.factory.Create(this.settings.value)},_updateValue:function(){return null==this.WrappedValue?null:null!=this.WrappedValue.Value}};var Xi=function(e){var t=this;this.state_WrappedValue=!1,this.state_Value=!1;var n=function(){e.WrappedValue=e._updateWrappedValue(),t.state_WrappedValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_WrappedValue=b.ScheduleCallback(t.state_WrappedValue,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"value",i),null!=a&&Ie.HiddenObserve(a,"value",i),t.state_WrappedValue=b.ScheduleCallback(t.state_WrappedValue,n)})),Ie.HiddenObserve(e,"WrappedValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",r),null!=n&&Ie.HiddenObserve(n,"Value",r),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};Xi.__name__=!0;var Yi=function(e,t){this.stringFactory=e,this.settings=t,this.FromStringObserver=new zi(this)};Yi.__name__=!0,Yi.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.settings.value)},_updateValue:function(){if(null==this.StringValue||null==this.StringValue.Value)return null;switch(this.StringValue.Value.toLowerCase()){case"false":return!1;case"true":return!0;default:return null}}};var zi=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"value",i),null!=a&&Ie.HiddenObserve(a,"value",i),t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n)})),Ie.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",r),null!=n&&Ie.HiddenObserve(n,"Value",r),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};zi.__name__=!0;var Zi=function(e,t){this.activeTestVariantName=e,this.settings=t,this.IsTestVariantActiveObserver=new Qi(this)};Zi.__name__=!0,Zi.prototype={_updateValue:function(){return this.activeTestVariantName.Value==this.settings.testVariantName}};var Qi=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)},i=function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)};Ie.HiddenObserve(e,"activeTestVariantName",(function(e,i){null!=e&&Ie.HiddenForget(e,"Value",a),null!=i&&Ie.HiddenObserve(i,"Value",a),t.state_Value=b.ScheduleCallback(t.state_Value,n)})),Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"testVariantName",i),null!=a&&Ie.HiddenObserve(a,"testVariantName",i),t.state_Value=b.ScheduleCallback(t.state_Value,n)})),n()};Qi.__name__=!0;var ji=function(e){this.matches=!1,this.settings=e,this.MediaQueryMatchObserver=new qi(this)};ji.__name__=!0,ji.prototype={_updateMediaQueryString:function(){var e=[];return null!=this.settings.minWidth&&e.push("(min-width: "+this.settings.minWidth+")"),null!=this.settings.maxWidth&&e.push("(max-width: "+this.settings.maxWidth+")"),null!=this.settings.minHeight&&e.push("(min-height: "+this.settings.minHeight+")"),null!=this.settings.maxHeight&&e.push("(max-height: "+this.settings.maxHeight+")"),null!=this.settings.minAspectRatio&&e.push("(min-aspect-ratio: "+this.settings.minAspectRatio+")"),null!=this.settings.maxAspectRatio&&e.push("(max-aspect-ratio: "+this.settings.maxAspectRatio+")"),null!=this.settings.orientation&&e.push("(orientation: "+this.settings.orientation+")"),e.join(" and ")},_updateMediaQueryList:function(){if(null!=this.MediaQueryList&&this.MediaQueryList.removeListener(dl(this,this.OnChange)),tl.IsNullOrWhiteSpace(this.MediaQueryString))return null;var e=window.matchMedia(this.MediaQueryString);return e.addListener(dl(this,this.OnChange)),this.matches=e.matches,e},OnChange:function(){this.matches=this.MediaQueryList.matches},_updateValue:function(){return this.matches}};var qi=function(e){var t=this;this.state_MediaQueryString=!1,this.state_MediaQueryList=!1,this.state_Value=!1;var n=function(){e.MediaQueryString=e._updateMediaQueryString(),t.state_MediaQueryString=!0},a=function(){e.MediaQueryList=e._updateMediaQueryList(),t.state_MediaQueryList=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_MediaQueryString=b.ScheduleCallback(t.state_MediaQueryString,n)},o=function(e,a){t.state_MediaQueryString=b.ScheduleCallback(t.state_MediaQueryString,n)},s=function(e,a){t.state_MediaQueryString=b.ScheduleCallback(t.state_MediaQueryString,n)},l=function(e,a){t.state_MediaQueryString=b.ScheduleCallback(t.state_MediaQueryString,n)},u=function(e,a){t.state_MediaQueryString=b.ScheduleCallback(t.state_MediaQueryString,n)},d=function(e,a){t.state_MediaQueryString=b.ScheduleCallback(t.state_MediaQueryString,n)},c=function(e,a){t.state_MediaQueryString=b.ScheduleCallback(t.state_MediaQueryString,n)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&(Ie.HiddenForget(e,"minWidth",r),Ie.HiddenForget(e,"maxWidth",o),Ie.HiddenForget(e,"minHeight",s),Ie.HiddenForget(e,"maxHeight",l),Ie.HiddenForget(e,"minAspectRatio",u),Ie.HiddenForget(e,"maxAspectRatio",d),Ie.HiddenForget(e,"orientation",c)),null!=a&&(Ie.HiddenObserve(a,"minWidth",r),Ie.HiddenObserve(a,"maxWidth",o),Ie.HiddenObserve(a,"minHeight",s),Ie.HiddenObserve(a,"maxHeight",l),Ie.HiddenObserve(a,"minAspectRatio",u),Ie.HiddenObserve(a,"maxAspectRatio",d),Ie.HiddenObserve(a,"orientation",c)),t.state_MediaQueryString=b.ScheduleCallback(t.state_MediaQueryString,n)})),Ie.HiddenObserve(e,"MediaQueryList",(function(e,n){t.state_MediaQueryList=b.ScheduleCallback(t.state_MediaQueryList,a)})),Ie.HiddenObserve(e,"MediaQueryString",(function(e,n){t.state_MediaQueryList=b.ScheduleCallback(t.state_MediaQueryList,a)})),Ie.HiddenObserve(e,"matches",(function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};qi.__name__=!0;var Ki=function(e,t){this.boolFactory=e,this.settings=t,this.NotObserver=new Ji(this)};Ki.__name__=!0,Ki.prototype={_updateWrappedValue:function(){return this.boolFactory.Create(this.settings.value)},_updateValue:function(){return null==this.WrappedValue?null:!this.WrappedValue.Value}};var Ji=function(e){var t=this;this.state_WrappedValue=!1,this.state_Value=!1;var n=function(){e.WrappedValue=e._updateWrappedValue(),t.state_WrappedValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_WrappedValue=b.ScheduleCallback(t.state_WrappedValue,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"value",i),null!=a&&Ie.HiddenObserve(a,"value",i),t.state_WrappedValue=b.ScheduleCallback(t.state_WrappedValue,n)})),Ie.HiddenObserve(e,"WrappedValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",r),null!=n&&Ie.HiddenObserve(n,"Value",r),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};Ji.__name__=!0;var $i=function(e,t){this.boolFactory=e,this.settings=t,this.OrObserver=new er(this)};$i.__name__=!0,$i.prototype={_updateConditions:function(){if(null==this.settings||null==this.settings.conditions)return null;for(var e=this.settings.conditions,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=this.boolFactory.Create(e[i])}return t},_updateValue:function(){if(null==this.Conditions)return!1;for(var e=0,t=this.Conditions;e<t.length;)if(1==t[e++].Value)return!0;return!1}};var er=function(e){var t=this;this.state_Conditions=!1,this.state_Value=!1;var n=function(){e.Conditions=e._updateConditions(),t.state_Conditions=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_Conditions=b.ScheduleCallback(t.state_Conditions,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"conditions",i),null!=a&&Ie.HiddenObserve(a,"conditions",i),t.state_Conditions=b.ScheduleCallback(t.state_Conditions,n)})),Ie.HiddenObserve(e,"Conditions",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",r),null!=n&&Ie.HiddenObserve(n,"Value",r),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};er.__name__=!0;var tr=function(){};tr.__name__=!0,tr.prototype={compare:function(e,t,n){if(null==n)return null;switch(n){case"!=":return e!=t;case"<":return e<t;case"<=":return e<=t;case"==":return e==t;case">":return e>t;case">=":return e>=t}}};var nr=function(){};nr.__name__=!0,nr.prototype={compare:function(e,t,n){if(null==n)return null;switch(n){case"!=":return e!=t;case"<":return e<t;case"<=":return e<=t;case"==":return e==t;case">":return e>t;case">=":return e>=t}}};var ar=function(e,t){this.stringFactory=e,this.settings=t,this.CSSSelectorObserver=new ir(this)};ar.__name__=!0,ar.prototype={_updateSelector:function(){return this.stringFactory.Create(this.settings.selector)},_updateTargetElementQuery:function(){return null==this.Selector||tl.IsNullOrWhiteSpace(this.Selector.Value)?null:new gt(this.Selector.Value)},_updateValue:function(){return null==this.TargetElementQuery?null:this.TargetElementQuery.Result}};var ir=function(e){var t=this;this.state_Selector=!1,this.state_TargetElementQuery=!1,this.state_Value=!1;var n=function(){e.Selector=e._updateSelector(),t.state_Selector=!0},a=function(){e.TargetElementQuery=e._updateTargetElementQuery(),t.state_TargetElementQuery=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_Selector=b.ScheduleCallback(t.state_Selector,n)},o=function(e,n){t.state_TargetElementQuery=b.ScheduleCallback(t.state_TargetElementQuery,a)},s=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"selector",r),null!=a&&Ie.HiddenObserve(a,"selector",r),t.state_Selector=b.ScheduleCallback(t.state_Selector,n)})),Ie.HiddenObserve(e,"Selector",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",o),null!=n&&Ie.HiddenObserve(n,"Value",o),t.state_TargetElementQuery=b.ScheduleCallback(t.state_TargetElementQuery,a)})),Ie.HiddenObserve(e,"TargetElementQuery",(function(e,n){null!=e&&Ie.HiddenForget(e,"Result",s),null!=n&&Ie.HiddenObserve(n,"Result",s),t.state_Value=b.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};ir.__name__=!0;var rr=function(e,t){this.elementFactory=e,this.settings=t,this.ParentObserver=new or(this)};rr.__name__=!0,rr.prototype={_updateChild:function(){return this.elementFactory.Create(this.settings.child)},_updateValue:function(){return null==this.Child||null==this.Child.Value?null:this.Child.Value.parentElement}};var or=function(e){var t=this;this.state_Child=!1,this.state_Value=!1;var n=function(){e.Child=e._updateChild(),t.state_Child=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_Child=b.ScheduleCallback(t.state_Child,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)},o=function(e,n){null!=e&&Ie.HiddenForget(e,"parentElement",r),null!=n&&Ie.HiddenObserve(n,"parentElement",r),t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"child",i),null!=a&&Ie.HiddenObserve(a,"child",i),t.state_Child=b.ScheduleCallback(t.state_Child,n)})),Ie.HiddenObserve(e,"Child",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",o),null!=n&&Ie.HiddenObserve(n,"Value",o),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};or.__name__=!0;var sr=function(){};sr.__name__=!0,sr.validatorFunction=function(e){return null!=e&&"boolean"==typeof e},sr.prototype={Create:function(e){if(null==e)return new Zs;var t,n=e.settings;switch(e.id.toLowerCase()){case"activestateis":t=new Ii(this.State,n);break;case"and":t=new Mi(this,n);break;case"connectionspeedis":t=new Ei(this.NetworkSpeedProvider,n);break;case"constant":t=new Vi(n);break;case"displaymodeis":t=new Wi(this.IntegrationDisplayMode,n);break;case"elementexists":t=new Gi(this.ElementFactory,n);break;case"firstmatch":t=new Oi(this,n);break;case"floatcomparison":t=new Ni(this.FloatFactory,this.FloatFactory,this.FloatComparator,n);break;case"fromfield":t=new Fi(this.StringFactory,this.ObjectFactory,n,this.IntervalUpdater,sr.validatorFunction);break;case"fromjavascript":t=new Di(this.StringFactory,n,this.IntervalUpdater,sr.validatorFunction);break;case"fromstring":t=new Yi(this.StringFactory,n);break;case"istestvariantactive":t=new Zi(this.ActiveTestVariantName,n);break;case"mediaquerymatch":t=new ji(n);break;case"not":t=new Ki(this,n);break;case"or":t=new $i(this,n);break;case"stringcomparison":t=new Ni(this.StringFactory,this.StringFactory,this.StringComparator,n)}if(null==t)throw new rl("Unknown definition id: "+e.id);return t}};var lr=function(e){this.Value=e};lr.__name__=!0;var ur=function(e,t,n,a,i,r,o,s,l,u,d,c,h,_,g,v,b,f,p,m,S,C,y){this.state=e,this.navigationFocusMode=t,this.contentQueue=n,this.comparisonContentQueue=a,this.loadStateProvider=i,this.playerDownloader=r,this.boolFactory=o,this.stringFactory=s,this.objectFactory=C,this.shareManager=l,this.navigationManager=u,this.passThroughProvider=c,this.sceneManager=f,this.activeBookmarkHandler=h,this.transitionFactory=new Xs(c,this.activeBookmarkHandler,this.passThroughProvider,this.navigationFocusMode),this.gridDebuggingToggle=_,this.displayMode=g,this.displayModeOverride=v,this.playerProvider=b,this.navigationFactory=new Ba(new Wa(u,f,this.transitionFactory,h,d,n,a,p),S),this.route=p,this.fullscreenManager=m,this.colorPickerValue=y};ur.__name__=!0,ur.prototype={Create:function(e){if(null==e)return new Zs;var t=e.id.toLowerCase(),n=e.settings,a=null;switch(t){case"colorpicker":(a=this.CreateNode(t,n)).Value.Attributes.StringFactory=this.stringFactory,a.Value.Attributes.SelectedColor=this.colorPickerValue,a.Value.Attributes.ObjectFactory=this.objectFactory;break;case"comparisonbutton":case"gotoroutebutton":case"navigationbuttons":(a=this.CreateNode(t,n)).Value.Attributes.StringFactory=this.stringFactory,a.Value.Attributes.Route=this.route;break;case"conditional":a=new yi(this.boolFactory,this,n);break;case"displaymodebutton":(a=this.CreateNode("displaymodebutton",n)).Value.Attributes.DisplayMode=this.displayModeOverride,a.Value.Attributes.StringFactory=this.stringFactory;break;case"flipper":case"gallery":(a=this.CreateNode(t,n)).Value.Attributes.ActiveBookmarkHandler=this.activeBookmarkHandler,a.Value.Attributes.StringFactory=this.stringFactory;break;case"googleform":case"image":(a=this.CreateNode(t,n)).Value.Attributes.StringFactory=this.stringFactory;break;case"grid":(a=this.CreateNode(t,n)).Value.Attributes.ComponentFactory=this,a.Value.Attributes.DebuggingEnabled=this.gridDebuggingToggle;break;case"hand":(a=this.CreateNode(t,n)).Value.Attributes.State=this.state,a.Value.Attributes.NavigationFocusMode=this.navigationFocusMode;break;case"hide3dbutton":(a=this.CreateNode("showhide3dbutton",n)).Value.Attributes.Behavior="hide3d",a.Value.Attributes.StringFactory=this.stringFactory,a.Value.Attributes.WantToShowContent=this.state.WantToShowContent;break;case"inlinebox":(a=this.CreateNode(t,n)).Value.Attributes.ComponentFactory=this;break;case"integrationplayer":(a=this.CreateNode(t,n)).Value.Attributes.PlayerDownloader=this.playerDownloader,a.Value.Attributes.NavigationFocusMode=this.navigationFocusMode,a.Value.Attributes.PassThroughProvider=this.passThroughProvider,a.Value.Attributes.NavigationManager=this.navigationManager,a.Value.Attributes.SceneManager=this.sceneManager,a.Value.Attributes.NavigationFactory=this.navigationFactory,a.Value.Attributes.StringFactory=this.stringFactory,a.Value.Attributes.PlayerProvider=this.playerProvider;break;case"layout":(a=this.CreateNode(t,n)).Value.Attributes.ComponentFactory=this,a.Value.Attributes.State=this.state,a.Value.Attributes.BoolFactory=this.boolFactory,a.Value.Attributes.DisplayMode=this.displayMode,a.Value.Attributes.Route=this.route;break;case"linkbutton":(a=this.CreateNode(t,n)).Value.Attributes.BoolFactory=this.boolFactory,a.Value.Attributes.StringFactory=this.stringFactory;break;case"loadingbar":(a=this.CreateNode(t,n)).Value.Attributes.LoadStateProvider=this.loadStateProvider;break;case"partymodehint":(a=this.CreateNode(t,n)).Value.Attributes.NavigationFocusMode=this.navigationFocusMode,a.Value.Attributes.StringFactory=this.stringFactory;break;case"resetnavigationbutton":(a=this.CreateNode(t,n)).Value.Attributes.State=this.state,a.Value.Attributes.StringFactory=this.stringFactory;break;case"route":(a=this.CreateNode(t,n)).Value.Attributes.ComponentFactory=this,a.Value.Attributes.Route=this.route;break;case"sharebutton":(a=this.CreateNode(t,n)).Value.Attributes.StringFactory=this.stringFactory,a.Value.Attributes.ShareManager=this.shareManager;break;case"show3dbutton":(a=this.CreateNode("showhide3dbutton",n)).Value.Attributes.State=this.state,a.Value.Attributes.Behavior="show3d",a.Value.Attributes.StringFactory=this.stringFactory,a.Value.Attributes.WantToShowContent=this.state.WantToShowContent;break;case"stylepane":a=this.CreateNode(t,n)}if(null==a)throw new rl("Unknown definition id: "+e.id);return a},CreateNode:function(e,t){var n=Oe.CreateNode(e);return n.Attributes.Settings=t,new lr(n)}};var dr=function(){};dr.__name__=!0,dr.prototype={Create:function(e){if(null==e)return new Zs;var t,n=e.settings;switch(e.id.toLowerCase()){case"conditional":t=new yi(this.BoolFactory,this,n);break;case"constant":t=new ar(this.StringFactory,{selector:n.value});break;case"cssselector":t=new ar(this.StringFactory,n);break;case"firstmatch":t=new Oi(this,n);break;case"parent":t=new rr(this,n)}if(null==t)throw new rl("Unknown definition id: "+e.id);return t}};var cr=function(){};cr.__name__=!0,cr.validatorFunction=function(e){if(null==e||("number"!=typeof e||e%1!=0)){return null!=e&&"number"==typeof e}return!0},cr.prototype={Create:function(e){if(null==e)return new Zs;var t,n=e.settings;switch(e.id.toLowerCase()){case"constant":t=new Vi(n);break;case"firstmatch":t=new Oi(this,n);break;case"fromfield":t=new Fi(this.StringFactory,this.ObjectFactory,n,this.IntervalUpdater,cr.validatorFunction);break;case"fromjavascript":t=new Di(this.StringFactory,n,this.IntervalUpdater,cr.validatorFunction);break;case"fromstring":t=new gr(this.StringFactory,n);break;case"windowsize":t=new br(n)}if(null==t)throw new rl("Unknown definition id: "+e.id);return t}};var hr=function(){};hr.__name__=!0,hr.validatorFunction=function(e){return null!=e&&"object"==typeof e},hr.prototype={Create:function(e){if(null==e)return new Zs;var t,n=e.settings;switch(e.id.toLowerCase()){case"angularscope":t=new pr(this.ElementFactory,n,this.IntervalUpdater);break;case"constant":t=new Vi(n);break;case"findinarraybybool":t=new Sr(this.StringFactory,this,this.BoolFactory,n,this.IntervalUpdater);break;case"findinarraybyelement":t=new Sr(this.StringFactory,this,this.ElementFactory,n,this.IntervalUpdater);break;case"findinarraybynumber":t=new Sr(this.StringFactory,this,this.FloatFactory,n,this.IntervalUpdater);break;case"findinarraybyobject":t=new Sr(this.StringFactory,this,this,n,this.IntervalUpdater);break;case"findinarraybystring":t=new Sr(this.StringFactory,this,this.StringFactory,n,this.IntervalUpdater);break;case"findinarraywithfield":t=new yr(this.StringFactory,this,n,this.IntervalUpdater);break;case"fromfield":t=new Fi(this.StringFactory,this,n,this.IntervalUpdater,hr.validatorFunction);break;case"fromjavascript":t=new Di(this.StringFactory,n,this.IntervalUpdater,hr.validatorFunction);break;case"parsejson":t=new Vr(this.StringFactory,n);break;case"vuescope":t=new Or(this.ElementFactory,n,this.IntervalUpdater)}if(null==t)throw new rl("Unknown definition id: "+e.id);return t}};var _r=function(){};_r.__name__=!0,_r.validatorFunction=function(e){return null!=e&&"string"==typeof e},_r.prototype={Create:function(e){if(null==e)return new Zs;var t,n=e.settings;switch(e.id.toLowerCase()){case"attributefromelement":t=new Fr(n,this,this.ElementFactory);break;case"checkedinputattribute":t=new Dr(n,this.IntervalUpdater);break;case"conditional":t=new yi(this.BoolFactory,this,n);break;case"constant":t=new Vi(n);break;case"elementtextcontent":t=new Ar(this.ElementFactory,n);break;case"firstmatch":t=new Oi(this,n);break;case"frombool":t=new Rr(this.BoolFactory,n);break;case"fromcolorpicker":t=new Tr(n,this.ColorPickerValue);break;case"fromfield":t=new Fi(this,this.ObjectFactory,n,this.IntervalUpdater,_r.validatorFunction);break;case"fromfloat":t=new Rr(this.FloatFactory,n);break;case"fromjavascript":t=new Di(this,n,this.IntervalUpdater,_r.validatorFunction);break;case"jqueryattribute":t=new Lr(this.ElementFactory,this,n,this.IntervalUpdater);break;case"jsonld":t=new Br(n);break;case"lastpartofurl":t=new Ur(this,n);break;case"localize":t=new Yr(this,n);break;case"multipart":t=new Zr(this,n);break;case"queryattribute":t=new jr(n,this);break;case"querystyleproperty":t=new Kr(n);break;case"regex":t=new $r(this,n);break;case"removeduplicates":t=new to(this,n);break;case"replace":t=new ao(this,n);break;case"sanitize":t=new ro(this,n,this.Sanitizer);break;case"template":t=new so(this,n);break;case"urlparameter":t=new uo(this,n)}if(null==t)throw new rl("Unknown definition id: "+e.id);return t}};var gr=function(e,t){this.stringFactory=e,this.settings=t,this.FromStringObserver=new vr(this)};gr.__name__=!0,gr.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.settings.value)},_updateValue:function(){if(null==this.StringValue||null==this.StringValue.Value)return null;var e=parseFloat(this.StringValue.Value);return isNaN(e)?null:e}};var vr=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"value",i),null!=a&&Ie.HiddenObserve(a,"value",i),t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n)})),Ie.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",r),null!=n&&Ie.HiddenObserve(n,"Value",r),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};vr.__name__=!0;var br=function(e){this.settings=e,window.addEventListener("resize",dl(this,this.OnResize)),this.OnResize(),this.WindowSizeObserver=new fr(this)};br.__name__=!0,br.prototype={OnResize:function(){this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight,this.outerWidth=window.outerWidth,this.outerHeight=window.outerHeight},_updateValue:function(){switch(this.settings.dimension){case"bodyheight":return window.document.body.clientHeight;case"bodywidth":return window.document.body.clientWidth;case"htmlheight":return window.document.documentElement.clientHeight;case"htmlwidth":return window.document.documentElement.clientWidth;case"innerheight":return this.innerHeight;case"innerwidth":return this.innerWidth;case"outerheight":return this.outerHeight;case"outerwidth":return this.outerWidth}}};var fr=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)};Ie.HiddenObserve(e,"settings",(function(e,i){null!=e&&Ie.HiddenForget(e,"dimension",a),null!=i&&Ie.HiddenObserve(i,"dimension",a),t.state_Value=b.ScheduleCallback(t.state_Value,n)})),Ie.HiddenObserve(e,"innerHeight",(function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)})),Ie.HiddenObserve(e,"innerWidth",(function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)})),Ie.HiddenObserve(e,"outerHeight",(function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)})),Ie.HiddenObserve(e,"outerWidth",(function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)})),n()};fr.__name__=!0;var pr=function(e,t,n){this.elementFactory=e,this.settings=t,this.updateTrigger=n,this.tryToSetAngular(),this.AngularScopeObserver=new mr(this)};pr.__name__=!0,pr.prototype={tryToSetAngular:function(){null==window.angular?window.setTimeout(dl(this,this.tryToSetAngular),500):this.angular=window.angular},_updateScopeElement:function(){return this.elementFactory.Create(this.settings.scopeElement)},_updateAngularElement:function(){return null==this.angular||null==this.ScopeElement||null==this.ScopeElement.Value?null:this.angular.element(this.ScopeElement.Value)},_updateValue:function(){return null==this.AngularElement?null:this.AngularElement.scope()}};var mr=function(e){var t=this;this.state_ScopeElement=!1,this.state_AngularElement=!1,this.state_Value=!1;var n=function(){e.ScopeElement=e._updateScopeElement(),t.state_ScopeElement=!0},a=function(){e.AngularElement=e._updateAngularElement(),t.state_AngularElement=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_ScopeElement=b.ScheduleCallback(t.state_ScopeElement,n)},o=function(e,n){t.state_AngularElement=b.ScheduleCallback(t.state_AngularElement,a)},s=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"scopeElement",r),null!=a&&Ie.HiddenObserve(a,"scopeElement",r),t.state_ScopeElement=b.ScheduleCallback(t.state_ScopeElement,n)})),Ie.HiddenObserve(e,"angular",(function(e,n){t.state_AngularElement=b.ScheduleCallback(t.state_AngularElement,a)})),Ie.HiddenObserve(e,"ScopeElement",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",o),null!=n&&Ie.HiddenObserve(n,"Value",o),t.state_AngularElement=b.ScheduleCallback(t.state_AngularElement,a)})),Ie.HiddenObserve(e,"AngularElement",(function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)})),Ie.HiddenObserve(e,"updateTrigger",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",s),null!=n&&Ie.HiddenObserve(n,"Value",s),t.state_Value=b.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};mr.__name__=!0;var Sr=function(e,t,n,a,i){this.objectFactory=t,this.stringFactory=e,this.valueFactory=n,this.settings=a,this.updateTrigger=i,this.FindInArrayByObserver=new Cr(this)};Sr.__name__=!0,Sr.prototype={_updateArray:function(){return this.objectFactory.Create(this.settings.array)},_updateAttributePath:function(){return this.stringFactory.Create(this.settings.attributePath)},_updateFieldValue:function(){return this.valueFactory.Create(this.settings.value)},_updateValue:function(){if(null==this.Array||null==this.Array.Value)return null;if(null==this.updateTrigger||null==this.updateTrigger.Value)return null;if(null==this.AttributePath||null==this.AttributePath.Value)return null;if(null==this.FieldValue)return null;if(!Array.isArray(this.Array.Value))return null;for(var e=this.Array.Value,t=0;t<e.length;){var n=e[t];++t;var a=Ai.EvaluatePath(n,this.AttributePath.Value);if(a==this.FieldValue.Value&&typeof a==typeof this.FieldValue.Value)return n}return null}};var Cr=function(e){var t=this;this.state_Array=!1,this.state_AttributePath=!1,this.state_FieldValue=!1,this.state_Value=!1;var n=function(){e.Array=e._updateArray(),t.state_Array=!0},a=function(){e.AttributePath=e._updateAttributePath(),t.state_AttributePath=!0},i=function(){e.FieldValue=e._updateFieldValue(),t.state_FieldValue=!0},r=function(){e.Value=e._updateValue(),t.state_Value=!0},o=function(e,a){t.state_Array=b.ScheduleCallback(t.state_Array,n)},s=function(e,n){t.state_AttributePath=b.ScheduleCallback(t.state_AttributePath,a)},l=function(e,n){t.state_FieldValue=b.ScheduleCallback(t.state_FieldValue,i)},u=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,r)},d=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,r)},c=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,r)},h=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,r)};Ie.HiddenObserve(e,"settings",(function(e,r){null!=e&&(Ie.HiddenForget(e,"array",o),Ie.HiddenForget(e,"attributePath",s),Ie.HiddenForget(e,"value",l)),null!=r&&(Ie.HiddenObserve(r,"array",o),Ie.HiddenObserve(r,"attributePath",s),Ie.HiddenObserve(r,"value",l)),t.state_Array=b.ScheduleCallback(t.state_Array,n),t.state_AttributePath=b.ScheduleCallback(t.state_AttributePath,a),t.state_FieldValue=b.ScheduleCallback(t.state_FieldValue,i)})),Ie.HiddenObserve(e,"Array",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",u),null!=n&&Ie.HiddenObserve(n,"Value",u),t.state_Value=b.ScheduleCallback(t.state_Value,r)})),Ie.HiddenObserve(e,"updateTrigger",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",d),null!=n&&Ie.HiddenObserve(n,"Value",d),t.state_Value=b.ScheduleCallback(t.state_Value,r)})),Ie.HiddenObserve(e,"AttributePath",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",c),null!=n&&Ie.HiddenObserve(n,"Value",c),t.state_Value=b.ScheduleCallback(t.state_Value,r)})),Ie.HiddenObserve(e,"FieldValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",h),null!=n&&Ie.HiddenObserve(n,"Value",h),t.state_Value=b.ScheduleCallback(t.state_Value,r)})),n(),a(),i(),r()};Cr.__name__=!0;var yr=function(e,t,n,a){this.objectFactory=t,this.stringFactory=e,this.settings=n,this.updateTrigger=a,this.FindInArrayWithFieldObserver=new kr(this)};yr.__name__=!0,yr.prototype={_updateArray:function(){return this.objectFactory.Create(this.settings.array)},_updateAttributePath:function(){return this.stringFactory.Create(this.settings.attributePath)},_updateValue:function(){if(null==this.updateTrigger||null==this.updateTrigger.Value)return null;if(null==this.Array||null==this.Array.Value)return null;if(null==this.AttributePath||null==this.AttributePath.Value)return null;if(!Array.isArray(this.Array.Value))return null;for(var e=this.Array.Value,t=0;t<e.length;){var n=e[t];if(++t,null!=Ai.EvaluatePath(n,this.AttributePath.Value))return n}return null}};var kr=function(e){var t=this;this.state_Array=!1,this.state_AttributePath=!1,this.state_Value=!1;var n=function(){e.Array=e._updateArray(),t.state_Array=!0},a=function(){e.AttributePath=e._updateAttributePath(),t.state_AttributePath=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_Array=b.ScheduleCallback(t.state_Array,n)},o=function(e,n){t.state_AttributePath=b.ScheduleCallback(t.state_AttributePath,a)},s=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)},l=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)},u=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)};Ie.HiddenObserve(e,"settings",(function(e,i){null!=e&&(Ie.HiddenForget(e,"array",r),Ie.HiddenForget(e,"attributePath",o)),null!=i&&(Ie.HiddenObserve(i,"array",r),Ie.HiddenObserve(i,"attributePath",o)),t.state_Array=b.ScheduleCallback(t.state_Array,n),t.state_AttributePath=b.ScheduleCallback(t.state_AttributePath,a)})),Ie.HiddenObserve(e,"updateTrigger",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",s),null!=n&&Ie.HiddenObserve(n,"Value",s),t.state_Value=b.ScheduleCallback(t.state_Value,i)})),Ie.HiddenObserve(e,"Array",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",l),null!=n&&Ie.HiddenObserve(n,"Value",l),t.state_Value=b.ScheduleCallback(t.state_Value,i)})),Ie.HiddenObserve(e,"AttributePath",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",u),null!=n&&Ie.HiddenObserve(n,"Value",u),t.state_Value=b.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};kr.__name__=!0;var Vr=function(e,t){this.stringFactory=e,this.settings=t,this.ParseJsonObserver=new Hr(this)};Vr.__name__=!0,Vr.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.settings.value)},_updateValue:function(){if(null==this.StringValue||null==this.StringValue.Value)return null;var e=this.StringValue.Value;try{return JSON.parse(e)}catch(t){return el.trace('Binkies 3D: value is not a valid JSON string: "'+e+'"',{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/object/ParseJson.hx",lineNumber:46,className:"binkies.integration.values.object.ParseJson",methodName:"_updateValue"}),null}}};var Hr=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"value",i),null!=a&&Ie.HiddenObserve(a,"value",i),t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n)})),Ie.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",r),null!=n&&Ie.HiddenObserve(n,"Value",r),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};Hr.__name__=!0;var Or=function(e,t,n){this.elementFactory=e,this.settings=t,this.updateTrigger=n,this.VueScopeObserver=new wr(this)};Or.__name__=!0,Or.prototype={_updateScopeElement:function(){return this.elementFactory.Create(this.settings.scopeElement)},_updateValue:function(){return null==this.ScopeElement||null==this.ScopeElement.Value?null:this.ScopeElement.Value.__vue__}};var wr=function(e){var t=this;this.state_ScopeElement=!1,this.state_Value=!1;var n=function(){e.ScopeElement=e._updateScopeElement(),t.state_ScopeElement=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_ScopeElement=b.ScheduleCallback(t.state_ScopeElement,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)},o=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"scopeElement",i),null!=a&&Ie.HiddenObserve(a,"scopeElement",i),t.state_ScopeElement=b.ScheduleCallback(t.state_ScopeElement,n)})),Ie.HiddenObserve(e,"ScopeElement",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",r),null!=n&&Ie.HiddenObserve(n,"Value",r),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),Ie.HiddenObserve(e,"updateTrigger",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",o),null!=n&&Ie.HiddenObserve(n,"Value",o),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};wr.__name__=!0;var Fr=function(e,t,n){var a=this;this.settings=e,this.elementFactory=n,this.stringFactory=t;var i=new MutationObserver(dl(this,this.ObserverCallback)),r={attributes:!0};Ie.HiddenObserve(this,"Element",(function(e,t){null!=e&&(i.disconnect(),a.Value=null),null!=t&&(i.observe(t,r),a.ObserverCallback(null,null))}),!0),this.AttributeFromElementObserver=new xr(this)};Fr.__name__=!0,Fr.prototype={ObserverCallback:function(e,t){this.Value=this.Element.getAttribute(this.AttributeString.Value)},_updateAttributeString:function(){return this.stringFactory.Create(this.settings.attribute)},_updateElementValue:function(){return this.elementFactory.Create(this.settings.element)},_updateElement:function(){return null==this.ElementValue||null==this.AttributeString?null:this.ElementValue.Value}};var xr=function(e){var t=this;this.state_AttributeString=!1,this.state_ElementValue=!1,this.state_Element=!1;var n=function(){e.AttributeString=e._updateAttributeString(),t.state_AttributeString=!0},a=function(){e.ElementValue=e._updateElementValue(),t.state_ElementValue=!0},i=function(){e.Element=e._updateElement(),t.state_Element=!0},r=function(e,a){t.state_AttributeString=b.ScheduleCallback(t.state_AttributeString,n)},o=function(e,n){t.state_ElementValue=b.ScheduleCallback(t.state_ElementValue,a)},s=function(e,n){t.state_Element=b.ScheduleCallback(t.state_Element,i)};Ie.HiddenObserve(e,"settings",(function(e,i){null!=e&&(Ie.HiddenForget(e,"attribute",r),Ie.HiddenForget(e,"element",o)),null!=i&&(Ie.HiddenObserve(i,"attribute",r),Ie.HiddenObserve(i,"element",o)),t.state_AttributeString=b.ScheduleCallback(t.state_AttributeString,n),t.state_ElementValue=b.ScheduleCallback(t.state_ElementValue,a)})),Ie.HiddenObserve(e,"ElementValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",s),null!=n&&Ie.HiddenObserve(n,"Value",s),t.state_Element=b.ScheduleCallback(t.state_Element,i)})),Ie.HiddenObserve(e,"AttributeString",(function(e,n){t.state_Element=b.ScheduleCallback(t.state_Element,i)})),n(),a(),i()};xr.__name__=!0;var Dr=function(e,t){this.settings=e,this.updateTrigger=t,this.CheckedInputAttributeObserver=new Pr(this)};Dr.__name__=!0,Dr.prototype={_updateDomQuery:function(){return null==this.settings||tl.IsNullOrWhiteSpace(this.settings.query)?null:new vt(this.settings.query)},_updateValue:function(){if(null==this.updateTrigger||null==this.updateTrigger.Value)return null;if(null==this.DomQuery||null==this.DomQuery.Result)return null;for(var e=null,t=0,n=this.DomQuery.Result;t<n.length&&null==(e=this.CheckResult(n[t++])););return e},CheckResult:function(e){return"INPUT"!=e.tagName?null:e.checked?e.getAttribute(this.settings.attribute):null}};var Pr=function(e){var t=this;this.state_DomQuery=!1,this.state_Value=!1;var n=function(){e.DomQuery=e._updateDomQuery(),t.state_DomQuery=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_DomQuery=b.ScheduleCallback(t.state_DomQuery,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)},o=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"query",i),null!=a&&Ie.HiddenObserve(a,"query",i),t.state_DomQuery=b.ScheduleCallback(t.state_DomQuery,n)})),Ie.HiddenObserve(e,"updateTrigger",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",r),null!=n&&Ie.HiddenObserve(n,"Value",r),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),Ie.HiddenObserve(e,"DomQuery",(function(e,n){null!=e&&Ie.HiddenForget(e,"Result",o),null!=n&&Ie.HiddenObserve(n,"Result",o),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};Pr.__name__=!0;var Ar=function(e,t){this.triggerValue=0;var n=this;this.settings=t,this.elementFactory=e;var a={characterData:!0,subtree:!0,childList:!0};this.observer=new MutationObserver((function(e,t){return n.triggerValue++})),Ie.HiddenObserve(this,"ElementValue",(function(e,t){null!=e&&n.observer.disconnect(),null!=t&&n.observer.observe(t,a)}),!0),this.ElementTextContentObserver=new Ir(this)};Ar.__name__=!0,Ar.prototype={_updateElement:function(){return null==this.settings||null==this.settings.element?null:this.elementFactory.Create(this.settings.element)},_updateElementValue:function(){return null==this.Element?null:this.Element.Value},_updateValue:function(){return null==this.ElementValue||null==this.triggerValue?null:this.GetTextContent()},GetTextContent:function(){return this.ElementValue.textContent}};var Ir=function(e){var t=this;this.state_Element=!1,this.state_ElementValue=!1,this.state_Value=!1;var n=function(){e.Element=e._updateElement(),t.state_Element=!0},a=function(){e.ElementValue=e._updateElementValue(),t.state_ElementValue=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_Element=b.ScheduleCallback(t.state_Element,n)},o=function(e,n){t.state_ElementValue=b.ScheduleCallback(t.state_ElementValue,a)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"element",r),null!=a&&Ie.HiddenObserve(a,"element",r),t.state_Element=b.ScheduleCallback(t.state_Element,n)})),Ie.HiddenObserve(e,"Element",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",o),null!=n&&Ie.HiddenObserve(n,"Value",o),t.state_ElementValue=b.ScheduleCallback(t.state_ElementValue,a)})),Ie.HiddenObserve(e,"ElementValue",(function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)})),Ie.HiddenObserve(e,"triggerValue",(function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};Ir.__name__=!0;var Tr=function(e,t){this.value=t,this.FromColorPickerObserver=new Mr(this)};Tr.__name__=!0,Tr.prototype={_updateValue:function(){return null==this.value?null:this.value.Value}};var Mr=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)};Ie.HiddenObserve(e,"value",(function(e,i){null!=e&&Ie.HiddenForget(e,"Value",a),null!=i&&Ie.HiddenObserve(i,"Value",a),t.state_Value=b.ScheduleCallback(t.state_Value,n)})),n()};Mr.__name__=!0;var Rr=function(e,t){this.valueFactory=e,this.settings=t,this.FromValueObserver=new Nr(this)};Rr.__name__=!0,Rr.prototype={_updateInputValue:function(){return this.valueFactory.Create(this.settings.value)},_updateValue:function(){return null==this.InputValue||null==this.InputValue.Value?null:d.string(this.InputValue.Value)}};var Nr=function(e){var t=this;this.state_InputValue=!1,this.state_Value=!1;var n=function(){e.InputValue=e._updateInputValue(),t.state_InputValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_InputValue=b.ScheduleCallback(t.state_InputValue,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"value",i),null!=a&&Ie.HiddenObserve(a,"value",i),t.state_InputValue=b.ScheduleCallback(t.state_InputValue,n)})),Ie.HiddenObserve(e,"InputValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",r),null!=n&&Ie.HiddenObserve(n,"Value",r),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};Nr.__name__=!0;var Lr=function(e,t,n,a){this.elementFactory=e,this.stringFactory=t,this.settings=n,this.updateTrigger=a,this.JQueryAttributeObserver=new Er(this)};Lr.__name__=!0,Lr.prototype={_updateDataElement:function(){return this.elementFactory.Create(this.settings.dataElement)},_updateJQueryElement:function(){return null==this.DataElement||null==this.DataElement.Value?null:window.jQuery(this.DataElement.Value)},_updateData:function(){return null==this.JQueryElement?null:this.JQueryElement.data()},_updateValue:function(){if(null==this.Data)return null;for(var e=this.settings.attributePath.split("."),t=this.Data,n=0,a=e.length;n<a&&null!=(t=t[e[n++]]););return t}};var Er=function(e){var t=this;this.state_DataElement=!1,this.state_JQueryElement=!1,this.state_Data=!1,this.state_Value=!1;var n=function(){e.DataElement=e._updateDataElement(),t.state_DataElement=!0},a=function(){e.JQueryElement=e._updateJQueryElement(),t.state_JQueryElement=!0},i=function(){e.Data=e._updateData(),t.state_Data=!0},r=function(){e.Value=e._updateValue(),t.state_Value=!0},o=function(e,a){t.state_DataElement=b.ScheduleCallback(t.state_DataElement,n)},s=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,r)},l=function(e,n){t.state_JQueryElement=b.ScheduleCallback(t.state_JQueryElement,a)},u=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,r)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&(Ie.HiddenForget(e,"dataElement",o),Ie.HiddenForget(e,"attributePath",s)),null!=a&&(Ie.HiddenObserve(a,"dataElement",o),Ie.HiddenObserve(a,"attributePath",s)),t.state_DataElement=b.ScheduleCallback(t.state_DataElement,n),t.state_Value=b.ScheduleCallback(t.state_Value,r)})),Ie.HiddenObserve(e,"DataElement",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",l),null!=n&&Ie.HiddenObserve(n,"Value",l),t.state_JQueryElement=b.ScheduleCallback(t.state_JQueryElement,a)})),Ie.HiddenObserve(e,"JQueryElement",(function(e,n){t.state_Data=b.ScheduleCallback(t.state_Data,i)})),Ie.HiddenObserve(e,"Data",(function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,r)})),Ie.HiddenObserve(e,"updateTrigger",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",u),null!=n&&Ie.HiddenObserve(n,"Value",u),t.state_Value=b.ScheduleCallback(t.state_Value,r)})),n(),a(),i(),r()};Er.__name__=!0;var Br=function(e){this.settings=e,this.JsonLdObserver=new Wr(this)};Br.__name__=!0,Br.prototype={_updateDomQuery:function(){var e=this,t='script[type="application/ld+json"]';return new _t(t,"dummy",(function(n){var a=window.document.querySelector(t);if(null==a||null==a.textContent)e.jsonContent=null;else try{e.jsonContent=JSON.parse(a.textContent)}catch(t){el.trace('Binkies 3D: value is not a valid JSON string: "'+a.textContent+'"',{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/string/JsonLd.hx",lineNumber:45,className:"binkies.integration.values.string.JsonLd",methodName:"_updateDomQuery"}),e.jsonContent=null}}))},_updateValue:function(){if(null==this.jsonContent)return null;for(var e=this.settings.attributePath.split("."),t=this.jsonContent,n=0,a=e.length;n<a&&null!=(t=t[e[n++]]););var i,r=t;if(null!=r){i=!(null!=r&&"string"==typeof r)}else i=!1;return i?(el.trace('Binkies 3D: value found at "'+this.settings.attributePath+'" is not a String',{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/string/JsonLd.hx",lineNumber:60,className:"binkies.integration.values.string.JsonLd",methodName:"_updateValue"}),null):r}};var Wr=function(e){var t=this;this.state_DomQuery=!1,this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)};Ie.HiddenObserve(e,"jsonContent",(function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)})),Ie.HiddenObserve(e,"settings",(function(e,i){null!=e&&Ie.HiddenForget(e,"attributePath",a),null!=i&&Ie.HiddenObserve(i,"attributePath",a),t.state_Value=b.ScheduleCallback(t.state_Value,n)})),e.DomQuery=e._updateDomQuery(),t.state_DomQuery=!0,n()};Wr.__name__=!0;var Ur=function(e,t){this.stringFactory=e,this.settings=t,this.LastPartOfURLObserver=new Gr(this)};Ur.__name__=!0,Ur.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.settings.value)},_updateValue:function(){if(null==this.StringValue||null==this.StringValue.Value)return null;var e=null;try{e=new URL(this.StringValue.Value,"http://dummy.com")}catch(e){return el.trace(e instanceof rl?e.val:e,{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/string/LastPartOfURL.hx",lineNumber:46,className:"binkies.integration.values.string.LastPartOfURL",methodName:"_updateValue"}),null}var t=e.pathname;if(null==t)return null;for(var n=t.split("/"),a=null,i=1,r=n.length+1;i<r&&!((a=n[n.length-i++]).length>0););var o=a;if(null==this.settings.removeExtension||this.settings.removeExtension){var s=o.split(".");s.length>1&&(s.pop(),o=s.join("."))}return o}};var Gr=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)},o=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,o){null!=e&&(Ie.HiddenForget(e,"value",i),Ie.HiddenForget(e,"removeExtension",r)),null!=o&&(Ie.HiddenObserve(o,"value",i),Ie.HiddenObserve(o,"removeExtension",r)),t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),Ie.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",o),null!=n&&Ie.HiddenObserve(n,"Value",o),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};Gr.__name__=!0;var Xr=function(e){this.itemName=e,this.Value=Xr.storage.getItem(this.itemName)};Xr.__name__=!0,Xr.prototype={SetValue:function(e){null==e?Xr.storage.removeItem(this.itemName):Xr.storage.setItem(this.itemName,e),this.Value=e}};var Yr=function(e,t){this.documentLanguage=new gt("html",null,(function(e){return e.getAttribute("lang")})),this.stringFactory=e,this.settings=t,this.LocalizeObserver=new zr(this)};Yr.__name__=!0,Yr.prototype={_updateCurrentLanguage:function(){return this.documentLanguage.Result},_updateCurrentTranslation:function(){var e=this;if(null==this.settings||null==this.settings.translations)return this.settings.defaultValue;var t=s.find(this.settings.translations,(function(t){return t.language==e.CurrentLanguage}));return null==t?this.settings.defaultValue:t.value},_updateStringValue:function(){return null==this.CurrentTranslation?null:this.stringFactory.Create(this.CurrentTranslation)},_updateValue:function(){return null==this.StringValue?null:this.StringValue.Value}};var zr=function(e){var t=this;this.state_CurrentLanguage=!1,this.state_CurrentTranslation=!1,this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.CurrentLanguage=e._updateCurrentLanguage(),t.state_CurrentLanguage=!0},a=function(){e.CurrentTranslation=e._updateCurrentTranslation(),t.state_CurrentTranslation=!0},i=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},r=function(){e.Value=e._updateValue(),t.state_Value=!0},o=function(e,a){t.state_CurrentLanguage=b.ScheduleCallback(t.state_CurrentLanguage,n)},s=function(e,n){t.state_CurrentTranslation=b.ScheduleCallback(t.state_CurrentTranslation,a)},l=function(e,n){t.state_CurrentTranslation=b.ScheduleCallback(t.state_CurrentTranslation,a)},u=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,r)};Ie.HiddenObserve(e,"documentLanguage",(function(e,a){null!=e&&Ie.HiddenForget(e,"Result",o),null!=a&&Ie.HiddenObserve(a,"Result",o),t.state_CurrentLanguage=b.ScheduleCallback(t.state_CurrentLanguage,n)})),Ie.HiddenObserve(e,"settings",(function(e,n){null!=e&&(Ie.HiddenForget(e,"translations",s),Ie.HiddenForget(e,"defaultValue",l)),null!=n&&(Ie.HiddenObserve(n,"translations",s),Ie.HiddenObserve(n,"defaultValue",l)),t.state_CurrentTranslation=b.ScheduleCallback(t.state_CurrentTranslation,a)})),Ie.HiddenObserve(e,"CurrentLanguage",(function(e,n){t.state_CurrentTranslation=b.ScheduleCallback(t.state_CurrentTranslation,a)})),Ie.HiddenObserve(e,"CurrentTranslation",(function(e,n){t.state_StringValue=b.ScheduleCallback(t.state_StringValue,i)})),Ie.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",u),null!=n&&Ie.HiddenObserve(n,"Value",u),t.state_Value=b.ScheduleCallback(t.state_Value,r)})),n(),a(),i(),r()};zr.__name__=!0;var Zr=function(e,t){this.stringFactory=e,this.settings=t,this.MultipartObserver=new Qr(this)};Zr.__name__=!0,Zr.prototype={_updateValues:function(){if(null==this.settings||null==this.settings.values)return null;for(var e=this.settings.values,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=this.stringFactory.Create(e[i])}return t},_updateValue:function(){if(null==this.Values)return null;for(var e=0,t=this.Values;e<t.length;)if(null==t[e++].Value)return null;for(var n=this.Values,a=new Array(n.length),i=0,r=n.length;i<r;){var o=i++;a[o]=n[o].Value}return a.join(this.settings.separator)}};var Qr=function(e){var t=this;this.state_Values=!1,this.state_Value=!1;var n=function(){e.Values=e._updateValues(),t.state_Values=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_Values=b.ScheduleCallback(t.state_Values,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)},o=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,o){null!=e&&(Ie.HiddenForget(e,"values",i),Ie.HiddenForget(e,"separator",r)),null!=o&&(Ie.HiddenObserve(o,"values",i),Ie.HiddenObserve(o,"separator",r)),t.state_Values=b.ScheduleCallback(t.state_Values,n),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),Ie.HiddenObserve(e,"Values",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",o),null!=n&&Ie.HiddenObserve(n,"Value",o),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};Qr.__name__=!0;var jr=function(e,t){this.settings=e,this.stringFactory=t,this.QueryAttributeObserver=new qr(this)};jr.__name__=!0,jr.prototype={_updateQueryString:function(){return this.stringFactory.Create(this.settings.query)},_updateAttributeString:function(){return this.stringFactory.Create(this.settings.attribute)},_updateDomQuery:function(){var e=this;return null==this.QueryString||null==this.QueryString.Value||null==this.AttributeString||null==this.AttributeString.Value||tl.IsNullOrWhiteSpace(this.QueryString.Value)?null:new gt(this.QueryString.Value,null,(function(t){return t.getAttribute(e.AttributeString.Value)}))},_updateValue:function(){return null==this.DomQuery?null:this.DomQuery.Result}};var qr=function(e){var t=this;this.state_QueryString=!1,this.state_AttributeString=!1,this.state_DomQuery=!1,this.state_Value=!1;var n=function(){e.QueryString=e._updateQueryString(),t.state_QueryString=!0},a=function(){e.AttributeString=e._updateAttributeString(),t.state_AttributeString=!0},i=function(){e.DomQuery=e._updateDomQuery(),t.state_DomQuery=!0},r=function(){e.Value=e._updateValue(),t.state_Value=!0},o=function(e,a){t.state_QueryString=b.ScheduleCallback(t.state_QueryString,n)},s=function(e,n){t.state_AttributeString=b.ScheduleCallback(t.state_AttributeString,a)},l=function(e,n){t.state_DomQuery=b.ScheduleCallback(t.state_DomQuery,i)},u=function(e,n){t.state_DomQuery=b.ScheduleCallback(t.state_DomQuery,i)},d=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,r)};Ie.HiddenObserve(e,"settings",(function(e,i){null!=e&&(Ie.HiddenForget(e,"query",o),Ie.HiddenForget(e,"attribute",s)),null!=i&&(Ie.HiddenObserve(i,"query",o),Ie.HiddenObserve(i,"attribute",s)),t.state_QueryString=b.ScheduleCallback(t.state_QueryString,n),t.state_AttributeString=b.ScheduleCallback(t.state_AttributeString,a)})),Ie.HiddenObserve(e,"QueryString",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",l),null!=n&&Ie.HiddenObserve(n,"Value",l),t.state_DomQuery=b.ScheduleCallback(t.state_DomQuery,i)})),Ie.HiddenObserve(e,"AttributeString",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",u),null!=n&&Ie.HiddenObserve(n,"Value",u),t.state_DomQuery=b.ScheduleCallback(t.state_DomQuery,i)})),Ie.HiddenObserve(e,"DomQuery",(function(e,n){null!=e&&Ie.HiddenForget(e,"Result",d),null!=n&&Ie.HiddenObserve(n,"Result",d),t.state_Value=b.ScheduleCallback(t.state_Value,r)})),n(),a(),i(),r()};qr.__name__=!0;var Kr=function(e){this.settings=e,this.QueryStylePropertyObserver=new Jr(this)};Kr.__name__=!0,Kr.prototype={_updateDomQuery:function(){var e=this;return null==this.settings||tl.IsNullOrWhiteSpace(this.settings.query)?null:new gt(this.settings.query,null,(function(t){var n=t.style.getPropertyValue(e.settings.property);return tl.IsNullOrWhiteSpace(n)&&(n=window.getComputedStyle(t).getPropertyValue(e.settings.property)),n}))},_updateValue:function(){return null==this.DomQuery?null:this.DomQuery.Result}};var Jr=function(e){var t=this;this.state_DomQuery=!1,this.state_Value=!1;var n=function(){e.DomQuery=e._updateDomQuery(),t.state_DomQuery=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_DomQuery=b.ScheduleCallback(t.state_DomQuery,n)},r=function(e,a){t.state_DomQuery=b.ScheduleCallback(t.state_DomQuery,n)},o=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&(Ie.HiddenForget(e,"query",i),Ie.HiddenForget(e,"property",r)),null!=a&&(Ie.HiddenObserve(a,"query",i),Ie.HiddenObserve(a,"property",r)),t.state_DomQuery=b.ScheduleCallback(t.state_DomQuery,n)})),Ie.HiddenObserve(e,"DomQuery",(function(e,n){null!=e&&Ie.HiddenForget(e,"Result",o),null!=n&&Ie.HiddenObserve(n,"Result",o),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};Jr.__name__=!0;var $r=function(e,t){this.stringFactory=e,this.settings=t,this.RegexObserver=new eo(this)};$r.__name__=!0,$r.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.settings.value)},_updateValue:function(){if(null==this.settings||null==this.settings.regex)return this.StringValue.Value;if(null==this.StringValue||null==this.StringValue.Value)return null;var e=new r(this.settings.regex,"");if(e.match(this.StringValue.Value))try{return e.matched(1)}catch(e){return el.trace("Binkies 3D: regex must contain one at least searching group: "+this.settings.regex,{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/string/Regex.hx",lineNumber:45,className:"binkies.integration.values.string.Regex",methodName:"_updateValue"}),null}return null}};var eo=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)},o=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,o){null!=e&&(Ie.HiddenForget(e,"value",i),Ie.HiddenForget(e,"regex",r)),null!=o&&(Ie.HiddenObserve(o,"value",i),Ie.HiddenObserve(o,"regex",r)),t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),Ie.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",o),null!=n&&Ie.HiddenObserve(n,"Value",o),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};eo.__name__=!0;var to=function(e,t){this.stringFactory=e,this.settings=t,this.RemoveDuplicatesObserver=new no(this)};to.__name__=!0,to.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.settings.value)},_updateValue:function(){return this.RemoveDuplicates(this.StringValue.Value,this.settings.separator)},RemoveDuplicates:function(e,t){if(null==t&&(t=" "),null==e)return null;for(var n=e.split(t),a=[],i=[],r=0;r<n.length;){var o=n[r];++r;var l=o.toLowerCase();s.has(a,l)||(a.push(l),i.push(o))}return i.join(t)}};var no=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)},o=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,o){null!=e&&(Ie.HiddenForget(e,"value",i),Ie.HiddenForget(e,"separator",r)),null!=o&&(Ie.HiddenObserve(o,"value",i),Ie.HiddenObserve(o,"separator",r)),t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),Ie.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",o),null!=n&&Ie.HiddenObserve(n,"Value",o),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};no.__name__=!0;var ao=function(e,t){this.stringFactory=e,this.settings=t,this.ReplaceObserver=new io(this)};ao.__name__=!0,ao.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.settings.value)},_updateValue:function(){return null==this.StringValue||null==this.StringValue.Value?null:c.replace(this.StringValue.Value,this.settings.search,this.settings.replace)}};var io=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)},o=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)},s=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,s){null!=e&&(Ie.HiddenForget(e,"value",i),Ie.HiddenForget(e,"search",r),Ie.HiddenForget(e,"replace",o)),null!=s&&(Ie.HiddenObserve(s,"value",i),Ie.HiddenObserve(s,"search",r),Ie.HiddenObserve(s,"replace",o)),t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),Ie.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",s),null!=n&&Ie.HiddenObserve(n,"Value",s),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};io.__name__=!0;var ro=function(e,t,n){this.stringFactory=e,this.settings=t,this.sanitizer=n,this.SanitizeObserver=new oo(this)};ro.__name__=!0,ro.prototype={_updateStringValue:function(){return this.stringFactory.Create(this.settings.value)},_updateValue:function(){return null==this.StringValue||null==this.StringValue.Value?null:this.sanitizer.Transform(this.StringValue.Value)}};var oo=function(e){var t=this;this.state_StringValue=!1,this.state_Value=!1;var n=function(){e.StringValue=e._updateStringValue(),t.state_StringValue=!0},a=function(){e.Value=e._updateValue(),t.state_Value=!0},i=function(e,a){t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n)},r=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,a)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&Ie.HiddenForget(e,"value",i),null!=a&&Ie.HiddenObserve(a,"value",i),t.state_StringValue=b.ScheduleCallback(t.state_StringValue,n)})),Ie.HiddenObserve(e,"StringValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",r),null!=n&&Ie.HiddenObserve(n,"Value",r),t.state_Value=b.ScheduleCallback(t.state_Value,a)})),n(),a()};oo.__name__=!0;var so=function(e,t){this.stringFactory=e,this.settings=t,this.TemplateObserver=new lo(this)};so.__name__=!0,so.prototype={_updateTemplateValue:function(){return this.stringFactory.Create(this.settings.template)},_updateTemplate:function(){return null==this.TemplateValue?null:this.TemplateValue.Value},_updateReplaceStringValues:function(){for(var e=this.settings.replaceStrings,t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++,r=e[i];t[i]={key:r.key,value:this.stringFactory.Create(r.value)}}return t},_updateValue:function(){if(null==this.ReplaceStringValues)return null;if(null==this.Template)return null;for(var e=this.Template,t=0,n=this.ReplaceStringValues;t<n.length;){var a=n[t];++t;var i=a.value.Value;if(null==i)return null;e=c.replace(e,"{"+a.key+"}",i)}return e}};var lo=function(e){var t=this;this.state_TemplateValue=!1,this.state_Template=!1,this.state_ReplaceStringValues=!1,this.state_Value=!1;var n=function(){e.TemplateValue=e._updateTemplateValue(),t.state_TemplateValue=!0},a=function(){e.Template=e._updateTemplate(),t.state_Template=!0},i=function(){e.ReplaceStringValues=e._updateReplaceStringValues(),t.state_ReplaceStringValues=!0},r=function(){e.Value=e._updateValue(),t.state_Value=!0},o=function(e,a){t.state_TemplateValue=b.ScheduleCallback(t.state_TemplateValue,n)},s=function(e,n){t.state_ReplaceStringValues=b.ScheduleCallback(t.state_ReplaceStringValues,i)},l=function(e,n){t.state_Template=b.ScheduleCallback(t.state_Template,a)},u=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,r)},d=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,r)},c=function(e,n){null!=e&&Ie.HiddenForget(e,"Value",d),null!=n&&Ie.HiddenObserve(n,"Value",d),t.state_Value=b.ScheduleCallback(t.state_Value,r)};Ie.HiddenObserve(e,"settings",(function(e,a){null!=e&&(Ie.HiddenForget(e,"template",o),Ie.HiddenForget(e,"replaceStrings",s)),null!=a&&(Ie.HiddenObserve(a,"template",o),Ie.HiddenObserve(a,"replaceStrings",s)),t.state_TemplateValue=b.ScheduleCallback(t.state_TemplateValue,n),t.state_ReplaceStringValues=b.ScheduleCallback(t.state_ReplaceStringValues,i)})),Ie.HiddenObserve(e,"TemplateValue",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",l),null!=n&&Ie.HiddenObserve(n,"Value",l),t.state_Template=b.ScheduleCallback(t.state_Template,a)})),Ie.HiddenObserve(e,"ReplaceStringValues",(function(e,n){null!=e&&(Ie.HiddenForget(e,"key",u),Ie.HiddenForget(e,"value",c)),null!=n&&(Ie.HiddenObserve(n,"key",u),Ie.HiddenObserve(n,"value",c)),t.state_Value=b.ScheduleCallback(t.state_Value,r)})),Ie.HiddenObserve(e,"Template",(function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,r)})),n(),a(),i(),r()};lo.__name__=!0;var uo=function(e,t){this.stringFactory=e,this.settings=t,this.URLParameterObserver=new co(this)};uo.__name__=!0,uo.prototype={_updateurl:function(){return this.stringFactory.Create(this.settings.url)},_updateparameter:function(){return this.stringFactory.Create(this.settings.parameter)},_updateValue:function(){if(null==this.url||null==this.url.Value)return null;if(null==this.parameter||null==this.parameter.Value)return null;var e=null;try{e=new URL(this.url.Value,"http://dummy.com")}catch(e){return el.trace(e instanceof rl?e.val:e,{fileName:"../libraries/configurable-integration/project/src/binkies/integration/values/string/URLParameter.hx",lineNumber:53,className:"binkies.integration.values.string.URLParameter",methodName:"_updateValue"}),null}return e.searchParams.get(this.parameter.Value)}};var co=function(e){var t=this;this.state_url=!1,this.state_parameter=!1,this.state_Value=!1;var n=function(){e.url=e._updateurl(),t.state_url=!0},a=function(){e.parameter=e._updateparameter(),t.state_parameter=!0},i=function(){e.Value=e._updateValue(),t.state_Value=!0},r=function(e,a){t.state_url=b.ScheduleCallback(t.state_url,n)},o=function(e,n){t.state_parameter=b.ScheduleCallback(t.state_parameter,a)},s=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)},l=function(e,n){t.state_Value=b.ScheduleCallback(t.state_Value,i)};Ie.HiddenObserve(e,"settings",(function(e,i){null!=e&&(Ie.HiddenForget(e,"url",r),Ie.HiddenForget(e,"parameter",o)),null!=i&&(Ie.HiddenObserve(i,"url",r),Ie.HiddenObserve(i,"parameter",o)),t.state_url=b.ScheduleCallback(t.state_url,n),t.state_parameter=b.ScheduleCallback(t.state_parameter,a)})),Ie.HiddenObserve(e,"url",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",s),null!=n&&Ie.HiddenObserve(n,"Value",s),t.state_Value=b.ScheduleCallback(t.state_Value,i)})),Ie.HiddenObserve(e,"parameter",(function(e,n){null!=e&&Ie.HiddenForget(e,"Value",l),null!=n&&Ie.HiddenObserve(n,"Value",l),t.state_Value=b.ScheduleCallback(t.state_Value,i)})),n(),a(),i()};co.__name__=!0;var ho=function(e,t,n,a,i,r){this.minX=e,this.minY=t,this.minZ=n,this.maxX=a,this.maxY=i,this.maxZ=r};ho.__name__=!0;var _o=function(e,t,n,a,i,r){this.Type=bo.Box,this.Min={X:e,Y:n,Z:i},this.Max={X:t,Y:a,Z:r},this.Update()};_o.__name__=!0,_o.prototype={DetermineOptimalZoomDistance:function(e,t){return null==this.Min||null==this.Max||null==this.Center?null:Math.max(Math.max(Math.abs(this.Min.Y),Math.abs(this.Max.Y))/Math.tan(e/t*.017453292519943*.5),Math.max(Math.abs(this.Min.X),Math.abs(this.Max.X))/Math.tan(.017453292519943*e*.5))-this.Min.Z},MoveTo:function(e){var t=e.X-this.Center.X,n=e.Y-this.Center.Y,a=e.Z-this.Center.Z;this.Min={X:this.Min.X+t,Y:this.Min.Y+n,Z:this.Min.Z+a},this.Max={X:this.Max.X+t,Y:this.Max.Y+n,Z:this.Max.Z+a},this.Update()},Update:function(){var e=this.Max,t=this.Min;this.Center={X:e.X+.5*(t.X-e.X),Y:e.Y+.5*(t.Y-e.Y),Z:e.Z+.5*(t.Z-e.Z)},this.Width=this.Max.X-this.Min.X,this.Height=this.Max.Y-this.Min.Y,this.Depth=this.Max.Z-this.Min.Z}};var go=function(e,t,n){this.Type=bo.Cylinder,this.Center=e,this.Radius=t,this.HalfHeight=n,this.Update()};go.__name__=!0,go.prototype={DetermineOptimalZoomDistance:function(e,t){return null==this.Min||null==this.Max||null==this.Center?null:Math.max(Math.max(Math.abs(this.Min.Y),Math.abs(this.Max.Y))/Math.tan(e/t*.017453292519943*.5),Math.max(Math.abs(this.Min.X),Math.abs(this.Max.X))/Math.tan(.017453292519943*e*.5))-this.Min.Z},MoveTo:function(e){this.Center=e,this.Update()},Update:function(){this.Min={X:this.Center.X-this.Radius,Y:this.Center.Y-this.HalfHeight,Z:this.Center.Z-this.Radius},this.Max={X:this.Center.X+this.Radius,Y:this.Center.Y+this.HalfHeight,Z:this.Center.Z+this.Radius},this.Width=this.Max.X-this.Min.X,this.Height=this.Max.Y-this.Min.Y,this.Depth=this.Max.Z-this.Min.Z}};var vo=function(e,t){this.Type=bo.Sphere,this.Center=e,this.Radius=t,this.Update()};vo.__name__=!0,vo.prototype={DetermineOptimalZoomDistance:function(e,t){return null==this.Min||null==this.Max||null==this.Center?null:Math.max(Math.max(Math.abs(this.Min.Y),Math.abs(this.Max.Y))/Math.tan(e/t*.017453292519943*.5),Math.max(Math.abs(this.Min.X),Math.abs(this.Max.X))/Math.tan(.017453292519943*e*.5))-this.Min.Z},MoveTo:function(e){this.Center=e,this.Update()},Update:function(){this.Min={X:this.Center.X-this.Radius,Y:this.Center.Y-this.Radius,Z:this.Center.Z-this.Radius},this.Max={X:this.Center.X+this.Radius,Y:this.Center.Y+this.Radius,Z:this.Center.Z+this.Radius},this.Width=this.Max.X-this.Min.X,this.Height=this.Max.Y-this.Min.Y,this.Depth=this.Max.Z-this.Min.Z}};var bo=a["binkies.intersection.BoundingVolumeType"]={__ename__:!0,__constructs__:["Cylinder","Sphere","Box"],Cylinder:{_hx_index:0,__enum__:"binkies.intersection.BoundingVolumeType",toString:n},Sphere:{_hx_index:1,__enum__:"binkies.intersection.BoundingVolumeType",toString:n},Box:{_hx_index:2,__enum__:"binkies.intersection.BoundingVolumeType",toString:n}},fo=function(e,t,n){this.Type=bo.Box,this.boundingBox=e,this.translation=t,this.orientation=n,this.Update()};fo.__name__=!0,fo.prototype={Update:function(){this.corners=this.GetCorenrs(),this.Min={X:1/0,Y:1/0,Z:1/0},this.Max={X:-1/0,Y:-1/0,Z:-1/0};for(var e=0,t=this.corners;e<t.length;){var n=t[e];++e,this.Min.X=Math.min(n.X,this.Min.X),this.Min.Y=Math.min(n.Y,this.Min.Y),this.Min.Z=Math.min(n.Z,this.Min.Z),this.Max.X=Math.max(n.X,this.Max.X),this.Max.Y=Math.max(n.Y,this.Max.Y),this.Max.Z=Math.max(n.Z,this.Max.Z)}var a=this.Min,i=this.Max;this.Center={X:a.X+.5*(i.X-a.X),Y:a.Y+.5*(i.Y-a.Y),Z:a.Z+.5*(i.Z-a.Z)},this.Width=this.Max.X-this.Min.X,this.Height=this.Max.Y-this.Min.Y,this.Depth=this.Max.Z-this.Min.Z},GetCorenrs:function(){for(var e=[{X:this.boundingBox.Min.X,Y:this.boundingBox.Max.Y,Z:this.boundingBox.Min.Z},{X:this.boundingBox.Min.X,Y:this.boundingBox.Max.Y,Z:this.boundingBox.Max.Z},{X:this.boundingBox.Max.X,Y:this.boundingBox.Max.Y,Z:this.boundingBox.Min.Z},{X:this.boundingBox.Max.X,Y:this.boundingBox.Max.Y,Z:this.boundingBox.Max.Z},{X:this.boundingBox.Min.X,Y:this.boundingBox.Min.Y,Z:this.boundingBox.Min.Z},{X:this.boundingBox.Min.X,Y:this.boundingBox.Min.Y,Z:this.boundingBox.Max.Z},{X:this.boundingBox.Max.X,Y:this.boundingBox.Min.Y,Z:this.boundingBox.Min.Z},{X:this.boundingBox.Max.X,Y:this.boundingBox.Min.Y,Z:this.boundingBox.Max.Z}],t=0;t<e.length;)++t;return e},DetermineOptimalZoomDistance:function(e,t){var n=this;if(null==this.corners||null==this.Center)return null;var a=Math.tan(.017453292519943*e*.5),i=a,r=a;return t>1?i=t*a:r=a/t,s.fold(this.corners,(function(e,t){return Math.max(Math.max(Math.abs(e.X-n.Center.X)/i,Math.abs(e.Y-n.Center.Y)/r)-e.Z,t)}),-1/0)},MoveTo:function(e){this.boundingBox.MoveTo(e),this.Update()}};var po=function(){};po.__name__=!0,po.Perform=function(e,t,n){po.Hit=!1,po.Distance=1/0;var a=1/t.X,i=1/t.Y,r=1/t.Z,o=(n.minX-e.X)*a,s=(n.maxX-e.X)*a,l=(n.minY-e.Y)*i,u=(n.maxY-e.Y)*i,d=(n.minZ-e.Z)*r,c=(n.maxZ-e.Z)*r,h=Math.max(Math.max(Math.min(o,s),Math.min(l,u)),Math.min(d,c)),_=Math.min(Math.min(Math.max(o,s),Math.max(l,u)),Math.max(d,c));_<0||h>_||(po.Hit=!0,po.Distance=h)};var mo=function(){};mo.__name__=!0,mo.Perform=function(e,t,n,a){mo.Hit=!1,mo.Distance=1/0;var i=n.X*t.X+n.Y*t.Y+n.Z*t.Z;if(!(Math.abs(i)<mo.epsilon)){var r=(a-(n.X*e.X+n.Y*e.Y+n.Z*e.Z))/i;r<0||(mo.Distance=r,mo.Hit=!0)}};var So=function(){};So.__name__=!0,So.Perform=function(e,t,n){So.Hit=!1,So.Distance=1/0,So.U=-1,So.V=-1;for(var a=n.IndexBuffer.Data,i=n.Positions.Data,r=0,o=n.NumberOfPrimitives;r<o;){var s=r++,l=a[3*s],u=a[3*s+1],d=a[3*s+2];So.pos0.X=i[3*l],So.pos0.Y=i[3*l+1],So.pos0.Z=i[3*l+2],So.pos1.X=i[3*u],So.pos1.Y=i[3*u+1],So.pos1.Z=i[3*u+2],So.pos2.X=i[3*d],So.pos2.Y=i[3*d+1],So.pos2.Z=i[3*d+2];var c=So.pos1,h=So.pos0,_=c.X-h.X,g=c.Y-h.Y,v=c.Z-h.Z,b=So.pos2,f=So.pos0,p=b.X-f.X,m=b.Y-f.Y,S=b.Z-f.Z,C=t.Y*S-t.Z*m,y=t.Z*p-t.X*S,k=t.X*m-t.Y*p,V=_*C+g*y+v*k;if(!(Math.abs(V)<So.epsilon)){var H=1/V,O=So.pos0,w=e.X-O.X,F=e.Y-O.Y,x=e.Z-O.Z,D=(w*C+F*y+x*k)*H;if(!(D<0||D>1)){var P=F*v-x*g,A=x*_-w*v,I=w*g-F*_,T=(t.X*P+t.Y*A+t.Z*I)*H;if(!(T<0||D+T>1)){var M=(p*P+m*A+S*I)*H;M<So.Distance&&(So.Distance=M,So.U=D,So.V=T,So.Hit=!0)}}}}};var Co=function(){};Co.__name__=!0,Co.FromYawPitchRoll=function(e,t,n){var a=.5*n,i=Math.sin(a),r=Math.cos(a),o=.5*t,s=Math.sin(o),l=Math.cos(o),u=.5*e,d=Math.sin(u),c=Math.cos(u);return{X:c*s*r+d*l*i,Y:d*l*r-c*s*i,Z:c*l*i-d*s*r,W:c*l*r+d*s*i}};var yo=function(e){this._c=0,this._a=e,this._b=new DataView(e)};yo.__name__=!0;var ko=function(e,t,n,a){this._b=n,this._c=a,this._d=t,this._a=e};ko.__name__=!0;var Vo=function(){this.Settings=[],this.OptionGroups=[],this.Options=[],this.Nodes=[],this.Geometries=[],this.Decals=[],this.Models=[],this.ModelGroups=[],this.Materials=[],this.MaterialGroups=[],this.Textures=[]};Vo.__name__=!0;var Ho=function(){};Ho.__name__=!0;var Oo=function(){this.Positions=[],this.Normals=[],this.TextureCoordinates=[],this.AmbientOcclusions=[]};Oo.__name__=!0;var wo=function(e,t){this._c=0,this._b=e,this._a=t;var n=this._af();if("BINKIES-MODOM"!=n&&"BINKIES-MDM"!=n)throw new rl("Invalid MDM file encountered.");var a=this._b,i=a._b.getFloat32(a._c,!0);a._c+=4,this._c=i;var r=Math.pow(10,1),o=this._c*r;o=Math.round(o),o/=r,this._c=o};wo.__name__=!0,wo.prototype={_e:function(e){this._b._c=e._b},_f:function(){var e=this._ae(),t=this._b,n=t._b.getUint16(t._c,!0);t._c+=2;var a=this._b,i=a._b.getUint16(a._c,!0);a._c+=2;var r=this._b,o=r._b.getUint8(r._c);r._c+=1;var s=this._b,l=s._b.getUint8(s._c);s._c+=1;var u=this._b,d=u._b.getFloat32(u._c,!0);return u._c+=4,new Eo(e,n,i,o,l,d)},_g:function(){return new Oo},_h:function(e){e.UID=this._ae()},_i:function(){return new Fo},_j:function(){var e=new xo;e.Name=this._ae();var t=this._b,n=t._b.getInt32(t._c,!0);return t._c+=4,e.ParentIndex=n,e},_k:function(e){var t=this._b,n=t._b.getUint8(t._c);t._c+=1;var a=this._b,i=a._b.getUint8(a._c);a._c+=1;var r=this._b,o=r._b.getUint8(r._c);r._c+=1;var s=this._b,l=s._b.getUint8(s._c);s._c+=1;var u=new Te(n,i,o,l),d=this._ae();e.Colors[d]=u},_l:function(e){var t=this._b,n=t._b.getUint32(t._c,!0);t._c+=4;var a=this._ae();e.Maps[a]=n},_m:function(e){var t=this._b,n=t._b.getFloat32(t._c,!0);t._c+=4;var a=this._ae();e.Values[a]=n},_n:function(e){var t=this._b,n=t._b.getUint8(t._c);t._c+=1;var a=this._ae();e.Booleans[a]=0!=n},_o:function(e){var t=this._b,n=t._b.getFloat32(t._c,!0);t._c+=4;var a=this._b,i=a._b.getFloat32(a._c,!0);a._c+=4;var r=this._ae();e.Vector2s[r]={X:n,Y:i}},_p:function(e){var t=this._b,n=t._b.getFloat32(t._c,!0);t._c+=4;var a=this._b,i=a._b.getFloat32(a._c,!0);a._c+=4;var r=this._b,o=r._b.getFloat32(r._c,!0);r._c+=4;var s=this._ae();e.Vector3s[s]={X:n,Y:i,Z:o}},_q:function(e){var t=this._b,n=t._b.getFloat32(t._c,!0);t._c+=4;var a=this._b,i=a._b.getFloat32(a._c,!0);a._c+=4;var r=this._b,o=r._b.getFloat32(r._c,!0);r._c+=4;var s=this._b,l=s._b.getFloat32(s._c,!0);s._c+=4;var u=this._ae();e.Vector4s[u]={X:n,Y:i,Z:o,W:l}},_r:function(e){e.Name=this._ae(),e.ID=this._ae();var t=this._b,n=t._b.getInt32(t._c,!0);t._c+=4,e.GroupIndex=n},_s:function(e){switch(e){case 0:throw new rl("Indices with compression method none (32-bit) are not supported.");case 1:throw new rl("Not implemented");case 2:return this._u()}},_u:function(){var e=this._b,t=e._b.getInt32(e._c,!0);e._c+=4;var n=this._b,a=new Int16Array(n._a,n._c,t);return n._c+=2*t,a},_v:function(e){switch(e){case 0:return this._w();case 1:case 2:throw new rl("Not implemented")}},_w:function(){var e=this._b,t=e._b.getInt32(e._c,!0);e._c+=4;var n=3*t,a=this._b,i=new Float32Array(a._a,a._c,n);return a._c+=4*n,i},_y:function(){var e=this._b,t=e._b.getInt32(e._c,!0);e._c+=4;var n=this._b,a=new Float32Array(n._a,n._c,t);return n._c+=4*t,a},_z:function(){var e=this._b,t=e._b.getInt32(e._c,!0);e._c+=4;var n=2*t,a=this._b,i=new Float32Array(a._a,a._c,n);return a._c+=4*n,i},_aa:function(){var e=this._b,t=e._b.getUint8(e._c);e._c+=1;var n=this._b,a=n._b.getInt32(n._c,!0);n._c+=4;var i=this._b,r=i._b.getInt32(i._c,!0);i._c+=4;var o=new To(t,a,r,this._ab(),this._ae());if(this._c>=3){var s=this._b,l=s._b.getInt32(s._c,!0);s._c+=4,l>0&&(o.Values={});for(var u=0;u<l;){++u;var d=this._ae(),c=this._b,h=c._b.getFloat32(c._c,!0);c._c+=4,o.Values[d]=h}}return o},_ab:function(){return this._ac(),this._ac(),this._ac(),this._ac()},_ac:function(){var e=this._b,t=e._b.getFloat32(e._c,!0);e._c+=4;var n=this._b,a=n._b.getFloat32(n._c,!0);n._c+=4;var i=this._b,r=i._b.getFloat32(i._c,!0);return i._c+=4,{X:t,Y:a,Z:r}},_ae:function(){if(this._c>=2.8)return this._af();throw new rl("not implemented: ReadBase64EncodedString")},_af:function(){var e=this._b,t=e._b.getUint8(e._c);e._c+=1;for(var n=this._b,a="",i=0,r=t;i<r;){i++;var o=n._b.getUint8(n._c);n._c+=1;var s=o;a+=String.fromCodePoint(s)}return a},_ag:function(){var e=this._b,t=e._b.getInt32(e._c,!0);e._c+=4;for(var n=[],a=this._b._c+8*t,i=0;i<t;){++i;var r=this._b,o=r._b.getUint16(r._c,!0);r._c+=2;var s=this._b,l=s._b.getUint16(s._c,!0);s._c+=2;var u=this._b,d=u._b.getUint32(u._c,!0);u._c+=4;var c=new ko(o,l,a,d);switch(n.push(c),c._a){case 2:case 8:break;default:a+=c._c}}return n},_ah:function(){var e=new Po,t=this._b,n=t._b.getInt32(t._c,!0);t._c+=4,e.MaterialIndex=n;var a=this._b,i=a._b.getInt32(a._c,!0);a._c+=4,e.GeometryIndex=i;var r=this._b,o=r._b.getInt32(r._c,!0);if(r._c+=4,e.AmbientOcclusionGroup=o,this._b._c+=1,this._c>=2.2){var s=this._b,l=s._b.getUint8(s._c);s._c+=1,e.DoubleSided=0!=l,this._b._c+=1}return e},_ai:function(){var e=new Ao;e.Name=this._ae();var t=this._b,n=t._b.getInt32(t._c,!0);t._c+=4;for(var a=0;a<n;){++a;var i=this._b,r=i._b.getInt32(i._c,!0);i._c+=4,e.Models.push(r)}return e},_aj:function(){var e=new Ho,t=this._b,n=t._b.getInt32(t._c,!0);t._c+=4,e.MaterialIndex=n;var a=this._b,i=a._b.getInt32(a._c,!0);a._c+=4,e.GeometryIndex=i;var r=this._b,o=r._b.getUint8(r._c);return r._c+=1,e.DoubleSided=0!=o,e},_ak:function(){var e=new Mo;e.Name=this._ae(),e.UID=this._ae();var t=this._b,n=t._b.getInt32(t._c,!0);return t._c+=4,e.GroupIndex=n,this._am(e),e},_al:function(){var e=new Ro;return e.Name=this._ae(),e},_am:function(e){var t=this._b,n=t._b.getInt32(t._c,!0);t._c+=4;for(var a=0;a<n;){++a;var i=new No,r=this._b,o=r._b.getInt32(r._c,!0);r._c+=4,i.NodeIndex=o;var s=this._b,l=s._b.getUint8(s._c);if(s._c+=1,i.OverrideTransform=0!=l,this._ab(),i.OverrideTransform)throw new rl("Overriding transforms is not supported.");var u=this._b,d=u._b.getUint8(u._c);u._c+=1,i.OverrideMaterial=0!=d;var c=this._b,h=c._b.getInt32(c._c,!0);if(c._c+=4,i.MaterialIndex=h,this._c>=3.1){var _=this._b,g=_._b.getUint8(_._c);_._c+=1,i.NodeHidden=0!=g}e.NodeOverrides.push(i)}},_an:function(){var e=new Lo;return e.Name=this._ae(),e.Value=this._ae(),e}};var Fo=function(){this.Name="",this.Maps={},this.Colors={},this.Values={},this.Booleans={},this.Vector2s={},this.Vector3s={},this.Vector4s={}};Fo.__name__=!0;var xo=function(){};xo.__name__=!0;var Do=function(){};Do.__name__=!0,Do._a=function(e){for(var t=new Vo,n=new wo(new yo(e),t),a=n._ag(),i=0,r=a.length;i<r;){var o=a[i++];switch(n._e(o),o._a){case-1:break;case 0:t.Nodes.push(n._aa());break;case 1:t.Textures.push(n._f());break;case 2:t.Materials.push(n._i());break;case 3:n._k(t.Materials[t.Materials.length-1]);break;case 4:n._l(t.Materials[t.Materials.length-1]);break;case 5:n._m(t.Materials[t.Materials.length-1]);break;case 6:t.MaterialGroups.push(n._j());break;case 7:n._r(t.Materials[t.Materials.length-1]);break;case 8:t.Geometries.push(n._g());break;case 9:t.Geometries[t.Geometries.length-1].Indices=n._s(o._d);break;case 10:t.Geometries[t.Geometries.length-1].Positions.push(n._v(o._d));break;case 11:t.Geometries[t.Geometries.length-1].Normals.push(n._v(o._d));break;case 12:t.Geometries[t.Geometries.length-1].TextureCoordinates.push(n._z());break;case 13:t.Models.push(n._ah());break;case 14:t.ModelGroups.push(n._ai());break;case 15:t.Geometries[t.Geometries.length-1].AmbientOcclusions.push(n._y());break;case 16:t.Options.push(n._ak());break;case 17:t.OptionGroups.push(n._al());break;case 18:break;case 19:t.Settings.push(n._an());break;case 20:t.Decals.push(n._aj());break;case 21:case 22:case 23:break;case 24:n._n(t.Materials[t.Materials.length-1]);break;case 25:n._h(t.Geometries[t.Geometries.length-1]);break;case 26:n._o(t.Materials[t.Materials.length-1]);break;case 27:n._p(t.Materials[t.Materials.length-1]);break;case 28:n._q(t.Materials[t.Materials.length-1])}}return t};var Po=function(){};Po.__name__=!0;var Ao=function(){this.Models=[]};Ao.__name__=!0;var Io=function(){};Io.__name__=!0,Io.GetMaterialIndex=function(e,t){return null!=e&&e.OverrideMaterial?e.MaterialIndex:t.MaterialIndex},Io.IsHidden=function(e){return null!=e&&e.NodeHidden};var To=function(e,t,n,a,i){this.contentIndex=t,this.parentIndex=n,this.position=a,this.Name=i,this.content=e};To.__name__=!0;var Mo=function(){this.NodeOverrides=[]};Mo.__name__=!0;var Ro=function(){};Ro.__name__=!0;var No=function(){};No.__name__=!0;var Lo=function(){};Lo.__name__=!0;var Eo=function(e,t,n,a,i,r){this.Path=e,this.Width=t,this.Height=n,this.Quality=a,this.CompressionType=i,this.Bias=r};Eo.__name__=!0;var Bo=function(e,t){this.updateTime=0,this.gestureProvider=e,this.NavigationController=t};Bo.__name__=!0,Bo.prototype={Update:function(e,t){var n;null!=this.NavigationController&&(e<=this.updateTime?n=!1:(this.updateTime=e,n=!0),n&&(this.gestureProvider.Update(e,t),this.NavigationController.Update(e,t),this.NavigationModel=this.NavigationController.NavigationModel))},SetNavigationController:function(e){this.NavigationController=e}};var Wo=function(e){this.speed=.314159265358974,this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel};Wo.__name__=!0,Wo.prototype={Update:function(e,t){if(e!=this.lastTime){this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.lastTime=e;for(var n=this.normalizeAngle(this.speed*t),a=0,i=this.NavigationModel.ProductTransformModels;a<i.length;){var r=i[a];++a;var o=r.ProductOrientation,s=Math.sin(.5*n),l=0*s,u=0*s,d=Math.cos(.5*n),c=o.X,h=o.Y,_=o.Z,g=o.W;r.ProductOrientation={X:c*d+g*l+h*u-_*s,Y:h*d+g*s+_*l-c*u,Z:_*d+g*u+c*s-h*l,W:g*d-c*l-h*s-_*u}}}},normalizeAngle:function(e){return e%(2*Math.PI)}};var Uo=function(e,t,n){this.NavigationModel=new fs,this.blendSource=e,this.blendTarget=t,this.animationLength=n,this.progress=0};Uo.__name__=!0,Uo.BlendProduct=function(e,t,n){var a=null!=e?e.ProductPosition:Uo.offScreenPosition,i=null!=e?e.ProductOrientation:Uo.offScreenQuaternion,r=null!=t?t.ProductPosition:Uo.offScreenPosition,o=null!=t?t.ProductOrientation:Uo.offScreenQuaternion,s=i,l=o,u=Math.sqrt(s.X*s.X+s.Y*s.Y+s.Z*s.Z+s.W*s.W);u=0==u?1:1/u,s={X:s.X*u,Y:s.Y*u,Z:s.Z*u,W:s.W*u};var d=Math.sqrt(l.X*l.X+l.Y*l.Y+l.Z*l.Z+l.W*l.W);d=0==d?1:1/d,l={X:l.X*d,Y:l.Y*d,Z:l.Z*d,W:l.W*d};var c,h=s.X*l.X+s.Y*l.Y+s.Z*l.Z+s.W*l.W;if(h<0&&(o={X:-1*o.X,Y:-1*o.Y,Z:-1*o.Z,W:-1*o.W},h=-h),h>.9995)c={X:i.X+(o.X-i.X)*n,Y:i.Y+(o.Y-i.Y)*n,Z:i.Z+(o.Z-i.Z)*n,W:i.W+(o.W-i.W)*n};else{var _=Math.acos(h),g=_*n,v=Math.sin(g),b=Math.sin(_),f=Math.cos(g)-h*v/b,p=v/b;c={X:i.X*f+o.X*p,Y:i.Y*f+o.Y*p,Z:i.Z*f+o.Z*p,W:i.W*f+o.W*p}}return{ProductPosition:{X:a.X+(r.X-a.X)*n,Y:a.Y+(r.Y-a.Y)*n,Z:a.Z+(r.Z-a.Z)*n},ProductOrientation:c}},Uo.BlendCamera=function(e,t,n){if(null!=e){var a,i=e.CameraPosition,r=t.CameraPosition,o=e.CameraOrientation,s=t.CameraOrientation,l=s,u=Math.sqrt(o.X*o.X+o.Y*o.Y+o.Z*o.Z+o.W*o.W);u=0==u?1:1/u,a={X:o.X*u,Y:o.Y*u,Z:o.Z*u,W:o.W*u};var d=Math.sqrt(l.X*l.X+l.Y*l.Y+l.Z*l.Z+l.W*l.W);d=0==d?1:1/d,l={X:l.X*d,Y:l.Y*d,Z:l.Z*d,W:l.W*d};var c,h=a.X*l.X+a.Y*l.Y+a.Z*l.Z+a.W*l.W;if(h<0&&(s={X:-1*s.X,Y:-1*s.Y,Z:-1*s.Z,W:-1*s.W},h=-h),h>.9995)c={X:o.X+(s.X-o.X)*n,Y:o.Y+(s.Y-o.Y)*n,Z:o.Z+(s.Z-o.Z)*n,W:o.W+(s.W-o.W)*n};else{var _=Math.acos(h),g=_*n,v=Math.sin(g),b=Math.sin(_),f=Math.cos(g)-h*v/b,p=v/b;c={X:o.X*f+s.X*p,Y:o.Y*f+s.Y*p,Z:o.Z*f+s.Z*p,W:o.W*f+s.W*p}}return{CameraPosition:{X:i.X+(r.X-i.X)*n,Y:i.Y+(r.Y-i.Y)*n,Z:i.Z+(r.Z-i.Z)*n},CameraOrientation:c,CameraFieldOfView:e.CameraFieldOfView*(1-n)+t.CameraFieldOfView*n}}return t},Uo.prototype={Update:function(e,t){null!=this.blendTarget&&e!=this.lastTime&&(this.lastTime=e,this.progress<=1?(this.blendSource.Update(e,t),this.blendTarget.Update(e,t),this.progress+=0==this.animationLength?1:t/this.animationLength,this.animate(this.easeInOutCubic(this.progress))):(this.blendSource=null,this.blendTarget.Update(e,t),this.NavigationModel=this.blendTarget.NavigationModel))},animate:function(e){for(var t=this.blendSource.NavigationModel,n=this.blendTarget.NavigationModel,a=this.easeInOutCubic(this.progress),i=0|Math.max(t.ProductTransformModels.length,n.ProductTransformModels.length),r=0;r<i;){var o=r++;this.NavigationModel.ProductTransformModels[o]=Uo.BlendProduct(t.ProductTransformModels[o],n.ProductTransformModels[o],a)}var s=Uo.BlendCamera(t,n,a);this.NavigationModel.CameraPosition=s.CameraPosition,this.NavigationModel.CameraOrientation=s.CameraOrientation,this.NavigationModel.CameraFieldOfView=s.CameraFieldOfView},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}};var Go=function(e,t,n){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.screenSizeProvider=t,this.margin=n,this.BrickWallObserver=new Xo(this)};Go.__name__=!0,Go.prototype={_updateaspectRatio:function(){return null==this.screenSizeProvider?null:this.screenSizeProvider.Width/this.screenSizeProvider.Height},_updatefov2Tan:function(){return null==this.NavigationModel?null:.5*this.NavigationModel.CameraFieldOfView*.017453292519943},_updatefov2TanH:function(){return this.aspectRatio>1?this.aspectRatio*this.fov2Tan:this.fov2Tan},_updatefov2TanV:function(){return this.aspectRatio<1?this.fov2Tan/this.aspectRatio:this.fov2Tan},Update:function(e,t){if(null!=this.screenSizeProvider){this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel;for(var n=0,a=this.NavigationModel.ProductTransformModels;n<a.length;){var i=a[n];++n,i.ProductPosition=this.applyBrickWall(i.ProductPosition,this.NavigationModel.CameraPosition)}}},applyBrickWall:function(e,t){var n=e.Z-t.Z,a=this.fov2TanH*n+2*this.margin,i=this.fov2TanV*n+2*this.margin,r=Math.min(Math.max(e.X,t.X-a),t.X+a),o=Math.min(Math.max(e.Y,t.Y-i),t.Y+i),s=e.Z;return e.X!=r||e.Y!=o||e.Z!=s?{X:r,Y:o,Z:s}:e}};var Xo=function(e){var t=this;this.state_aspectRatio=!1,this.state_fov2Tan=!1,this.state_fov2TanH=!1,this.state_fov2TanV=!1;var n=function(){e.aspectRatio=e._updateaspectRatio(),t.state_aspectRatio=!0},a=function(){e.fov2Tan=e._updatefov2Tan(),t.state_fov2Tan=!0},i=function(){e.fov2TanH=e._updatefov2TanH(),t.state_fov2TanH=!0},r=function(){e.fov2TanV=e._updatefov2TanV(),t.state_fov2TanV=!0},o=function(e,a){t.state_aspectRatio=b.ScheduleCallback(t.state_aspectRatio,n)},s=function(e,a){t.state_aspectRatio=b.ScheduleCallback(t.state_aspectRatio,n)},l=function(e,n){t.state_fov2Tan=b.ScheduleCallback(t.state_fov2Tan,a)};Ie.HiddenObserve(e,"screenSizeProvider",(function(e,a){null!=e&&(Ie.HiddenForget(e,"Width",o),Ie.HiddenForget(e,"Height",s)),null!=a&&(Ie.HiddenObserve(a,"Width",o),Ie.HiddenObserve(a,"Height",s)),t.state_aspectRatio=b.ScheduleCallback(t.state_aspectRatio,n)})),Ie.HiddenObserve(e,"NavigationModel",(function(e,n){null!=e&&Ie.HiddenForget(e,"CameraFieldOfView",l),null!=n&&Ie.HiddenObserve(n,"CameraFieldOfView",l),t.state_fov2Tan=b.ScheduleCallback(t.state_fov2Tan,a)})),Ie.HiddenObserve(e,"aspectRatio",(function(e,n){t.state_fov2TanH=b.ScheduleCallback(t.state_fov2TanH,i),t.state_fov2TanV=b.ScheduleCallback(t.state_fov2TanV,r)})),Ie.HiddenObserve(e,"fov2Tan",(function(e,n){t.state_fov2TanH=b.ScheduleCallback(t.state_fov2TanH,i),t.state_fov2TanV=b.ScheduleCallback(t.state_fov2TanV,r)})),n(),a(),i(),r()};Xo.__name__=!0;var Yo=function(e,t,n,a){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider=t,this.screenSizeProvider=n,this.boundingVolumeProvider=a};Yo.__name__=!0,Yo.prototype={Update:function(e,t){e!=this.lastTime&&(this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider.Update(e,t),this.lastTime=e,null!=this.inputProvider&&null!=this.inputProvider.Gesture&&this.HandleGesture(this.inputProvider.Gesture))},HandleGesture:function(e){switch(e._hx_index){case 4:this.PerformRotate(-e.yaw,-e.pitch);break;case 5:for(var t=e.gestures,n=0;n<t.length;)this.HandleGesture(t[n++]);break;default:return}},PerformRotate:function(e,t){if(isFinite(this.screenSizeProvider.AspectRatio)&&(0!=e||0!=t)){var n=Math.abs(this.NavigationModel.CameraPosition.Z-this.NavigationModel.ProductTransformModels[0].ProductPosition.Z),a=n*Math.tan(.017453292519943*this.NavigationModel.CameraFieldOfView*.5),i=n*Math.tan(this.NavigationModel.CameraFieldOfView/this.screenSizeProvider.AspectRatio*.017453292519943*.5),r=this.boundingVolumeProvider.BoundingVolumes[0],o=new fo(new _o(r.Min.X,r.Max.X,r.Min.Y,r.Max.Y,r.Min.Z,r.Max.Z),this.NavigationModel.ProductTransformModels[0].ProductPosition,this.NavigationModel.ProductTransformModels[0].ProductOrientation),s=e/(.5*Math.sqrt(o.Width*o.Width+o.Depth*o.Depth)/a*this.screenSizeProvider.Width)*Math.PI,l=t/(.5*Math.sqrt(o.Height*o.Height+o.Depth*o.Depth)/i*this.screenSizeProvider.Height)*Math.PI,u=Math.PI/2-.01,d=-u,c=this.NavigationModel.ProductTransformModels[0].ProductOrientation,h=Math.asin(2*(c.Y*c.Z+c.W*c.X)),_=h+l;_>u?l=u-h:_<d&&(l=d-h);for(var g=Math.sin(.5*s),v=Math.cos(.5*s),b=Math.sin(.5*l),f=Math.cos(.5*l),p=0,m=this.NavigationModel.ProductTransformModels;p<m.length;){var S=m[p];++p;var C=S.ProductOrientation,y=C.X,k=C.Y,V=C.Z,H=C.W,O=b*H+f*y+0*V-0*k,w=0*H+f*k+0*y-b*V,F=0*H+f*V+b*k-0*y,x=f*H-b*y-0*k-0*V;S.ProductOrientation={X:O*v+0*x+0*w-F*g,Y:w*v+x*g+0*F-0*O,Z:F*v+0*x+O*g-0*w,W:x*v-0*O-w*g-0*F}}}}};var zo=function(e,t){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider=t;for(var n=this.decoratee.NavigationModel.ProductTransformModels,a=new Array(n.length),i=0,r=n.length;i<r;){var o=i++,s=n[o];a[o]=new Zo(s.ProductPosition,s.ProductOrientation)}this.productInertiaHandlers=a,this.cameraInertiaHandler=new Zo(this.decoratee.NavigationModel.CameraPosition,this.decoratee.NavigationModel.CameraOrientation)};zo.__name__=!0,zo.prototype={Update:function(e,t){if(null!=this.NavigationModel&&e!=this.lastTime){this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider.Update(e,t),this.lastTime=e;for(var n=Math.pow(.85,30*t),a=0,i=this.productInertiaHandlers.length;a<i;){var r=a++,o=this.NavigationModel.ProductTransformModels[r],s=this.productInertiaHandlers[r].Update(o.ProductPosition,o.ProductOrientation,this.inputProvider.Gesture,n);o.ProductPosition=s.Position,o.ProductOrientation=s.Orientation}var l=this.cameraInertiaHandler.Update(this.NavigationModel.CameraPosition,this.NavigationModel.CameraOrientation,this.inputProvider.Gesture,n);this.NavigationModel.CameraPosition=l.Position,this.NavigationModel.CameraOrientation=l.Orientation}}};var Zo=function(e,t){this.velocity={X:0,Y:0,Z:0},this.angularVelocity={X:0,Y:0,Z:0,W:1},this.lastPosition=e,this.lastOrientation=t};Zo.__name__=!0,Zo.prototype={Update:function(e,t,n,a){var i={Position:e,Orientation:t};if(this.isPaning(n)||this.isZooming(n)){var r=this.lastPosition;this.velocity={X:e.X-r.X,Y:e.Y-r.Y,Z:e.Z-r.Z}}else{var o=this.velocity;if(Math.sqrt(o.X*o.X+o.Y*o.Y+o.Z*o.Z)>1e-4){var s=this.velocity;i.Position={X:e.X+s.X,Y:e.Y+s.Y,Z:e.Z+s.Z};var l=this.velocity;this.velocity={X:l.X*a,Y:l.Y*a,Z:l.Z*a}}}if(this.isRotating(n)){var u=this.lastOrientation,d=-u.X,c=-u.Y,h=-u.Z,_=u.W,g=t.X,v=t.Y,b=t.Z,f=t.W;this.angularVelocity={X:g*_+f*d+v*h-b*c,Y:v*_+f*c+b*d-g*h,Z:b*_+f*h+g*c-v*d,W:f*_-g*d-v*c-b*h},this.angularVelocity.W=0}else{var p=this.angularVelocity;if(Math.sqrt(p.X*p.X+p.Y*p.Y+p.Z*p.Z+p.W*p.W)>1e-4){var m=this.angularVelocity,S=.5*m.X,C=.5*m.Y,y=.5*m.Z,k=.5*m.W,V=t.X,H=t.Y,O=t.Z,w=t.W,F=t.X+(S*w+k*V+C*O-y*H),x=t.Y+(C*w+k*H+y*V-S*O),D=t.Z+(y*w+k*O+S*H-C*V),P=t.W+(k*w-S*V-C*H-y*O),A=Math.sqrt(F*F+x*x+D*D+P*P);A=0==A?1:1/A,i.Orientation={X:F*A,Y:x*A,Z:D*A,W:P*A};var I=this.angularVelocity;this.angularVelocity={X:I.X*a,Y:I.Y*a,Z:I.Z*a,W:I.W*a}}}return this.lastPosition=i.Position,this.lastOrientation=i.Orientation,i},isRotating:function(e){var t=this;switch(e._hx_index){case 4:return!0;case 5:return s.exists(e.gestures,(function(e){return t.isRotating(e)}));default:return!1}},isPaning:function(e){var t=this;switch(e._hx_index){case 3:return!0;case 5:return s.exists(e.gestures,(function(e){return t.isPaning(e)}));default:return!1}},isZooming:function(e){var t=this;switch(e._hx_index){case 1:return!0;case 5:return s.exists(e.gestures,(function(e){return t.isZooming(e)}));default:return!1}}};var Qo=function(e,t,n,a){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.boundingVolumeProvider=t,this.screenSizeProvider=n,this.boundingVolumeType=a,this.KeepOnScreenObserver=new jo(this)};Qo.__name__=!0,Qo.prototype={_updateBoundingVolumes:function(){if(null==this.boundingVolumeProvider||null==this.boundingVolumeProvider.BoundingVolumes)return null;for(var e=[],t=0,n=this.boundingVolumeProvider.BoundingVolumes.length;t<n;){var a,i=this.boundingVolumeProvider.BoundingVolumes[t++],r=this.boundingVolumeType;if(i.Type==r)a=i;else switch(r._hx_index){case 0:var o=i.Width,s=i.Depth;a=new go(i.Center,.5*Math.sqrt(o*o+s*s),.5*i.Height);break;case 1:var l=i.Width,u=i.Height,d=i.Depth;a=new vo(i.Center,.5*Math.sqrt(l*l+u*u+d*d));break;case 2:a=new _o(i.Min.X,i.Max.X,i.Min.Y,i.Max.Y,i.Min.Z,i.Max.Z)}e.push(a)}return e},Update:function(e,t){if(null!=this.BoundingVolumes&&isFinite(this.screenSizeProvider.AspectRatio)){this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel;for(var n=0|Math.min(this.boundingVolumeProvider.BoundingVolumes.length,this.NavigationModel.ProductTransformModels.length),a=0,i=0;i<n;){var r=i++,o=this.BoundingVolumes[r];null!=o&&(o.MoveTo(this.NavigationModel.ProductTransformModels[r].ProductPosition),a=Math.max(a,o.DetermineOptimalZoomDistance(this.NavigationModel.CameraFieldOfView,this.screenSizeProvider.AspectRatio)))}isFinite(a)&&a!=this.NavigationModel.CameraPosition.Z&&(this.NavigationModel.CameraPosition={X:this.NavigationModel.CameraPosition.X,Y:this.NavigationModel.CameraPosition.Y,Z:-a})}}};var jo=function(e){var t=this;this.state_BoundingVolumes=!1;var n=function(){e.BoundingVolumes=e._updateBoundingVolumes(),t.state_BoundingVolumes=!0},a=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},i=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},r=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},o=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},s=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},l=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},u=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},d=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},c=function(e,a){null!=e&&(Ie.HiddenForget(e,"X",l),Ie.HiddenForget(e,"Y",u),Ie.HiddenForget(e,"Z",d)),null!=a&&(Ie.HiddenObserve(a,"X",l),Ie.HiddenObserve(a,"Y",u),Ie.HiddenObserve(a,"Z",d)),t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},h=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},_=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},g=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},v=function(e,a){null!=e&&(Ie.HiddenForget(e,"X",h),Ie.HiddenForget(e,"Y",_),Ie.HiddenForget(e,"Z",g)),null!=a&&(Ie.HiddenObserve(a,"X",h),Ie.HiddenObserve(a,"Y",_),Ie.HiddenObserve(a,"Z",g)),t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},f=function(e,l){null!=e&&(Ie.HiddenForget(e,"Type",a),Ie.HiddenForget(e,"Width",i),Ie.HiddenForget(e,"Depth",r),Ie.HiddenForget(e,"Center",o),Ie.HiddenForget(e,"Height",s),Ie.HiddenForget(e,"Min",c),Ie.HiddenForget(e,"Max",v)),null!=l&&(Ie.HiddenObserve(l,"Type",a),Ie.HiddenObserve(l,"Width",i),Ie.HiddenObserve(l,"Depth",r),Ie.HiddenObserve(l,"Center",o),Ie.HiddenObserve(l,"Height",s),Ie.HiddenObserve(l,"Min",c),Ie.HiddenObserve(l,"Max",v)),t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)};Ie.HiddenObserve(e,"boundingVolumeProvider",(function(e,a){null!=e&&Ie.HiddenForget(e,"BoundingVolumes",f),null!=a&&Ie.HiddenObserve(a,"BoundingVolumes",f),t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)})),Ie.HiddenObserve(e,"boundingVolumeType",(function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)})),n()};jo.__name__=!0;var qo=function(e,t){this.decoratee=e,this.transforms=t,this.updateModel()};qo.__name__=!0,qo.prototype={Update:function(e,t){e!=this.lastTime&&(this.decoratee.Update(e,t),this.updateModel(),this.lastTime=e)},updateModel:function(){this.NavigationModel=this.decoratee.NavigationModel;for(var e=0,t=this.transforms.length;e<t;){var n=e++;null!=this.transforms[n]&&(this.NavigationModel.ProductTransformModels[n]=this.transforms[n])}}};var Ko=a["binkies.navigation.controller.ControllerEnum"]={__ename__:!0,__constructs__:["SnapShot","AutoRotate","Zoom","Pan","Roll","SmallObjectRotate","HotspotRotate","SizeCompareRotate","SizeComparePositionate","Blend","RubberBand","BrickWall","KeepOnScreen","SizeCompareKeepOnScreen","Inertia","Bookmark","Stand","MoveTo","ZoomLimiter"],SnapShot:(t=function(e){return{_hx_index:0,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),AutoRotate:(t=function(e){return{_hx_index:1,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),Zoom:(t=function(e){return{_hx_index:2,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),Pan:(t=function(e){return{_hx_index:3,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),Roll:(t=function(e){return{_hx_index:4,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),SmallObjectRotate:(t=function(e){return{_hx_index:5,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),HotspotRotate:(t=function(e){return{_hx_index:6,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),SizeCompareRotate:(t=function(e){return{_hx_index:7,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),SizeComparePositionate:(t=function(e){return{_hx_index:8,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),Blend:(t=function(e,t,a){return{_hx_index:9,source:e,target:t,length:a,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["source","target","length"],t),RubberBand:(t=function(e){return{_hx_index:10,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),BrickWall:(t=function(e){return{_hx_index:11,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),KeepOnScreen:(t=function(e){return{_hx_index:12,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),SizeCompareKeepOnScreen:(t=function(e){return{_hx_index:13,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),Inertia:(t=function(e){return{_hx_index:14,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t),Bookmark:(t=function(e,t,a){return{_hx_index:15,orientations:e,distance:t,fov:a,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["orientations","distance","fov"],t),Stand:(t=function(e,t,a){return{_hx_index:16,orientations:e,distance:t,fov:a,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["orientations","distance","fov"],t),MoveTo:(t=function(e,t){return{_hx_index:17,navigationController:e,positions:t,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController","positions"],t),ZoomLimiter:(t=function(e){return{_hx_index:18,navigationController:e,__enum__:"binkies.navigation.controller.ControllerEnum",toString:n}},t.__params__=["navigationController"],t)},Jo=function(e,t,n,a){this.inputProvider=e,this.rayProvider=t,this.boundingVolumeProvider=n,this.screenSizeProvider=a};Jo.__name__=!0,Jo.prototype={Create:function(e){switch(e._hx_index){case 0:return new ss(e.navigationController.NavigationModel);case 1:return new Wo(e.navigationController);case 2:return new ls(e.navigationController,this.inputProvider);case 3:return new $o(e.navigationController,this.inputProvider,this.rayProvider);case 4:return new es(e.navigationController,this.inputProvider,this.rayProvider);case 5:return new os(e.navigationController,this.inputProvider,this.screenSizeProvider,this.boundingVolumeProvider);case 6:return new Yo(e.navigationController,this.inputProvider,this.screenSizeProvider,this.boundingVolumeProvider);case 7:return new rs(e.navigationController,this.inputProvider,this.screenSizeProvider,this.boundingVolumeProvider);case 8:return new is(e.navigationController,this.boundingVolumeProvider);case 9:var t=e.length;return new Uo(e.source,e.target,null==t?1:t);case 10:return new ts(e.navigationController,this.inputProvider,.1,1,{X:0,Y:0,Z:0});case 11:return new Go(e.navigationController,this.screenSizeProvider,0);case 12:return new Qo(e.navigationController,this.boundingVolumeProvider,this.screenSizeProvider,bo.Cylinder);case 13:return new ns(e.navigationController,this.boundingVolumeProvider,this.screenSizeProvider,bo.Cylinder);case 14:return new zo(e.navigationController,this.inputProvider);case 15:for(var n=e.fov,a=e.distance,i=e.orientations,r=new Array(i.length),o=0,s=i.length;o<s;){var l=o++;r[l]={ProductOrientation:i[l],ProductPosition:{X:0,Y:0,Z:0}}}return new ss({CameraPosition:{X:0,Y:0,Z:-a},CameraOrientation:{X:0,Y:0,Z:0,W:1},CameraFieldOfView:n,ProductTransformModels:r});case 16:for(var u=e.fov,d=e.distance,c=e.orientations,h=new Array(c.length),_=0,g=c.length;_<g;){var v=_++;h[v]={ProductOrientation:this.getStandingOrientation(c[v]),ProductPosition:{X:0,Y:0,Z:0}}}return new ss({CameraPosition:{X:0,Y:0,Z:-d},CameraOrientation:{X:0,Y:0,Z:0,W:1},CameraFieldOfView:u,ProductTransformModels:h});case 17:return new qo(e.navigationController,e.positions);case 18:return new us(e.navigationController,this.boundingVolumeProvider,this.screenSizeProvider)}},getStandingOrientation:function(e){var t=e.Y,n=e.W,a=Math.sqrt(t*t+n*n);return{X:0*(a=0==a?1:1/a),Y:t*a,Z:0*a,W:n*a}}};var $o=function(e,t,n){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider=t,this.rayProvider=n};$o.__name__=!0,$o.prototype={Update:function(e,t){e!=this.lastTime&&(this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider.Update(e,t),this.lastTime=e,null!=this.inputProvider&&null!=this.inputProvider.Gesture&&this.HandleGesture(this.inputProvider.Gesture))},HandleGesture:function(e){switch(e._hx_index){case 3:this.PerformPan(e.currentPosition,e.delta);break;case 5:for(var t=e.gestures,n=0;n<t.length;)this.HandleGesture(t[n++]);break;default:return}},PerformPan:function(e,t){if(0!=t.X||0!=t.Y)for(var n=this.RayToPlane({X:e.X-t.X,Y:e.Y-t.Y}),a=this.RayToPlane(e),i=a.X-n.X,r=a.Y-n.Y,o=a.Z-n.Z,s=0,l=this.NavigationModel.ProductTransformModels;s<l.length;){var u=l[s];++s;var d=u.ProductPosition;u.ProductPosition={X:d.X+i,Y:d.Y+r,Z:d.Z+o}}},RayToPlane:function(e){var t=this.rayProvider.ScreenPointToRay(e),n=this.NavigationModel.CameraOrientation,a=-n.X,i=-n.Y,r=-n.Z,o=n.W,s=n.X,l=n.Y,u=n.Z,d=n.W,c=0*s+0*d+1*l-0*u,h=0*l+0*d+0*u-1*s,_=0*u+1*d+0*s-0*l,g=0*d-0*s-0*l-1*u;if(mo.Perform(t.Origin,t.Direction,{X:c*o+g*a+h*r-_*i,Y:h*o+g*i+_*a-c*r,Z:_*o+g*r+c*i-h*a},0),mo.Hit){var v=t.Origin,b=t.Direction,f=mo.Distance;return{X:v.X+b.X*f,Y:v.Y+b.Y*f,Z:v.Z+b.Z*f}}return{X:0,Y:0,Z:0}}};var es=function(e,t,n){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider=t,this.rayProvider=n};es.__name__=!0,es.prototype={Update:function(e,t){e!=this.lastTime&&(this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider.Update(e,t),this.lastTime=e,null!=this.inputProvider&&null!=this.inputProvider.Gesture&&this.HandleGesture(this.inputProvider.Gesture))},HandleGesture:function(e){switch(e._hx_index){case 2:this.PerformRoll(e.position,-e.angle);break;case 5:for(var t=e.gestures,n=0;n<t.length;)this.HandleGesture(t[n++]);break;default:return}},PerformRoll:function(e,t){if(0!=t)for(var n=Math.sin(.5*t),a=Math.cos(.5*t),i=0,r=this.NavigationModel.ProductTransformModels;i<r.length;){var o=r[i];++i;var s=o.ProductOrientation,l=s.X,u=s.Y,d=s.Z,c=s.W;o.ProductOrientation={X:0*c+a*l+0*d-n*u,Y:0*c+a*u+n*l-0*d,Z:n*c+a*d+0*u-0*l,W:a*c-0*l-0*u-n*d}}}};var ts=function(e,t,n,a,i){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider=t,this.bandLength=n,this.bandCenter=i,this.bandStrength=a};ts.__name__=!0,ts.prototype={Update:function(e,t){if(e!=this.lastTime&&(this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider.Update(e,t),this.lastTime=e,!this.inputProvider.IsUserInteracting))for(var n=0,a=this.NavigationModel.ProductTransformModels;n<a.length;){var i=a[n];++n;var r=i.ProductPosition,o=this.bandCenter,s=r.X-o.X,l=r.Y-o.Y,u=r.Z-o.Z,d=(Math.sqrt(s*s+l*l+u*u)-this.bandLength)*this.bandStrength;if(d>.001){var c=i.ProductPosition;i.ProductPosition={X:c.X-s*d,Y:c.Y-l*d,Z:c.Z-u*d}}}}};var ns=function(e,t,n,a){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.boundingVolumeProvider=t,this.screenSizeProvider=n,this.boundingVolumeType=a,this.SizeCompareKeepOnScreenObserver=new as(this)};ns.__name__=!0,ns.prototype={_updateBoundingVolumes:function(){if(null==this.boundingVolumeProvider||null==this.boundingVolumeProvider.BoundingVolumes)return null;for(var e=[],t=0,n=this.boundingVolumeProvider.BoundingVolumes.length;t<n;){var a,i=this.boundingVolumeProvider.BoundingVolumes[t++],r=this.boundingVolumeType;if(i.Type==r)a=i;else switch(r._hx_index){case 0:var o=i.Width,s=i.Depth;a=new go(i.Center,.5*Math.sqrt(o*o+s*s),.5*i.Height);break;case 1:var l=i.Width,u=i.Height,d=i.Depth;a=new vo(i.Center,.5*Math.sqrt(l*l+u*u+d*d));break;case 2:a=new _o(i.Min.X,i.Max.X,i.Min.Y,i.Max.Y,i.Min.Z,i.Max.Z)}e.push(a)}return e},Update:function(e,t){if(null!=this.BoundingVolumes&&isFinite(this.screenSizeProvider.AspectRatio)){this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel;var n=0|Math.min(this.boundingVolumeProvider.BoundingVolumes.length,this.NavigationModel.ProductTransformModels.length);if(2==this.BoundingVolumes.length){var a=this.BoundingVolumes[0],i=this.BoundingVolumes[1],r=i.Width/2+.005;a.MoveTo({X:-(a.Width/2+.005),Y:0,Z:0}),i.MoveTo({X:r,Y:0,Z:0})}for(var o=0,s=0;s<n;){var l=this.BoundingVolumes[s++];null!=l&&(o=Math.max(o,l.DetermineOptimalZoomDistance(this.NavigationModel.CameraFieldOfView,this.screenSizeProvider.AspectRatio)))}isFinite(o)&&o!=this.NavigationModel.CameraPosition.Z&&(this.NavigationModel.CameraPosition={X:this.NavigationModel.CameraPosition.X,Y:this.NavigationModel.CameraPosition.Y,Z:-o})}}};var as=function(e){var t=this;this.state_BoundingVolumes=!1;var n=function(){e.BoundingVolumes=e._updateBoundingVolumes(),t.state_BoundingVolumes=!0},a=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},i=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},r=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},o=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},s=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},l=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},u=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},d=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},c=function(e,a){null!=e&&(Ie.HiddenForget(e,"X",l),Ie.HiddenForget(e,"Y",u),Ie.HiddenForget(e,"Z",d)),null!=a&&(Ie.HiddenObserve(a,"X",l),Ie.HiddenObserve(a,"Y",u),Ie.HiddenObserve(a,"Z",d)),t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},h=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},_=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},g=function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},v=function(e,a){null!=e&&(Ie.HiddenForget(e,"X",h),Ie.HiddenForget(e,"Y",_),Ie.HiddenForget(e,"Z",g)),null!=a&&(Ie.HiddenObserve(a,"X",h),Ie.HiddenObserve(a,"Y",_),Ie.HiddenObserve(a,"Z",g)),t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)},f=function(e,l){null!=e&&(Ie.HiddenForget(e,"Type",a),Ie.HiddenForget(e,"Width",i),Ie.HiddenForget(e,"Depth",r),Ie.HiddenForget(e,"Center",o),Ie.HiddenForget(e,"Height",s),Ie.HiddenForget(e,"Min",c),Ie.HiddenForget(e,"Max",v)),null!=l&&(Ie.HiddenObserve(l,"Type",a),Ie.HiddenObserve(l,"Width",i),Ie.HiddenObserve(l,"Depth",r),Ie.HiddenObserve(l,"Center",o),Ie.HiddenObserve(l,"Height",s),Ie.HiddenObserve(l,"Min",c),Ie.HiddenObserve(l,"Max",v)),t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)};Ie.HiddenObserve(e,"boundingVolumeProvider",(function(e,a){null!=e&&Ie.HiddenForget(e,"BoundingVolumes",f),null!=a&&Ie.HiddenObserve(a,"BoundingVolumes",f),t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)})),Ie.HiddenObserve(e,"boundingVolumeType",(function(e,a){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,n)})),n()};as.__name__=!0;var is=function(e,t){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.boundingVolumeProvider=t};is.__name__=!0,is.prototype={Update:function(e,t){e!=this.lastTime&&(this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.SetProductPositions(),this.lastTime=e)},SetProductPositions:function(){if(null!=this.boundingVolumeProvider.BoundingVolumes[0]&&null!=this.boundingVolumeProvider.BoundingVolumes[1]){var e=this.NavigationModel.ProductTransformModels[0].ProductOrientation,t=Math.abs(Math.cos(Math.atan2(-2*(e.X*e.Z-e.W*e.Y),e.W*e.W-e.X*e.X-e.Y*e.Y+e.Z*e.Z))),n=Math.abs(Math.sin(Math.asin(2*(e.Y*e.Z+e.W*e.X))));this.NavigationModel.ProductTransformModels[0].ProductPosition=this.LeftPosition(t,n,e),this.NavigationModel.ProductTransformModels[1].ProductPosition=this.RightPosition(t,n,e)}},LeftPosition:function(e,t,n){var a=this.boundingVolumeProvider.BoundingVolumes[0],i=this.boundingVolumeProvider.BoundingVolumes[1],r=(a.Width-.5*(a.Width+i.Width))*(1-e);r+=(a.Height-.5*(a.Height+i.Height))*t;var o=this.getHalfSizeAlongX(a,n),s=(i.Center.Y-(i.Height-a.Height))/2;return{X:-(.001*(1-e)+.005*e)-o,Y:(s<0?s:0)*(1-t)+0*t,Z:.5*r}},RightPosition:function(e,t,n){var a=this.boundingVolumeProvider.BoundingVolumes[0],i=this.boundingVolumeProvider.BoundingVolumes[1],r=(i.Width-.5*(a.Width+i.Width))*(1-e);r+=(i.Height-.5*(a.Height+i.Height))*t;var o=this.getHalfSizeAlongX(i,n),s=(a.Center.Y-(a.Height-i.Height))/2;return{X:.001*(1-e)+.005*e+o,Y:(s<0?s:0)*(1-t)+0*t,Z:.5*r}},getHalfSizeAlongX:function(e,t){for(var n=.5*e.Width,a=.5*e.Height,i=.5*e.Depth,r=[{X:-n,Y:-a,Z:i},{X:-n,Y:-a,Z:-i},{X:-n,Y:a,Z:i},{X:-n,Y:a,Z:-i},{X:n,Y:-a,Z:i},{X:n,Y:-a,Z:-i},{X:n,Y:a,Z:i},{X:n,Y:a,Z:-i}],o=new Array(r.length),l=0,u=r.length;l<u;){var d=l++;o[d]=Math.abs(this.transformByQuaternion(r[d],t).X)}return s.fold(o,Math.max,o[0])},transformByQuaternion:function(e,t){var n=t.Y*e.Z-t.Z*e.Y,a=t.Z*e.X-t.X*e.Z,i=t.X*e.Y-t.Y*e.X,r=t.Y*i-t.Z*a,o=t.Z*n-t.X*i,s=t.X*a-t.Y*n,l=2*t.W;return n*=l,a*=l,i*=l,r*=2,o*=2,s*=2,{X:e.X+n+r,Y:e.Y+a+o,Z:e.Z+i+s}}};var rs=function(e,t,n,a){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider=t,this.screenSizeProvider=n,this.boundingVolumeProvider=a};rs.__name__=!0,rs.prototype={Update:function(e,t){e!=this.lastTime&&(this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider.Update(e,t),null!=this.inputProvider&&null!=this.inputProvider.Gesture&&this.HandleGesture(this.inputProvider.Gesture),this.lastTime=e)},HandleGesture:function(e){switch(e._hx_index){case 4:this.PerformRotate(-e.yaw,-e.pitch);break;case 5:for(var t=e.gestures,n=0;n<t.length;)this.HandleGesture(t[n++])}},PerformRotate:function(e,t){if(isFinite(this.screenSizeProvider.AspectRatio)&&(0!=e||0!=t)){var n=Math.abs(this.NavigationModel.CameraPosition.Z-this.NavigationModel.ProductTransformModels[0].ProductPosition.Z),a=n*Math.tan(.017453292519943*this.NavigationModel.CameraFieldOfView*.5),i=n*Math.tan(this.NavigationModel.CameraFieldOfView/this.screenSizeProvider.AspectRatio*.017453292519943*.5),r=this.boundingVolumeProvider.BoundingVolumes[0],o=new fo(new _o(r.Min.X,r.Max.X,r.Min.Y,r.Max.Y,r.Min.Z,r.Max.Z),this.NavigationModel.ProductTransformModels[0].ProductPosition,this.NavigationModel.ProductTransformModels[0].ProductOrientation),s=e/(.5*Math.sqrt(o.Width*o.Width+o.Depth*o.Depth)/a*this.screenSizeProvider.Width)*Math.PI,l=t/(.5*Math.sqrt(o.Height*o.Height+o.Depth*o.Depth)/i*this.screenSizeProvider.Height)*Math.PI,u=Math.PI/2-1e-4,d=-u,c=this.NavigationModel.ProductTransformModels[0].ProductOrientation,h=Math.asin(2*(c.Y*c.Z+c.W*c.X)),_=h+l;_>u?l=u-h:_<d&&(l=d-h);for(var g=Math.sin(.5*s),v=Math.cos(.5*s),b=Math.sin(.5*l),f=Math.cos(.5*l),p=0,m=this.NavigationModel.ProductTransformModels;p<m.length;){var S=m[p];++p;var C=S.ProductOrientation,y=C.X,k=C.Y,V=C.Z,H=C.W,O=b*H+f*y+0*V-0*k,w=0*H+f*k+0*y-b*V,F=0*H+f*V+b*k-0*y,x=f*H-b*y-0*k-0*V;S.ProductOrientation={X:O*v+0*x+0*w-F*g,Y:w*v+x*g+0*F-0*O,Z:F*v+0*x+O*g-0*w,W:x*v-0*O-w*g-0*F}}}}};var os=function(e,t,n,a){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider=t,this.screenSizeProvider=n,this.boundingVolumeProvider=a};os.__name__=!0,os.prototype={Update:function(e,t){e!=this.lastTime&&(this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider.Update(e,t),this.lastTime=e,null!=this.inputProvider&&null!=this.inputProvider.Gesture&&this.HandleGesture(this.inputProvider.Gesture))},HandleGesture:function(e){switch(e._hx_index){case 4:this.PerformRotate(-e.yaw,-e.pitch);break;case 5:for(var t=e.gestures,n=0;n<t.length;)this.HandleGesture(t[n++]);break;default:return}},PerformRotate:function(e,t){if(isFinite(this.screenSizeProvider.AspectRatio)&&(0!=e||0!=t))for(var n=Math.abs(this.NavigationModel.CameraPosition.Z-this.NavigationModel.ProductTransformModels[0].ProductPosition.Z),a=n*Math.tan(.017453292519943*this.NavigationModel.CameraFieldOfView*.5),i=n*Math.tan(this.NavigationModel.CameraFieldOfView/this.screenSizeProvider.AspectRatio*.017453292519943*.5),r=this.boundingVolumeProvider.BoundingVolumes[0],o=new fo(new _o(r.Min.X,r.Max.X,r.Min.Y,r.Max.Y,r.Min.Z,r.Max.Z),this.NavigationModel.ProductTransformModels[0].ProductPosition,this.NavigationModel.ProductTransformModels[0].ProductOrientation),s=e/(.5*Math.sqrt(o.Width*o.Width+o.Depth*o.Depth)/a*this.screenSizeProvider.Width)*Math.PI,l=t/(.5*Math.sqrt(o.Height*o.Height+o.Depth*o.Depth)/i*this.screenSizeProvider.Height)*Math.PI,u=Math.sin(.5*s),d=Math.cos(.5*s),c=Math.sin(.5*l),h=Math.cos(.5*l),_=0*h+d*c+0*u,g=u*h+0*d+0*c,v=0*h+0*d-u*c,b=d*h-0*c-0*u,f=0,p=this.NavigationModel.ProductTransformModels;f<p.length;){var m=p[f];++f;var S=m.ProductOrientation,C=S.X,y=S.Y,k=S.Z,V=S.W;m.ProductOrientation={X:_*V+b*C+g*k-v*y,Y:g*V+b*y+v*C-_*k,Z:v*V+b*k+_*y-g*C,W:b*V-_*C-g*y-v*k}}}};var ss=function(e){this.CameraPosition=e.CameraPosition,this.CameraOrientation=e.CameraOrientation,this.CameraFieldOfView=e.CameraFieldOfView;for(var t=e.ProductTransformModels,n=new Array(t.length),a=0,i=t.length;a<i;){var r=a++,o=t[r];n[r]={ProductPosition:o.ProductPosition,ProductOrientation:o.ProductOrientation}}this.ProductTransformModels=n,this.NavigationModel=this};ss.__name__=!0,ss.prototype={Update:function(e,t){}};var ls=function(e,t){this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider=t};ls.__name__=!0,ls.prototype={Update:function(e,t){e!=this.lastTime&&(this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel,this.inputProvider.Update(e,t),this.lastTime=e,null!=this.inputProvider&&null!=this.inputProvider.Gesture&&this.HandleGesture(this.inputProvider.Gesture))},HandleGesture:function(e){switch(e._hx_index){case 1:this.PerformZoom(e.position,e.distance);break;case 5:for(var t=e.gestures,n=0;n<t.length;)this.HandleGesture(t[n++]);break;default:return}},PerformZoom:function(e,t){if(0!=t){var n=this.NavigationModel.CameraPosition;this.NavigationModel.CameraPosition={X:n.X*t,Y:n.Y*t,Z:n.Z*t}}}};var us=function(e,t,n,a,i){null==i&&(i=10),null==a&&(a=1),this.decoratee=e,this.NavigationModel=this.decoratee.NavigationModel,this.boundingVolumeProvider=t,this.screenSizeProvider=n,this.minFactor=a,this.maxFactor=i,this.ZoomLimiterObserver=new ds(this)};us.__name__=!0,us.prototype={_updateBoundingVolume:function(){return null==this.boundingVolumeProvider||null==this.boundingVolumeProvider.BoundingVolumes?null:this.boundingVolumeProvider.BoundingVolumes[0]},Update:function(e,t){if(null!=this.BoundingVolume&&isFinite(this.screenSizeProvider.AspectRatio)){this.decoratee.Update(e,t),this.NavigationModel=this.decoratee.NavigationModel;var n=this.BoundingVolume.DetermineOptimalZoomDistance(this.NavigationModel.CameraFieldOfView,this.screenSizeProvider.AspectRatio),a=Math.max(this.BoundingVolume.Width,Math.max(this.BoundingVolume.Height,this.BoundingVolume.Depth)),i=Math.min(Math.max(a*this.minFactor,-this.NavigationModel.CameraPosition.Z),n+a*this.maxFactor);i!=this.NavigationModel.CameraPosition.Z&&(this.NavigationModel.CameraPosition={X:this.NavigationModel.CameraPosition.X,Y:this.NavigationModel.CameraPosition.Y,Z:-i})}}};var ds=function(e){var t=this;this.state_BoundingVolume=!1;var n=function(){e.BoundingVolume=e._updateBoundingVolume(),t.state_BoundingVolume=!0},a=function(e,a){t.state_BoundingVolume=b.ScheduleCallback(t.state_BoundingVolume,n)};Ie.HiddenObserve(e,"boundingVolumeProvider",(function(e,i){null!=e&&Ie.HiddenForget(e,"BoundingVolumes",a),null!=i&&Ie.HiddenObserve(i,"BoundingVolumes",a),t.state_BoundingVolume=b.ScheduleCallback(t.state_BoundingVolume,n)})),n()};ds.__name__=!0;var cs=a["binkies.navigation.enums.Gesture"]={__ename__:!0,__constructs__:["None","Zoom","Roll","Pan","Rotate","Multiple"],None:{_hx_index:0,__enum__:"binkies.navigation.enums.Gesture",toString:n},Zoom:(t=function(e,t){return{_hx_index:1,position:e,distance:t,__enum__:"binkies.navigation.enums.Gesture",toString:n}},t.__params__=["position","distance"],t),Roll:(t=function(e,t){return{_hx_index:2,position:e,angle:t,__enum__:"binkies.navigation.enums.Gesture",toString:n}},t.__params__=["position","angle"],t),Pan:(t=function(e,t){return{_hx_index:3,currentPosition:e,delta:t,__enum__:"binkies.navigation.enums.Gesture",toString:n}},t.__params__=["currentPosition","delta"],t),Rotate:(t=function(e,t){return{_hx_index:4,yaw:e,pitch:t,__enum__:"binkies.navigation.enums.Gesture",toString:n}},t.__params__=["yaw","pitch"],t),Multiple:(t=function(e){return{_hx_index:5,gestures:e,__enum__:"binkies.navigation.enums.Gesture",toString:n}},t.__params__=["gestures"],t)},hs=function(e){this.rightButtonDownOnElement=!1,this.element=e,e.addEventListener("mousedown",dl(this,this.MouseDown)),window.addEventListener("contextmenu",dl(this,this.ContextMenu))};hs.__name__=!0,hs.prototype={MouseDown:function(e){2==e.button&&(this.rightButtonDownOnElement=!0)},ContextMenu:function(e){(this.element==e.target||this.rightButtonDownOnElement)&&e.preventDefault(),this.rightButtonDownOnElement=!1}};var _s=function(){this.Down=!1,this.InputPointObserver=new gs(this)};_s.__name__=!0,_s.prototype={_updateDelta:function(){return null==this.newPosition||null==this.Position?{X:0,Y:0}:{X:this.newPosition.X-this.Position.X,Y:this.newPosition.Y-this.Position.Y}},Enable:function(){this.enabled=!0},Disable:function(){this.enabled=!1},Update:function(){this.enabled&&(this.Position=this.newPosition)}};var gs=function(e){var t=this;this.state_Delta=!1;var n=function(){e.Delta=e._updateDelta(),t.state_Delta=!0},a=function(e,a){t.state_Delta=b.ScheduleCallback(t.state_Delta,n)},i=function(e,a){t.state_Delta=b.ScheduleCallback(t.state_Delta,n)},r=function(e,a){t.state_Delta=b.ScheduleCallback(t.state_Delta,n)},o=function(e,a){t.state_Delta=b.ScheduleCallback(t.state_Delta,n)};Ie.HiddenObserve(e,"newPosition",(function(e,r){null!=e&&(Ie.HiddenForget(e,"X",a),Ie.HiddenForget(e,"Y",i)),null!=r&&(Ie.HiddenObserve(r,"X",a),Ie.HiddenObserve(r,"Y",i)),t.state_Delta=b.ScheduleCallback(t.state_Delta,n)})),Ie.HiddenObserve(e,"Position",(function(e,a){null!=e&&(Ie.HiddenForget(e,"X",r),Ie.HiddenForget(e,"Y",o)),null!=a&&(Ie.HiddenObserve(a,"X",r),Ie.HiddenObserve(a,"Y",o)),t.state_Delta=b.ScheduleCallback(t.state_Delta,n)})),n()};gs.__name__=!0;var vs=function(e,t){_s.call(this),this.element=e,this.Button=t};vs.__name__=!0,vs.__super__=_s,vs.prototype=i(_s.prototype,{Enable:function(){this.enabled||(_s.prototype.Enable.call(this),this.element.addEventListener("mousedown",dl(this,this.MouseDown)))},Disable:function(){this.enabled&&(_s.prototype.Disable.call(this),this.element.removeEventListener("mousedown",dl(this,this.MouseDown)),window.removeEventListener("mouseup",dl(this,this.MouseUp)),window.removeEventListener("mousemove",dl(this,this.MouseMove)))},MouseDown:function(e){if(this.EventIsForMe(e)){this.Down=!0;var t,n=this.element;if(e.target==n)t={X:e.offsetX,Y:e.offsetY};else{var a=e.clientX,i=e.clientY,r=n.getBoundingClientRect();t={X:a-r.left,Y:i-r.top}}this.newPosition=t,e.preventDefault(),window.addEventListener("mouseup",dl(this,this.MouseUp)),window.addEventListener("mousemove",dl(this,this.MouseMove))}},MouseUp:function(e){this.EventIsForMe(e)&&(this.Down=!1,this.newPosition=null,e.preventDefault(),window.removeEventListener("mouseup",dl(this,this.MouseUp)),window.removeEventListener("mousemove",dl(this,this.MouseMove)))},MouseMove:function(e){var t,n=this.element;if(e.target==n)t={X:e.offsetX,Y:e.offsetY};else{var a=e.clientX,i=e.clientY,r=n.getBoundingClientRect();t={X:a-r.left,Y:i-r.top}}this.newPosition=t,e.preventDefault()},EventIsForMe:function(e){var t;switch(e.button){case 0:t="left";break;case 1:t="middle";break;case 2:t="right";break;default:t="none"}return this.Button==t}});var bs=function(e,t){_s.call(this),this.element=e,this.Index=t};bs.__name__=!0,bs.__super__=_s,bs.prototype=i(_s.prototype,{Enable:function(){this.enabled||(_s.prototype.Enable.call(this),this.element.addEventListener("touchstart",dl(this,this.TouchStart)))},Disable:function(){this.enabled&&(_s.prototype.Disable.call(this),this.element.removeEventListener("touchstart",dl(this,this.TouchStart)),this.element.removeEventListener("touchend",dl(this,this.TouchUp)),window.removeEventListener("touchmove",dl(this,this.TouchMove)))},TouchStart:function(e){if(!(null!=this.id||e.touches.length<this.Index+1)){this.id=e.touches[this.Index].identifier,this.Down=!0;var t=this.FindTouch(e.touches),n=t.clientX,a=t.clientY,i=this.element.getBoundingClientRect();this.newPosition={X:n-i.left,Y:a-i.top},this.element.addEventListener("touchend",dl(this,this.TouchUp)),window.addEventListener("touchmove",dl(this,this.TouchMove),{passive:!1}),e.preventDefault()}},TouchUp:function(e){this.EventIsForMe(e)&&(this.Down=!1,this.newPosition=null,this.id=null,this.element.removeEventListener("touchend",dl(this,this.TouchUp)),window.removeEventListener("touchmove",dl(this,this.TouchMove)),e.preventDefault())},TouchMove:function(e){if(this.EventIsForMe(e)){var t=this.FindTouch(e.touches),n=t.clientX,a=t.clientY,i=this.element.getBoundingClientRect();this.newPosition={X:n-i.left,Y:a-i.top},e.preventDefault()}},EventIsForMe:function(e){for(var t=0,n=e.changedTouches;t<n.length;)if(n[t++].identifier==this.id)return!0;return!1},FindTouch:function(e){for(var t=0;t<e.length;){var n=e[t];if(++t,n.identifier==this.id)return n}return null}});var fs=function(){this.ProductTransformModels=[]};fs.__name__=!0;var ps=function(e){for(var t=new Array(e.length),n=0,a=e.length;n<a;){var i=n++;t[i]=this.computeBoundingBox(e[i])}this.BoundingVolumes=t};ps.__name__=!0,ps.prototype={computeBoundingBox:function(e){var t=this.getBoundingBoxFromModom(e);return t.MoveTo({X:0,Y:0,Z:0}),t},getBoundingBoxFromModom:function(e){if(null==e)return null;var t=e.Nodes;if(null==t)return null;for(var n=1/0,a=-1/0,i=1/0,r=-1/0,o=1/0,s=-1/0,l=0;l<t.length;){var u=t[l];++l,null!=u.Values&&Object.prototype.hasOwnProperty.call(u.Values,"aabbMaxX")&&Object.prototype.hasOwnProperty.call(u.Values,"aabbMaxY")&&Object.prototype.hasOwnProperty.call(u.Values,"aabbMaxZ")&&Object.prototype.hasOwnProperty.call(u.Values,"aabbMinX")&&Object.prototype.hasOwnProperty.call(u.Values,"aabbMinY")&&Object.prototype.hasOwnProperty.call(u.Values,"aabbMinZ")&&(a<u.Values.aabbMaxX&&(a=u.Values.aabbMaxX),r<u.Values.aabbMaxY&&(r=u.Values.aabbMaxY),s<u.Values.aabbMaxZ&&(s=u.Values.aabbMaxZ),n>u.Values.aabbMinX&&(n=u.Values.aabbMinX),i>u.Values.aabbMinY&&(i=u.Values.aabbMinY),o>u.Values.aabbMinZ&&(o=u.Values.aabbMinZ))}var d=r-i;return new _o(n,a,i-d/2,r-d/2,o,s)}};var ms=function(e){this.inputProvider=e,this.InertiaProviderObserver=new Ss(this)};ms.__name__=!0,ms.ApplyInertia=function(e,t){switch(e._hx_index){case 0:return cs.None;case 1:var n=e.distance;return Math.abs(n-1)<.001?cs.None:cs.Zoom(e.position,(n-1)*t+1);case 2:var a=e.angle;return Math.abs(a)<.005?cs.None:cs.Roll(e.position,a*t);case 3:var i=e.delta;return Math.abs(i.X)<.001&&Math.abs(i.Y)<.001?cs.None:cs.Pan(e.currentPosition,{X:i.X*t,Y:i.Y*t});case 4:var r=e.pitch,o=e.yaw;return Math.abs(o)<.001&&Math.abs(r)<.001?cs.None:cs.Rotate(o*t,r*t);case 5:for(var s=e.gestures,l=new Array(s.length),u=0,d=s.length;u<d;){var c=u++;l[c]=ms.ApplyInertia(s[c],t)}return cs.Multiple(l)}},ms.prototype={_updateGesture:function(){return null==this.inputProvider?cs.None:this.inputProvider.Gesture!=cs.None?this.inputProvider.Gesture:this.previousGesture},Update:function(e,t){null!=this.inputProvider&&e!=this.lastTime&&(this.inputProvider.Update(e,t),this.lastTime=e,this.inputProvider.Gesture==cs.None?this.previousGesture!=cs.None&&null!=this.previousGesture&&(this.previousGesture=ms.ApplyInertia(this.previousGesture,Math.pow(.85,30*t))):this.previousGesture=this.inputProvider.Gesture)},_updateIsUserInteracting:function(){return this.inputProvider.IsUserInteracting}};var Ss=function(e){var t=this;this.state_Gesture=!1,this.state_IsUserInteracting=!1;var n=function(){e.Gesture=e._updateGesture(),t.state_Gesture=!0},a=function(){e.IsUserInteracting=e._updateIsUserInteracting(),t.state_IsUserInteracting=!0},i=function(e,a){t.state_Gesture=b.ScheduleCallback(t.state_Gesture,n)},r=function(e,n){t.state_IsUserInteracting=b.ScheduleCallback(t.state_IsUserInteracting,a)};Ie.HiddenObserve(e,"inputProvider",(function(e,o){null!=e&&(Ie.HiddenForget(e,"Gesture",i),Ie.HiddenForget(e,"IsUserInteracting",r)),null!=o&&(Ie.HiddenObserve(o,"Gesture",i),Ie.HiddenObserve(o,"IsUserInteracting",r)),t.state_Gesture=b.ScheduleCallback(t.state_Gesture,n),t.state_IsUserInteracting=b.ScheduleCallback(t.state_IsUserInteracting,a)})),Ie.HiddenObserve(e,"previousGesture",(function(e,a){t.state_Gesture=b.ScheduleCallback(t.state_Gesture,n)})),n(),a()};Ss.__name__=!0;var Cs=function(){this.PassThroughProviderObserver=new ys(this)};Cs.__name__=!0,Cs.prototype={_updateGesture:function(){return null==this.gestureProvider?cs.None:this.gestureProvider.Gesture},_updateBoundingVolumes:function(){return null==this.boundingVolumeProvider?null:this.boundingVolumeProvider.BoundingVolumes},_updateWidth:function(){return null==this.screenSizeProvider?0:this.screenSizeProvider.Width},_updateHeight:function(){return null==this.screenSizeProvider?0:this.screenSizeProvider.Height},_updateAspectRatio:function(){return null==this.screenSizeProvider?0:this.screenSizeProvider.AspectRatio},_updatePixelRatio:function(){return null==this.screenSizeProvider?0:this.screenSizeProvider.PixelRatio},ScreenPointToRay:function(e){return null==this.rayProvider?null:this.rayProvider.ScreenPointToRay(e)},Update:function(e,t){null!=this.gestureProvider&&this.gestureProvider.Update(e,t)},SetGestureProvider:function(e){this.gestureProvider=e},SetRayProvider:function(e){this.rayProvider=e},SetBoundingVolumeProvider:function(e){this.boundingVolumeProvider=e},SetScreenSizeProvider:function(e){this.screenSizeProvider=e},_updateIsUserInteracting:function(){return null==this.gestureProvider?null:this.gestureProvider.IsUserInteracting}};var ys=function(e){var t=this;this.state_Gesture=!1,this.state_BoundingVolumes=!1,this.state_Width=!1,this.state_Height=!1,this.state_AspectRatio=!1,this.state_PixelRatio=!1,this.state_IsUserInteracting=!1;var n=function(){e.Gesture=e._updateGesture(),t.state_Gesture=!0},a=function(){e.BoundingVolumes=e._updateBoundingVolumes(),t.state_BoundingVolumes=!0},i=function(){e.Width=e._updateWidth(),t.state_Width=!0},r=function(){e.Height=e._updateHeight(),t.state_Height=!0},o=function(){e.AspectRatio=e._updateAspectRatio(),t.state_AspectRatio=!0},s=function(){e.PixelRatio=e._updatePixelRatio(),t.state_PixelRatio=!0},l=function(){e.IsUserInteracting=e._updateIsUserInteracting(),t.state_IsUserInteracting=!0},u=function(e,a){t.state_Gesture=b.ScheduleCallback(t.state_Gesture,n)},d=function(e,n){t.state_IsUserInteracting=b.ScheduleCallback(t.state_IsUserInteracting,l)},c=function(e,n){t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,a)},h=function(e,n){t.state_Width=b.ScheduleCallback(t.state_Width,i)},_=function(e,n){t.state_Height=b.ScheduleCallback(t.state_Height,r)},g=function(e,n){t.state_AspectRatio=b.ScheduleCallback(t.state_AspectRatio,o)},v=function(e,n){t.state_PixelRatio=b.ScheduleCallback(t.state_PixelRatio,s)};Ie.HiddenObserve(e,"gestureProvider",(function(e,a){null!=e&&(Ie.HiddenForget(e,"Gesture",u),Ie.HiddenForget(e,"IsUserInteracting",d)),null!=a&&(Ie.HiddenObserve(a,"Gesture",u),Ie.HiddenObserve(a,"IsUserInteracting",d)),t.state_Gesture=b.ScheduleCallback(t.state_Gesture,n),t.state_IsUserInteracting=b.ScheduleCallback(t.state_IsUserInteracting,l)})),Ie.HiddenObserve(e,"boundingVolumeProvider",(function(e,n){null!=e&&Ie.HiddenForget(e,"BoundingVolumes",c),null!=n&&Ie.HiddenObserve(n,"BoundingVolumes",c),t.state_BoundingVolumes=b.ScheduleCallback(t.state_BoundingVolumes,a)})),Ie.HiddenObserve(e,"screenSizeProvider",(function(e,n){null!=e&&(Ie.HiddenForget(e,"Width",h),Ie.HiddenForget(e,"Height",_),Ie.HiddenForget(e,"AspectRatio",g),Ie.HiddenForget(e,"PixelRatio",v)),null!=n&&(Ie.HiddenObserve(n,"Width",h),Ie.HiddenObserve(n,"Height",_),Ie.HiddenObserve(n,"AspectRatio",g),Ie.HiddenObserve(n,"PixelRatio",v)),t.state_Width=b.ScheduleCallback(t.state_Width,i),t.state_Height=b.ScheduleCallback(t.state_Height,r),t.state_AspectRatio=b.ScheduleCallback(t.state_AspectRatio,o),t.state_PixelRatio=b.ScheduleCallback(t.state_PixelRatio,s)})),n(),a(),i(),r(),o(),s(),l()};ys.__name__=!0;var ks=function(e){this.navigator=e,this.connectionSpeed=this.IsHighSpeedConnection()?"high":"low"};ks.__name__=!0,ks.prototype={IsHighSpeedConnection:function(){var e=this.GetDownlink();if(null!=e&&e<2)return!1;switch(this.GetNetworkType()){case"bluetooth":case"cellular":case"none":case"other":case"unknown":return!1}return!0},GetDownlink:function(){return null==this.navigator||null==this.navigator.connection||null==this.navigator.connection.downlink?null:this.navigator.connection.downlink},GetNetworkType:function(){return null==this.navigator||null==this.navigator.connection||null==this.navigator.connection.type?null:this.navigator.connection.type}};var Vs=function(){this.children=[],this.Parent=null,this.context=null};Vs.__name__=!0;var Hs=function(e){this.pickingEventListeners=0,this.eventListeners={Length:0},this.localTransform=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.worldTransform=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Vs.call(this),this.Type=e,this.UpdateWorldTransform()};Hs.__name__=!0,Hs.__super__=Vs,Hs.prototype=i(Vs.prototype,{UpdateWorldTransform:function(){if(null==this.Parent)this.WorldTransform=this.localTransform;else{this.WorldTransform=this.worldTransform;var e=this.Parent.WorldTransform,t=this.localTransform,n=this.worldTransform;n[0]=e[0]*t[0]+e[1]*t[4]+e[2]*t[8],n[1]=e[0]*t[1]+e[1]*t[5]+e[2]*t[9],n[2]=e[0]*t[2]+e[1]*t[6]+e[2]*t[10],n[3]=e[0]*t[3]+e[1]*t[7]+e[2]*t[11]+e[3],n[4]=e[4]*t[0]+e[5]*t[4]+e[6]*t[8],n[5]=e[4]*t[1]+e[5]*t[5]+e[6]*t[9],n[6]=e[4]*t[2]+e[5]*t[6]+e[6]*t[10],n[7]=e[4]*t[3]+e[5]*t[7]+e[6]*t[11]+e[7],n[8]=e[8]*t[0]+e[9]*t[4]+e[10]*t[8],n[9]=e[8]*t[1]+e[9]*t[5]+e[10]*t[9],n[10]=e[8]*t[2]+e[9]*t[6]+e[10]*t[10],n[11]=e[8]*t[3]+e[9]*t[7]+e[10]*t[11]+e[11]}this.WorldTransform._c=it.matrixChanges++;for(var a=0,i=this.children;a<i.length;)i[a++].UpdateWorldTransform()},FireEvent:function(e,t,n){var a=this.eventListeners[e];null!=a&&a(t,n)}});var Os=function(){this.directionInModelSpace={X:0,Y:0,Z:0},this.startInModelSpace={X:0,Y:0,Z:0},this.cursorDownLastFrame=!1,this.closestRenderableLastFrame=null,this.FieldOfView=25,this.Zero={X:0,Y:0,Z:0},this.FarPlane=5,this.NearPlane=.01,this.effectiveFieldOfView=25,this.viewProjectionTransform=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.viewTransform=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.projectionTransform=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Hs.call(this,1),this.renderQueue=new Ds(this)};Os.__name__=!0,Os.__super__=Hs,Os.prototype=i(Hs.prototype,{Draw:function(){if(null!=this.context.Lightmap&&this.context.Lightmap.Loaded){this.context.Device.EnsureCorrectBackbufferSize(),this.context.Device.Clear();var e=this.NearPlane,t=this.FarPlane,n=this.projectionTransform,a=this.context.Device.Width/this.context.Device.Height,i=.00872664626*this.FieldOfView;this.effectiveFieldOfView=a>1?Math.atan(a*Math.tan(i)):i;var r=1/Math.tan(this.effectiveFieldOfView),o=t/(t-e);n[0]=r,n[5]=r*a,n[10]=o,n[11]=-e*o,n[14]=1,n._c=it.matrixChanges++,this.UpdateViewTransform(this.viewTransform);var s=this.viewTransform,l=this.projectionTransform,u=this.viewProjectionTransform;u[0]=l[0]*s[0],u[1]=l[0]*s[1],u[2]=l[0]*s[2],u[3]=l[0]*s[3],u[4]=l[5]*s[4],u[5]=l[5]*s[5],u[6]=l[5]*s[6],u[7]=l[5]*s[7],u[8]=l[10]*s[8],u[9]=l[10]*s[9],u[10]=l[10]*s[10],u[11]=l[10]*s[11]+l[11],u[12]=l[14]*s[8],u[13]=l[14]*s[9],u[14]=l[14]*s[10],u[15]=s[11],u._c=it.matrixChanges++,Re.ViewTransform=this.viewTransform,Re.ProjectionTransform=this.projectionTransform,Re.ViewProjectionTransform=this.viewProjectionTransform,Re.Lightmap=this.context.Lightmap,Re.Brdf=this.context.Brdf,Re.Irradiance=this.context.Irradiance,Re.Radiance=this.context.Radiance,Re.CameraPosition={X:this.WorldTransform[3],Y:this.WorldTransform[7],Z:this.WorldTransform[11]},Re.RingTexture=this.context.Device.RingTexture,Re.Exposure=this.context.Exposure,this.renderQueue.Sort();for(var d=0,c=this.renderQueue.items;d<c.length;){var h=c[d];if(++d,h.Visible){var _=h.Renderable;Re.World=_.WorldTransform,Re.AnisotropicPosition=null!=_.AnisotropicPosition?_.AnisotropicPosition:this.Zero,Re.RenderableAmbientOcclusionIntensity=null!=_.AmbientOcclusionIntensity?_.AmbientOcclusionIntensity:1,Re.DepthOffset=3==h.Renderable.Type&&h.Transparent?-.0035*this.NearPlane:0;for(var g=0,v=_.Materials;g<v.length;)v[g++].Draw()}}}},UpdateViewTransform:function(e){var t=this.WorldTransform[3],n=this.WorldTransform[7],a=this.WorldTransform[11],i=this.WorldTransform[0],r=this.WorldTransform[4],o=this.WorldTransform[8],s=this.WorldTransform[1],l=this.WorldTransform[5],u=this.WorldTransform[9],d=this.WorldTransform[2],c=this.WorldTransform[6],h=this.WorldTransform[10];e[0]=i,e[4]=s,e[8]=d,e[1]=r,e[5]=l,e[9]=c,e[2]=o,e[6]=u,e[10]=h,e[3]=-1*(i*t+r*n+o*a),e[7]=-1*(s*t+l*n+u*a),e[11]=-1*(d*t+c*n+h*a),e[15]=1,e._c=it.matrixChanges++},Pick:function(){var e=null,t=1/0;if(null!=this.context.Device.CursorX||null==this.context.Device.CursorY)for(var n=.5*this.context.Device.Width,a=.5*this.context.Device.Height,i=Math.tan(this.effectiveFieldOfView)*(this.context.Device.CursorX/n-1),r=Math.tan(this.effectiveFieldOfView)*(1-this.context.Device.CursorY/a)/(n/a),o=i*this.NearPlane,s=r*this.NearPlane,l=this.NearPlane,u=this.WorldTransform[0]*o+this.WorldTransform[1]*s+this.WorldTransform[2]*l+this.WorldTransform[3],d=this.WorldTransform[4]*o+this.WorldTransform[5]*s+this.WorldTransform[6]*l+this.WorldTransform[7],c=this.WorldTransform[8]*o+this.WorldTransform[9]*s+this.WorldTransform[10]*l+this.WorldTransform[11],h=i*this.FarPlane,_=r*this.FarPlane,g=this.FarPlane,v=this.WorldTransform[0]*h+this.WorldTransform[1]*_+this.WorldTransform[2]*g+this.WorldTransform[3]-u,b=this.WorldTransform[4]*h+this.WorldTransform[5]*_+this.WorldTransform[6]*g+this.WorldTransform[7]-d,f=this.WorldTransform[8]*h+this.WorldTransform[9]*_+this.WorldTransform[10]*g+this.WorldTransform[11]-c,p=Math.sqrt(v*v+b*b+f*f),m=v*(p=0==p?1:1/p),S=b*p,C=f*p,y=0,k=this.renderQueue.items;y<k.length;){var V=k[y];if(++y,V.Visible){var H=V.Renderable;if(null!=H.AxisAlignedBoundingBox&&0!=H.pickingEventListeners){var O=u-H.WorldTransform[3],w=d-H.WorldTransform[7],F=c-H.WorldTransform[11];this.startInModelSpace.X=O*H.WorldTransform[0]+w*H.WorldTransform[4]+F*H.WorldTransform[8],this.startInModelSpace.Y=O*H.WorldTransform[1]+w*H.WorldTransform[5]+F*H.WorldTransform[9],this.startInModelSpace.Z=O*H.WorldTransform[2]+w*H.WorldTransform[6]+F*H.WorldTransform[10],this.directionInModelSpace.X=m*H.WorldTransform[0]+S*H.WorldTransform[4]+C*H.WorldTransform[8],this.directionInModelSpace.Y=m*H.WorldTransform[1]+S*H.WorldTransform[5]+C*H.WorldTransform[9],this.directionInModelSpace.Z=m*H.WorldTransform[2]+S*H.WorldTransform[6]+C*H.WorldTransform[10],po.Perform(this.startInModelSpace,this.directionInModelSpace,H.AxisAlignedBoundingBox),po.Hit&&(So.Perform(this.startInModelSpace,this.directionInModelSpace,H.Mesh),So.Hit&&So.Distance-(3==V.Renderable.Type?.0035*this.NearPlane:0)<t&&(t=So.Distance,e=H))}}}this.closestRenderableLastFrame!=e&&(null!=this.closestRenderableLastFrame&&this.closestRenderableLastFrame.FireEvent("cursorleave"),null!=e&&e.FireEvent("cursorenter")),!this.cursorDownLastFrame&&this.context.Device.CursorDown&&(this.pressedRenderable=e,null!=e&&e.FireEvent("cursordown")),this.cursorDownLastFrame&&!this.context.Device.CursorDown&&(null!=e&&e.FireEvent("cursorup"),null!=this.pressedRenderable&&this.pressedRenderable==e&&this.pressedRenderable.FireEvent("cursorclick"),this.pressedRenderable=null),this.closestRenderableLastFrame=e,this.cursorDownLastFrame=this.context.Device.CursorDown}});var ws=function(){this.Visible=!0,this.AmbientOcclusionIntensity=null,this.AnisotropicPosition=null,this.Materials=[];var e=this;Hs.call(this,2),Ie.HiddenObserve(this,"Materials",(function(t,n){null!=t&&(t.Renderable=null),null!=n&&(n.Renderable=e)}),!0),Ie.HiddenObserve(this,"Mesh",(function(t,n){null!=t&&(t.Renderable=null),null!=n&&(n.Renderable=e)}),!0),this.RenderableObserver=new Ps(this)};ws.__name__=!0,ws.__super__=Hs,ws.prototype=i(Hs.prototype,{_updateMesh:function(){return null},_updateDevice:function(){return null==this.context?null:this.context.Device},_updateAxisAlignedBoundingBox:function(){if(null==this.Mesh)return null;for(var e=1/0,t=1/0,n=1/0,a=-1/0,i=-1/0,r=-1/0,o=this.Mesh.Positions.Data,s=0,l=this.Mesh.NumberOfVertices;s<l;){var u=s++,d=o[3*u],c=o[3*u+1],h=o[3*u+2];e=Math.min(e,d),t=Math.min(t,c),n=Math.min(n,h),a=Math.max(a,d),i=Math.max(i,c),r=Math.max(r,h)}return new ho(e,t,n,a,i,r)}});var Fs=function(){ws.call(this),this.ModelObserver=new xs(this)};Fs.__name__=!0,Fs.__super__=ws,Fs.prototype=i(ws.prototype,{_updateMesh:function(){return null!=this.IndicesBuffer&&this.IndicesBuffer.Loaded&&null!=this.PositionsBuffer&&this.PositionsBuffer.Loaded&&null!=this.NormalsBuffer&&this.NormalsBuffer.Loaded&&null!=this.TextureCoordinatesBuffer&&this.TextureCoordinatesBuffer.Loaded&&null!=this.AmbientOcclusionsBuffer&&this.AmbientOcclusionsBuffer.Loaded?new je(this.IndicesBuffer.Data,this.PositionsBuffer.Data,this.NormalsBuffer.Data,this.TextureCoordinatesBuffer.Data,this.AmbientOcclusionsBuffer.Data):null!=this.IndicesBuffer&&this.IndicesBuffer.Loaded&&null!=this.PositionsBuffer&&this.PositionsBuffer.Loaded&&null!=this.NormalsBuffer&&this.NormalsBuffer.Loaded&&null!=this.TextureCoordinatesBuffer&&this.TextureCoordinatesBuffer.Loaded?new je(this.IndicesBuffer.Data,this.PositionsBuffer.Data,this.NormalsBuffer.Data,this.TextureCoordinatesBuffer.Data,null):null}});var xs=function(e){var t=this;this.state_Mesh=!1;var n=function(){e.Mesh=e._updateMesh(),t.state_Mesh=!0},a=function(e,a){t.state_Mesh=b.ScheduleCallback(t.state_Mesh,n)},i=function(e,a){t.state_Mesh=b.ScheduleCallback(t.state_Mesh,n)},r=function(e,a){t.state_Mesh=b.ScheduleCallback(t.state_Mesh,n)},o=function(e,a){t.state_Mesh=b.ScheduleCallback(t.state_Mesh,n)},s=function(e,a){t.state_Mesh=b.ScheduleCallback(t.state_Mesh,n)},l=function(e,a){t.state_Mesh=b.ScheduleCallback(t.state_Mesh,n)},u=function(e,a){t.state_Mesh=b.ScheduleCallback(t.state_Mesh,n)},d=function(e,a){t.state_Mesh=b.ScheduleCallback(t.state_Mesh,n)},c=function(e,a){t.state_Mesh=b.ScheduleCallback(t.state_Mesh,n)},h=function(e,a){t.state_Mesh=b.ScheduleCallback(t.state_Mesh,n)};Ie.HiddenObserve(e,"IndicesBuffer",(function(e,r){null!=e&&(Ie.HiddenForget(e,"Loaded",a),Ie.HiddenForget(e,"Data",i)),null!=r&&(Ie.HiddenObserve(r,"Loaded",a),Ie.HiddenObserve(r,"Data",i)),t.state_Mesh=b.ScheduleCallback(t.state_Mesh,n)})),Ie.HiddenObserve(e,"PositionsBuffer",(function(e,a){null!=e&&(Ie.HiddenForget(e,"Loaded",r),Ie.HiddenForget(e,"Data",o)),null!=a&&(Ie.HiddenObserve(a,"Loaded",r),Ie.HiddenObserve(a,"Data",o)),t.state_Mesh=b.ScheduleCallback(t.state_Mesh,n)})),Ie.HiddenObserve(e,"NormalsBuffer",(function(e,a){null!=e&&(Ie.HiddenForget(e,"Loaded",s),Ie.HiddenForget(e,"Data",l)),null!=a&&(Ie.HiddenObserve(a,"Loaded",s),Ie.HiddenObserve(a,"Data",l)),t.state_Mesh=b.ScheduleCallback(t.state_Mesh,n)})),Ie.HiddenObserve(e,"TextureCoordinatesBuffer",(function(e,a){null!=e&&(Ie.HiddenForget(e,"Loaded",u),Ie.HiddenForget(e,"Data",d)),null!=a&&(Ie.HiddenObserve(a,"Loaded",u),Ie.HiddenObserve(a,"Data",d)),t.state_Mesh=b.ScheduleCallback(t.state_Mesh,n)})),Ie.HiddenObserve(e,"AmbientOcclusionsBuffer",(function(e,a){null!=e&&(Ie.HiddenForget(e,"Loaded",c),Ie.HiddenForget(e,"Data",h)),null!=a&&(Ie.HiddenObserve(a,"Loaded",c),Ie.HiddenObserve(a,"Data",h)),t.state_Mesh=b.ScheduleCallback(t.state_Mesh,n)})),n()};xs.__name__=!0;var Ds=function(e){this.items=[],this.camera=e};Ds.__name__=!0,Ds.CompareItem=function(e,t){if(e.Type!=t.Type)return e.Type-t.Type;switch(e.Type){case 0:case 2:return e.SquaredDistanceToCamera-t.SquaredDistanceToCamera;case 1:return e.Renderable.Parent==t.Renderable.Parent?e.Renderable.Parent.children.indexOf(e.Renderable)-t.Renderable.Parent.children.indexOf(t.Renderable):e.SquaredDistanceToCamera-t.SquaredDistanceToCamera}},Ds.prototype={Sort:function(){for(var e=0,t=this.items;e<t.length;){var n=t[e];++e;var a=n.Renderable;n.Visible=a.Visible&&null!=a.Mesh&&a.Materials.length>0,n.Visible&&(n.Transparent=1==a.Materials[0].AlphaBlending,3==a.Type&&(n.Type=1),2==a.Type&&(n.Type=n.Transparent?2:0),n.SquaredDistanceToCamera=this.camera.WorldTransform[3]-a.WorldTransform[3]+this.camera.WorldTransform[7]-a.WorldTransform[7]+this.camera.WorldTransform[11]-a.WorldTransform[11])}m.InsertSort(this.items,Ds.CompareItem)}};var Ps=function(e){var t=this;this.state_Mesh=!1,this.state_Device=!1,this.state_AxisAlignedBoundingBox=!1;var n=function(){e.Device=e._updateDevice(),t.state_Device=!0},a=function(){e.AxisAlignedBoundingBox=e._updateAxisAlignedBoundingBox(),t.state_AxisAlignedBoundingBox=!0},i=function(e,a){t.state_Device=b.ScheduleCallback(t.state_Device,n)};Ie.HiddenObserve(e,"context",(function(e,a){null!=e&&Ie.HiddenForget(e,"Device",i),null!=a&&Ie.HiddenObserve(a,"Device",i),t.state_Device=b.ScheduleCallback(t.state_Device,n)}));var r=function(e,n){t.state_AxisAlignedBoundingBox=b.ScheduleCallback(t.state_AxisAlignedBoundingBox,a)},o=function(e,n){null!=e&&Ie.HiddenForget(e,"Data",r),null!=n&&Ie.HiddenObserve(n,"Data",r),t.state_AxisAlignedBoundingBox=b.ScheduleCallback(t.state_AxisAlignedBoundingBox,a)},s=function(e,n){t.state_AxisAlignedBoundingBox=b.ScheduleCallback(t.state_AxisAlignedBoundingBox,a)};Ie.HiddenObserve(e,"Mesh",(function(e,n){null!=e&&(Ie.HiddenForget(e,"Positions",o),Ie.HiddenForget(e,"NumberOfVertices",s)),null!=n&&(Ie.HiddenObserve(n,"Positions",o),Ie.HiddenObserve(n,"NumberOfVertices",s)),t.state_AxisAlignedBoundingBox=b.ScheduleCallback(t.state_AxisAlignedBoundingBox,a)})),e.Mesh=e._updateMesh(),t.state_Mesh=!0,n(),a()};Ps.__name__=!0;var As=function(){};As.__name__=!0;var Is=function(e){this.Exposure=1,this.cameras=[];var t=this;if(null==e)throw new rl("A world must have a device.");As.call(this),this.Device=e,e.contextLostEvent.Register((function(e){t.Device=null})),e.contextRestoredEvent.Register((function(n){t.Device=e})),Ie.HiddenObserve(this,"Lightmap",(function(e,n){null!=e&&(e.World=null),null!=n&&(n.World=t)}),!0),Ie.HiddenObserve(this,"Brdf",(function(e,n){null!=e&&(e.World=null),null!=n&&(n.World=t)}),!0),Ie.HiddenObserve(this,"Irradiance",(function(e,n){null!=e&&(e.World=null),null!=n&&(n.World=t)}),!0),Ie.HiddenObserve(this,"Radiance",(function(e,n){null!=e&&(e.World=null),null!=n&&(n.World=t)}),!0),f.nextFrameEvent.Register((function(e){if(null!=t.Device)for(var n=0,a=t.cameras;n<a.length;)a[n++].Pick()})),f.afterComputedPropertiesUpdated.Register((function(e){if(null!=t.Device)for(var n=0,a=t.cameras;n<a.length;)a[n++].Draw()}))};Is.__name__=!0,Is.__super__=As,Is.prototype=i(As.prototype,{});var Ts=function(e,t){this.transitions=[],this.defaultState=e,this.transitions=t,Ie.HiddenObserve(this,"State",dl(this,this.OnStateChanged),!0)};Ts.__name__=!0,Ts.prototype={Start:function(){this.State=this.defaultState},Stop:function(){this.State=null},OnStateChanged:function(e,t){for(var n=0,a=this.transitions;n<a.length;){var i=a[n];++n,this.IsMatchinStateTransition(i,e)&&this.DisableTransitions(i.Transitions),this.IsMatchinStateTransition(i,t)&&this.EnableTransitions(i.Transitions)}},IsMatchinStateTransition:function(e,t){return null!=t&&e.State._hx_index==t._hx_index},DisableTransitions:function(e){for(var t=0;t<e.length;)e[t++].Disable()},EnableTransitions:function(e){for(var t=this,n=0;n<e.length;)e[n++].Enable((function(e){return t.State=e}))}};var Ms=function(e,t){this.convert=e,this.activeBookmarkHandler=t,Ie.HiddenObserve(t,"Value",dl(this,this.ActiveBookmarkChanged),!0)};Ms.__name__=!0,Ms.prototype={Enable:function(e){this.onTriggered=e},ActiveBookmarkChanged:function(e,t){null!=t&&null!=this.onTriggered&&this.onTriggered(this.convert(t))},Disable:function(){this.onTriggered=null}};var Rs=function(e){this.to=e};Rs.__name__=!0,Rs.prototype={Enable:function(e){var t=this;this.onTriggered=e,this.id=window.requestAnimationFrame((function(e){t.onTriggered(t.to)}))},Disable:function(){window.cancelAnimationFrame(this.id)}};var Ns=function(e,t){this.toState=e,this.navigationFocusMode=t,Ie.HiddenObserve(t,"Value",dl(this,this.NavigationFocusModeChanged),!0)};Ns.__name__=!0,Ns.prototype={NavigationFocusModeChanged:function(e,t){"none"==t&&null!=this.onTriggered&&this.onTriggered(this.toState)},Enable:function(e){this.onTriggered=e},Disable:function(){this.onTriggered=null}};var Ls=function(){};Ls.__name__=!0,Ls.prototype={Enable:function(e){},Disable:function(){}};var Es=function(e){this.to=e};Es.__name__=!0,Es.prototype={Enable:function(e){var t=this;$.RemoveListener("resetnavigation",this.eventListener),this.eventListener=function(n,a){e(t.to)},$.AddListener("resetnavigation",this.eventListener)},Disable:function(){$.RemoveListener("resetnavigation",this.eventListener)}};var Bs=function(e,t){this.toState=e,this.screenSizeProvider=t,Ie.HiddenObserve(t,"AspectRatio",dl(this,this.ScreenSizeChanged),!0)};Bs.__name__=!0,Bs.prototype={ScreenSizeChanged:function(e,t){null!=t&&null!=this.onTriggered&&this.onTriggered(this.toState)},Enable:function(e){this.onTriggered=e},Disable:function(){this.onTriggered=null}};var Ws=function(e,t){this.gestureProvider=e,this.to=t};Ws.__name__=!0,Ws.prototype={Enable:function(e){this.onTriggered=e,Ie.HiddenObserve(this.gestureProvider,"IsUserInteracting",dl(this,this.UserInteractingChanged),!0)},UserInteractingChanged:function(e,t){t&&this.onTriggered(this.to)},Disable:function(){Ie.HiddenForget(this.gestureProvider,"IsUserInteracting",dl(this,this.UserInteractingChanged),!0)}};var Us=function(e,t){this.gestureProvider=e,this.to=t};Us.__name__=!0,Us.prototype={Enable:function(e){this.onTriggered=e,Ie.HiddenObserve(this.gestureProvider,"IsUserInteracting",dl(this,this.UserInteractingChanged),!0)},UserInteractingChanged:function(e,t){t||this.onTriggered(this.to)},Disable:function(){Ie.HiddenForget(this.gestureProvider,"IsUserInteracting",dl(this,this.UserInteractingChanged),!0)}};var Gs=function(e,t){this.timeout=e,this.to=t};Gs.__name__=!0,Gs.prototype={Enable:function(e){var t=this;this.id=window.setTimeout((function(){e(t.to)}),this.timeout)},Disable:function(){window.clearTimeout(this.id)}};var Xs=function(e,t,n,a){this.gestureProvider=e,this.activeBookmarkHandler=t,this.screenSizeProvider=n,this.navigationFocusMode=a};Xs.__name__=!0,Xs.prototype={Noop:function(){return new Ls},Timeout:function(e,t){return new Gs(e,t)},BookmarkClicked:function(e){return new Ms(e,this.activeBookmarkHandler)},StoppedInteracting:function(e){return new Us(this.gestureProvider,e)},StartInteracting:function(e){return new Ws(this.gestureProvider,e)},GoTo:function(e){return new Rs(e)},ResetNavigation:function(e){return new Es(e)},ScreenSizeChanged:function(e){return new Bs(e,this.screenSizeProvider)},NavigationFocusDisabled:function(e){return new Ns(e,this.navigationFocusMode)}};var Ys=function(e,t){this.decoratee=e,this.condition=t,this.ConditionalPassThroughObserver=new zs(this)};Ys.__name__=!0,Ys.prototype={_updateValue:function(){return this.condition.Value?this.decoratee.Value:null}};var zs=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)},i=function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)};Ie.HiddenObserve(e,"condition",(function(e,i){null!=e&&Ie.HiddenForget(e,"Value",a),null!=i&&Ie.HiddenObserve(i,"Value",a),t.state_Value=b.ScheduleCallback(t.state_Value,n)})),Ie.HiddenObserve(e,"decoratee",(function(e,a){null!=e&&Ie.HiddenForget(e,"Value",i),null!=a&&Ie.HiddenObserve(a,"Value",i),t.state_Value=b.ScheduleCallback(t.state_Value,n)})),n()};zs.__name__=!0;var Zs=function(){this.Value=null};Zs.__name__=!0;var Qs=function(e){this.gateTriggered=!1,this.initialValue=e,this.Value=e};Qs.__name__=!0,Qs.prototype={SetValue:function(e){this.gateTriggered||(this.gateTriggered=this.Value!=e,this.Value=e)}};var js=function(e,t){this.value=e,this.overrideValue=t,this.OverrideObserver=new qs(this)};js.__name__=!0,js.prototype={_updateValue:function(){return null!=this.overrideValue.Value?this.overrideValue.Value:this.value.Value}};var qs=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)},i=function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)};Ie.HiddenObserve(e,"overrideValue",(function(e,i){null!=e&&Ie.HiddenForget(e,"Value",a),null!=i&&Ie.HiddenObserve(i,"Value",a),t.state_Value=b.ScheduleCallback(t.state_Value,n)})),Ie.HiddenObserve(e,"value",(function(e,a){null!=e&&Ie.HiddenForget(e,"Value",i),null!=a&&Ie.HiddenObserve(a,"Value",i),t.state_Value=b.ScheduleCallback(t.state_Value,n)})),n()};qs.__name__=!0;var Ks=function(e){this.Decoratee=e,this.PassThroughObserver=new Js(this)};Ks.__name__=!0,Ks.prototype={_updateValue:function(){return this.Decoratee.Value}};var Js=function(e){var t=this;this.state_Value=!1;var n=function(){e.Value=e._updateValue(),t.state_Value=!0},a=function(e,a){t.state_Value=b.ScheduleCallback(t.state_Value,n)};Ie.HiddenObserve(e,"Decoratee",(function(e,i){null!=e&&Ie.HiddenForget(e,"Value",a),null!=i&&Ie.HiddenObserve(i,"Value",a),t.state_Value=b.ScheduleCallback(t.state_Value,n)})),n()};Js.__name__=!0;var $s=function(e){this.Value=e};$s.__name__=!0,$s.prototype={SetValue:function(e){this.Value=e}};var el=function(){};el.__name__=!0,el.formatOutput=function(e,t){var n=d.string(e);if(null==t)return n;var a=t.fileName+":"+t.lineNumber;if(null!=t.customParams)for(var i=0,r=t.customParams;i<r.length;)n+=", "+d.string(r[i++]);return a+": "+n},el.trace=function(e,t){var n=el.formatOutput(e,t);"undefined"!=typeof console&&null!=console.log&&console.log(n)};var tl=function(){};tl.__name__=!0,tl.IsNullOrWhiteSpace=function(e){if(null==e||""==e)return!0;for(var t=0,n=e.length;t<n;)if(" "!=e.charAt(t++))return!1;return!0};var nl=function(){this.h={}};nl.__name__=!0;var al=function(){this.h={}};al.__name__=!0,al.prototype={setReserved:function(e,t){null==this.rh&&(this.rh={}),this.rh["$"+e]=t},getReserved:function(e){return null==this.rh?null:this.rh["$"+e]}};var il=function(){};il.__name__=!0,il.firstWhere=function(e,t){if(null!=e)for(var n=0;n<e.length;){var a=e[n];if(++n,t(a))return a}return null};var rl=function(e){Error.call(this),this.val=e,Error.captureStackTrace&&Error.captureStackTrace(this,rl)};rl.__name__=!0,rl.__super__=Error,rl.prototype=i(Error.prototype,{});var ol=function(){};ol.__name__=!0,ol.__string_rec=function(e,t){if(null==e)return"null";if(t.length>=5)return"<...>";var n=typeof e;switch("function"==n&&(e.__name__||e.__ename__)&&(n="object"),n){case"function":return"<function>";case"object":if(e.__enum__){var i=a[e.__enum__],r=i.__constructs__[e._hx_index],o=i[r];return o.__params__?(t+="\t",r+"("+function(n){for(var a=[],i=0,r=o.__params__;i<r.length;){var s=r[i];i+=1,a.push(ol.__string_rec(e[s],t))}return a}().join(",")+")"):r}if(e instanceof Array){var s="[";t+="\t";for(var l=0,u=e.length;l<u;){var d=l++;s+=(d>0?",":"")+ol.__string_rec(e[d],t)}return s+="]"}var c;try{c=e.toString}catch(e){e instanceof rl&&e.val;return"???"}if(null!=c&&c!=Object.toString&&"function"==typeof c){var h=e.toString();if("[object Object]"!=h)return h}var _="{\n";t+="\t";var g=null!=e.hasOwnProperty,v=null;for(v in e)g&&!e.hasOwnProperty(v)||"prototype"!=v&&"__class__"!=v&&"__super__"!=v&&"__interfaces__"!=v&&"__properties__"!=v&&(2!=_.length&&(_+=", \n"),_+=t+v+" : "+ol.__string_rec(e[v],t));return _+="\n"+(t=t.substring(1))+"}";case"string":return e;default:return String(e)}};var sl=function(){};sl.__name__=!0,sl.getContextWebGL=function(e,t){var n=e.getContext("webgl",t);if(null!=n)return n;var a=e.getContext("experimental-webgl",t);return null!=a?a:null};var ll=function(){};function ul(e){return e instanceof Array?o.iter(e):e.iterator()}function dl(t,n){return null==n?null:(null==n.__id__&&(n.__id__=e.$haxeUID++),null==t.hx__closures__?t.hx__closures__={}:a=t.hx__closures__[n.__id__],null==a&&(a=n.bind(t),t.hx__closures__[n.__id__]=a),a);var a}ll.__name__=!0,ll.AddClass=function(e,t){if(null==e.className||""==e.className)e.className=t;else{var n=e.className.split(" ");-1==n.indexOf(t)&&(n.push(t),e.className=n.join(" "))}},ll.RemoveClass=function(e,t){var n=e.className.split(" "),a=n.indexOf(t);return-1!=a&&(n.splice(a,1),0!=n.length?e.className=n.join(" "):e.removeAttribute("class"),!0)},ll.MatchesQuerySelector=function(e,t){if(null!=e.matches)return e.matches(t);if(null!=e.matchesSelector)return e.matchesSelector(t);if(null!=e.mozMatchesSelector)return e.mozMatchesSelector(t);if(null!=e.msMatchesSelector)return e.msMatchesSelector(t);if(null!=e.oMatchesSelector)return e.oMatchesSelector(t);if(null!=e.webkitMatchesSelector)return e.webkitMatchesSelector(t);var n=null==window.document?window.document:e.ownerDocument;if(null==n)return!1;for(var a=n.querySelectorAll(t),i=a.length;--i>=0&&a.item(i)!=e;);return i>-1},ll.RemoveFromParent=function(e){return null!=e&&null!=e.parentElement&&null!=e.parentElement.removeChild(e)},e.$haxeUID|=0,null==String.fromCodePoint&&(String.fromCodePoint=function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55232+(e>>10))+String.fromCharCode(56320+(1023&e))}),String.__name__=!0,Array.__name__=!0,f.requestId=window.requestAnimationFrame(f.Update),$.listeners={},$.listenersToAdd={},$.listenersToRemove={},$.fireOnce={},$.AddListener("contentswitched",ae.HandleContentSwitched),$.MakeFireOnce("engaged"),Le.DesireAntiAliasing=Ne.FindStringQueryParameter(window.location,"binkies-desire-anti-aliasing","check"),mt.AllowSoftwareRendering=Ne.FindBooleanQueryParameter(window.location,"binkies-allow-software-rendering",!1);var cl={};Object.defineProperty(rl.prototype,"message",{get:function(){return String(this.val)}}),ol.__toStr={}.toString,b.callbacks=[],f.UpdateComputedProperties=!1,f.requestId=0,f.lastUpdateTime=0,f.nextFrameEvent=new v,f.FrameId=0,f.afterComputedPropertiesUpdated=new v,f.ElapsedTime=0,f.TotalElapsedTime=0,S.acceptedCharacters="abcdefghijklmnopqrstvwxyzABCDEFGHIJKLMNOPQRSTVWXYZ0123456789",S.stringGeneratorsByLength=new nl,D.BrowserSupportsBrotli=!1,G.Map=new WeakMap,ae.handled={},He.emptyArray=[],xe.styleConverter=new Fe,xe.registeredComponents=new al,De.htmlConverter=new xe,Ae.currentId=0,Me.nextId=0,Je.textureCache={},Je.textureClaims={},Je.shaderCache={},Je.shaderClaims={},Je.shaderId=0,Je.programCache={},Je.programClaims={},Je.bufferCache={},Je.bufferClaims={},Je.bufferId=0,it.matrixChanges=0,dt.animationName="polyfillresizeanim",dt.className="binkies-polyfill-resizeobserver",dt.divStyle="position:absolute; left:0px; top:0px; right:0px; bottom:0px; overflow:hidden; z-index:-1; visibility:hidden;",dt.childDivStyle="position:absolute; left:0px; top:0px; transition:0s;",dt.initialized=!1,xt.storage=Ft.getLocalStorage(),Pt.cssAddedToPage=!1,Ut.storage=new xt,Ut.OriginalDiplayModeID="original",Ut.cssAddedToPage=!1,gn.PixelsEReg=new r("(^-?\\d+)px",""),gn.PercentageEReg=new r("(^-?\\d+)%",""),gn.FractionEReg=new r("(^-?\\d+)fr",""),ra.rootSelector='[data-binkies-content="root"]',ra.alwaysVisibleSelector='[data-binkies-content="alwaysVisible"]',ra.pageTargetSelector='[data-binkies-content="pageTarget"]',ra.layoutSelector='[data-binkies-content="layout"]',ra.customHideableSelector='[data-binkies-content="hideWhen3DShown"]',ra.customForcedHideableSelector='[data-binkies-content="forceHideWhen3DShown"]',ra.originalContentInTargetSelector=ra.pageTargetSelector+" > :not("+ra.rootSelector+"):not("+ra.alwaysVisibleSelector+")",ra.originalContentSelector=ra.customHideableSelector+", "+ra.originalContentInTargetSelector,ra.binkiesContentSelector=ra.rootSelector+" "+ra.layoutSelector+" > :not("+ra.layoutSelector+")",ra.forcedHiddenStyle="{\n\t\ttransition: opacity .5s ease-in, visibility .5s ease-in;\n\t\topacity: 0;\n\t\tvisibility: hidden!important;\n\t}",ra.hiddenStyle="{\n\t\ttransition: opacity .5s ease-in, visibility .5s ease-in;\n\t\topacity: 0;\n\t\tvisibility: hidden;\n\t}",ra.visibleStyle="{\n\t\ttransition: opacity .5s ease-out .5s, visibility .5s ease-out .5s;\n\t\topacity: 1;\n\t\tvisibility: visible;\n\t}",ra.originalContentStyle="{\n\t\ttransition: opacity .5s ease-out .5s, visibility .5s ease-out .5s;\n\t}",ra.originalContentVisible=ra.originalContentSelector+" "+ra.originalContentStyle,ra.binkiesContentVisible=ra.binkiesContentSelector+" "+ra.visibleStyle,ra.originalContentHidden=ra.originalContentSelector+" "+ra.hiddenStyle+" "+ra.customForcedHideableSelector+" "+ra.forcedHiddenStyle,ra.binkiesContentHidden=ra.binkiesContentSelector+" "+ra.hiddenStyle,ra.shownStateStyle=ra.originalContentHidden+" "+ra.binkiesContentVisible,ra.hiddenStateStyle=ra.originalContentVisible+" "+ra.binkiesContentHidden,Ma.storage=new xt,Ra.storage=new xt,Ra.cssAddedToPage=!1,Xr.storage=new xt,mo.epsilon=1e-8,So.pos0={X:0,Y:0,Z:0},So.pos1={X:0,Y:0,Z:0},So.pos2={X:0,Y:0,Z:0},So.epsilon=1e-8,Uo.offScreenPosition={X:.5,Y:0,Z:-.5},Uo.offScreenQuaternion={X:0,Y:0,Z:0,W:1},l.main()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);